(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function Mp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ic={exports:{}},Xr={},xc={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=Symbol.for("react.element"),Dp=Symbol.for("react.portal"),Lp=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),Vp=Symbol.for("react.provider"),Gp=Symbol.for("react.context"),qp=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),Hp=Symbol.for("react.memo"),zp=Symbol.for("react.lazy"),Ql=Symbol.iterator;function $p(n){return n===null||typeof n!="object"?null:(n=Ql&&n[Ql]||n["@@iterator"],typeof n=="function"?n:null)}var kc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ac=Object.assign,Nc={};function Jt(n,e,t){this.props=n,this.context=e,this.refs=Nc,this.updater=t||kc}Jt.prototype.isReactComponent={};Jt.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Jt.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Pc(){}Pc.prototype=Jt.prototype;function Ys(n,e,t){this.props=n,this.context=e,this.refs=Nc,this.updater=t||kc}var Qs=Ys.prototype=new Pc;Qs.constructor=Ys;Ac(Qs,Jt.prototype);Qs.isPureReactComponent=!0;var bl=Array.isArray,Rc=Object.prototype.hasOwnProperty,bs={current:null},Mc={key:!0,ref:!0,__self:!0,__source:!0};function Dc(n,e,t){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)Rc.call(e,o)&&!Mc.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=t;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(n&&n.defaultProps)for(o in u=n.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Vo,type:n,key:i,ref:l,props:r,_owner:bs.current}}function Jp(n,e){return{$$typeof:Vo,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Xs(n){return typeof n=="object"&&n!==null&&n.$$typeof===Vo}function Wp(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Xl=/\/+/g;function _i(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Wp(""+n.key):e.toString(36)}function cr(n,e,t,o,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var l=!1;if(n===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case Vo:case Dp:l=!0}}if(l)return l=n,r=r(l),n=o===""?"."+_i(l,0):o,bl(r)?(t="",n!=null&&(t=n.replace(Xl,"$&/")+"/"),cr(r,e,t,"",function(d){return d})):r!=null&&(Xs(r)&&(r=Jp(r,t+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(Xl,"$&/")+"/")+n)),e.push(r)),1;if(l=0,o=o===""?".":o+":",bl(n))for(var u=0;u<n.length;u++){i=n[u];var c=o+_i(i,u);l+=cr(i,e,t,c,r)}else if(c=$p(n),typeof c=="function")for(n=c.call(n),u=0;!(i=n.next()).done;)i=i.value,c=o+_i(i,u++),l+=cr(i,e,t,c,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Oo(n,e,t){if(n==null)return n;var o=[],r=0;return cr(n,o,"","",function(i){return e.call(t,i,r++)}),o}function Kp(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ne={current:null},dr={transition:null},Op={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:dr,ReactCurrentOwner:bs};function Lc(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Oo,forEach:function(n,e,t){Oo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Oo(n,function(){e++}),e},toArray:function(n){return Oo(n,function(e){return e})||[]},only:function(n){if(!Xs(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};K.Component=Jt;K.Fragment=Lp;K.Profiler=Fp;K.PureComponent=Ys;K.StrictMode=Up;K.Suspense=Bp;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Op;K.act=Lc;K.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=Ac({},n.props),r=n.key,i=n.ref,l=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=bs.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(c in e)Rc.call(e,c)&&!Mc.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=t;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:Vo,type:n.type,key:r,ref:i,props:o,_owner:l}};K.createContext=function(n){return n={$$typeof:Gp,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Vp,_context:n},n.Consumer=n};K.createElement=Dc;K.createFactory=function(n){var e=Dc.bind(null,n);return e.type=n,e};K.createRef=function(){return{current:null}};K.forwardRef=function(n){return{$$typeof:qp,render:n}};K.isValidElement=Xs;K.lazy=function(n){return{$$typeof:zp,_payload:{_status:-1,_result:n},_init:Kp}};K.memo=function(n,e){return{$$typeof:Hp,type:n,compare:e===void 0?null:e}};K.startTransition=function(n){var e=dr.transition;dr.transition={};try{n()}finally{dr.transition=e}};K.unstable_act=Lc;K.useCallback=function(n,e){return Ne.current.useCallback(n,e)};K.useContext=function(n){return Ne.current.useContext(n)};K.useDebugValue=function(){};K.useDeferredValue=function(n){return Ne.current.useDeferredValue(n)};K.useEffect=function(n,e){return Ne.current.useEffect(n,e)};K.useId=function(){return Ne.current.useId()};K.useImperativeHandle=function(n,e,t){return Ne.current.useImperativeHandle(n,e,t)};K.useInsertionEffect=function(n,e){return Ne.current.useInsertionEffect(n,e)};K.useLayoutEffect=function(n,e){return Ne.current.useLayoutEffect(n,e)};K.useMemo=function(n,e){return Ne.current.useMemo(n,e)};K.useReducer=function(n,e,t){return Ne.current.useReducer(n,e,t)};K.useRef=function(n){return Ne.current.useRef(n)};K.useState=function(n){return Ne.current.useState(n)};K.useSyncExternalStore=function(n,e,t){return Ne.current.useSyncExternalStore(n,e,t)};K.useTransition=function(){return Ne.current.useTransition()};K.version="18.3.1";xc.exports=K;var P=xc.exports;const Uc=Mp(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp=P,Qp=Symbol.for("react.element"),bp=Symbol.for("react.fragment"),Xp=Object.prototype.hasOwnProperty,Zp=Yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jp={key:!0,ref:!0,__self:!0,__source:!0};function Fc(n,e,t){var o,r={},i=null,l=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)Xp.call(e,o)&&!jp.hasOwnProperty(o)&&(r[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:Qp,type:n,key:i,ref:l,props:r,_owner:Zp.current}}Xr.Fragment=bp;Xr.jsx=Fc;Xr.jsxs=Fc;Ic.exports=Xr;var h=Ic.exports,Wi={},Vc={exports:{}},He={},Gc={exports:{}},qc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(M,G){var H=M.length;M.push(G);e:for(;0<H;){var q=H-1>>>1,Q=M[q];if(0<r(Q,G))M[q]=G,M[H]=Q,H=q;else break e}}function t(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var G=M[0],H=M.pop();if(H!==G){M[0]=H;e:for(var q=0,Q=M.length,ee=Q>>>1;q<ee;){var ge=2*(q+1)-1,dt=M[ge],Fe=ge+1,ft=M[Fe];if(0>r(dt,H))Fe<Q&&0>r(ft,dt)?(M[q]=ft,M[Fe]=H,q=Fe):(M[q]=dt,M[ge]=H,q=ge);else if(Fe<Q&&0>r(ft,H))M[q]=ft,M[Fe]=H,q=Fe;else break e}}return G}function r(M,G){var H=M.sortIndex-G.sortIndex;return H!==0?H:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,m=null,p=3,_=!1,C=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var G=t(d);G!==null;){if(G.callback===null)o(d);else if(G.startTime<=M)o(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=t(d)}}function S(M){if(T=!1,v(M),!C)if(t(c)!==null)C=!0,Z(E);else{var G=t(d);G!==null&&pe(S,G.startTime-M)}}function E(M,G){C=!1,T&&(T=!1,y(k),k=-1),_=!0;var H=p;try{for(v(G),m=t(c);m!==null&&(!(m.expirationTime>G)||M&&!V());){var q=m.callback;if(typeof q=="function"){m.callback=null,p=m.priorityLevel;var Q=q(m.expirationTime<=G);G=n.unstable_now(),typeof Q=="function"?m.callback=Q:m===t(c)&&o(c),v(G)}else o(c);m=t(c)}if(m!==null)var ee=!0;else{var ge=t(d);ge!==null&&pe(S,ge.startTime-G),ee=!1}return ee}finally{m=null,p=H,_=!1}}var I=!1,x=null,k=-1,R=5,N=-1;function V(){return!(n.unstable_now()-N<R)}function z(){if(x!==null){var M=n.unstable_now();N=M;var G=!0;try{G=x(!0,M)}finally{G?X():(I=!1,x=null)}}else I=!1}var X;if(typeof g=="function")X=function(){g(z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,j=J.port2;J.port1.onmessage=z,X=function(){j.postMessage(null)}}else X=function(){w(z,0)};function Z(M){x=M,I||(I=!0,X())}function pe(M,G){k=w(function(){M(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){C||_||(C=!0,Z(E))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(M){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var H=p;p=G;try{return M()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=p;p=M;try{return G()}finally{p=H}},n.unstable_scheduleCallback=function(M,G,H){var q=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,M){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,M={id:f++,callback:G,priorityLevel:M,startTime:H,expirationTime:Q,sortIndex:-1},H>q?(M.sortIndex=H,e(d,M),t(c)===null&&M===t(d)&&(T?(y(k),k=-1):T=!0,pe(S,H-q))):(M.sortIndex=Q,e(c,M),C||_||(C=!0,Z(E))),M},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(M){var G=p;return function(){var H=p;p=G;try{return M.apply(this,arguments)}finally{p=H}}}})(qc);Gc.exports=qc;var em=Gc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=P,Be=em;function A(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bc=new Set,Co={};function at(n,e){Vt(n,e),Vt(n+"Capture",e)}function Vt(n,e){for(Co[n]=e,n=0;n<e.length;n++)Bc.add(e[n])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ki=Object.prototype.hasOwnProperty,tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zl={},jl={};function om(n){return Ki.call(jl,n)?!0:Ki.call(Zl,n)?!1:tm.test(n)?jl[n]=!0:(Zl[n]=!0,!1)}function rm(n,e,t,o){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function im(n,e,t,o){if(e===null||typeof e>"u"||rm(n,e,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(n,e,t,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Te[n]=new Pe(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Te[e]=new Pe(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Te[n]=new Pe(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Te[n]=new Pe(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Te[n]=new Pe(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Te[n]=new Pe(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Te[n]=new Pe(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Te[n]=new Pe(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Te[n]=new Pe(n,5,!1,n.toLowerCase(),null,!1,!1)});var Zs=/[\-:]([a-z])/g;function js(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Zs,js);Te[e]=new Pe(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Zs,js);Te[e]=new Pe(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Zs,js);Te[e]=new Pe(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Te[n]=new Pe(n,1,!1,n.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Te[n]=new Pe(n,1,!1,n.toLowerCase(),null,!0,!0)});function el(n,e,t,o){var r=Te.hasOwnProperty(e)?Te[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(im(e,t,r,o)&&(t=null),o||r===null?om(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,o=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,o?n.setAttributeNS(o,e,t):n.setAttribute(e,t))))}var En=nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for("react.element"),mt=Symbol.for("react.portal"),ht=Symbol.for("react.fragment"),nl=Symbol.for("react.strict_mode"),Oi=Symbol.for("react.profiler"),Hc=Symbol.for("react.provider"),zc=Symbol.for("react.context"),tl=Symbol.for("react.forward_ref"),Yi=Symbol.for("react.suspense"),Qi=Symbol.for("react.suspense_list"),ol=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),$c=Symbol.for("react.offscreen"),ea=Symbol.iterator;function bt(n){return n===null||typeof n!="object"?null:(n=ea&&n[ea]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Object.assign,vi;function io(n){if(vi===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);vi=e&&e[1]||""}return`
`+vi+n}var Ci=!1;function Ti(n,e){if(!n||Ci)return"";Ci=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){o=d}n.call(e.prototype)}else{try{throw Error()}catch(d){o=d}n()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=l&&0<=u);break}}}finally{Ci=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?io(n):""}function sm(n){switch(n.tag){case 5:return io(n.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return n=Ti(n.type,!1),n;case 11:return n=Ti(n.type.render,!1),n;case 1:return n=Ti(n.type,!0),n;default:return""}}function bi(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ht:return"Fragment";case mt:return"Portal";case Oi:return"Profiler";case nl:return"StrictMode";case Yi:return"Suspense";case Qi:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case zc:return(n.displayName||"Context")+".Consumer";case Hc:return(n._context.displayName||"Context")+".Provider";case tl:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ol:return e=n.displayName||null,e!==null?e:bi(n.type)||"Memo";case xn:e=n._payload,n=n._init;try{return bi(n(e))}catch{}}return null}function lm(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bi(e);case 8:return e===nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jc(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function am(n){var e=Jc(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Qo(n){n._valueTracker||(n._valueTracker=am(n))}function Wc(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),o="";return n&&(o=Jc(n)?n.checked?"true":"false":n.value),n=o,n!==t?(e.setValue(n),!0):!1}function wr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Xi(n,e){var t=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function na(n,e){var t=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;t=Bn(e.value!=null?e.value:t),n._wrapperState={initialChecked:o,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kc(n,e){e=e.checked,e!=null&&el(n,"checked",e,!1)}function Zi(n,e){Kc(n,e);var t=Bn(e.value),o=e.type;if(t!=null)o==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ji(n,e.type,t):e.hasOwnProperty("defaultValue")&&ji(n,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function ta(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ji(n,e,t){(e!=="number"||wr(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var so=Array.isArray;function kt(n,e,t,o){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&o&&(n[t].defaultSelected=!0)}else{for(t=""+Bn(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,o&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function es(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function oa(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(A(92));if(so(t)){if(1<t.length)throw Error(A(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Bn(t)}}function Oc(n,e){var t=Bn(e.value),o=Bn(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),o!=null&&(n.defaultValue=""+o)}function ra(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Yc(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ns(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Yc(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var bo,Qc=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,o,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,o,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(bo=bo||document.createElement("div"),bo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function To(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},um=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(n){um.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),uo[e]=uo[n]})});function bc(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||uo.hasOwnProperty(n)&&uo[n]?(""+e).trim():e+"px"}function Xc(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var o=t.indexOf("--")===0,r=bc(t,e[t],o);t==="float"&&(t="cssFloat"),o?n.setProperty(t,r):n[t]=r}}var cm=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ts(n,e){if(e){if(cm[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function os(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function rl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var is=null,At=null,Nt=null;function ia(n){if(n=Bo(n)){if(typeof is!="function")throw Error(A(280));var e=n.stateNode;e&&(e=ti(e),is(n.stateNode,n.type,e))}}function Zc(n){At?Nt?Nt.push(n):Nt=[n]:At=n}function jc(){if(At){var n=At,e=Nt;if(Nt=At=null,ia(n),e)for(n=0;n<e.length;n++)ia(e[n])}}function ed(n,e){return n(e)}function nd(){}var Si=!1;function td(n,e,t){if(Si)return n(e,t);Si=!0;try{return ed(n,e,t)}finally{Si=!1,(At!==null||Nt!==null)&&(nd(),jc())}}function So(n,e){var t=n.stateNode;if(t===null)return null;var o=ti(t);if(o===null)return null;t=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(A(231,e,typeof t));return t}var ss=!1;if(vn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ss=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ss=!1}function dm(n,e,t,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(f){this.onError(f)}}var co=!1,Ir=null,xr=!1,ls=null,fm={onError:function(n){co=!0,Ir=n}};function pm(n,e,t,o,r,i,l,u,c){co=!1,Ir=null,dm.apply(fm,arguments)}function mm(n,e,t,o,r,i,l,u,c){if(pm.apply(this,arguments),co){if(co){var d=Ir;co=!1,Ir=null}else throw Error(A(198));xr||(xr=!0,ls=d)}}function ut(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function od(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function sa(n){if(ut(n)!==n)throw Error(A(188))}function hm(n){var e=n.alternate;if(!e){if(e=ut(n),e===null)throw Error(A(188));return e!==n?null:n}for(var t=n,o=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){t=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return sa(r),n;if(i===o)return sa(r),e;i=i.sibling}throw Error(A(188))}if(t.return!==o.return)t=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===t){l=!0,t=r,o=i;break}if(u===o){l=!0,o=r,t=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===t){l=!0,t=i,o=r;break}if(u===o){l=!0,o=i,t=r;break}u=u.sibling}if(!l)throw Error(A(189))}}if(t.alternate!==o)throw Error(A(190))}if(t.tag!==3)throw Error(A(188));return t.stateNode.current===t?n:e}function rd(n){return n=hm(n),n!==null?id(n):null}function id(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=id(n);if(e!==null)return e;n=n.sibling}return null}var sd=Be.unstable_scheduleCallback,la=Be.unstable_cancelCallback,gm=Be.unstable_shouldYield,ym=Be.unstable_requestPaint,de=Be.unstable_now,_m=Be.unstable_getCurrentPriorityLevel,il=Be.unstable_ImmediatePriority,ld=Be.unstable_UserBlockingPriority,kr=Be.unstable_NormalPriority,vm=Be.unstable_LowPriority,ad=Be.unstable_IdlePriority,Zr=null,fn=null;function Cm(n){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Zr,n,void 0,(n.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Em,Tm=Math.log,Sm=Math.LN2;function Em(n){return n>>>=0,n===0?32:31-(Tm(n)/Sm|0)|0}var Xo=64,Zo=4194304;function lo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ar(n,e){var t=n.pendingLanes;if(t===0)return 0;var o=0,r=n.suspendedLanes,i=n.pingedLanes,l=t&268435455;if(l!==0){var u=l&~r;u!==0?o=lo(u):(i&=l,i!==0&&(o=lo(i)))}else l=t&~r,l!==0?o=lo(l):i!==0&&(o=lo(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)t=31-on(e),r=1<<t,o|=n[t],e&=~r;return o}function wm(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Im(n,e){for(var t=n.suspendedLanes,o=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var l=31-on(i),u=1<<l,c=r[l];c===-1?(!(u&t)||u&o)&&(r[l]=wm(u,e)):c<=e&&(n.expiredLanes|=u),i&=~u}}function as(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ud(){var n=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),n}function Ei(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Go(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-on(e),n[e]=t}function xm(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-on(t),i=1<<r;e[r]=0,o[r]=-1,n[r]=-1,t&=~i}}function sl(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var o=31-on(t),r=1<<o;r&e|n[o]&e&&(n[o]|=e),t&=~r}}var b=0;function cd(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var dd,ll,fd,pd,md,us=!1,jo=[],Mn=null,Dn=null,Ln=null,Eo=new Map,wo=new Map,An=[],km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aa(n,e){switch(n){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(e.pointerId)}}function Zt(n,e,t,o,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Bo(e),e!==null&&ll(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function Am(n,e,t,o,r){switch(e){case"focusin":return Mn=Zt(Mn,n,e,t,o,r),!0;case"dragenter":return Dn=Zt(Dn,n,e,t,o,r),!0;case"mouseover":return Ln=Zt(Ln,n,e,t,o,r),!0;case"pointerover":var i=r.pointerId;return Eo.set(i,Zt(Eo.get(i)||null,n,e,t,o,r)),!0;case"gotpointercapture":return i=r.pointerId,wo.set(i,Zt(wo.get(i)||null,n,e,t,o,r)),!0}return!1}function hd(n){var e=Xn(n.target);if(e!==null){var t=ut(e);if(t!==null){if(e=t.tag,e===13){if(e=od(t),e!==null){n.blockedOn=e,md(n.priority,function(){fd(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fr(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=cs(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var o=new t.constructor(t.type,t);rs=o,t.target.dispatchEvent(o),rs=null}else return e=Bo(t),e!==null&&ll(e),n.blockedOn=t,!1;e.shift()}return!0}function ua(n,e,t){fr(n)&&t.delete(e)}function Nm(){us=!1,Mn!==null&&fr(Mn)&&(Mn=null),Dn!==null&&fr(Dn)&&(Dn=null),Ln!==null&&fr(Ln)&&(Ln=null),Eo.forEach(ua),wo.forEach(ua)}function jt(n,e){n.blockedOn===e&&(n.blockedOn=null,us||(us=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Nm)))}function Io(n){function e(r){return jt(r,n)}if(0<jo.length){jt(jo[0],n);for(var t=1;t<jo.length;t++){var o=jo[t];o.blockedOn===n&&(o.blockedOn=null)}}for(Mn!==null&&jt(Mn,n),Dn!==null&&jt(Dn,n),Ln!==null&&jt(Ln,n),Eo.forEach(e),wo.forEach(e),t=0;t<An.length;t++)o=An[t],o.blockedOn===n&&(o.blockedOn=null);for(;0<An.length&&(t=An[0],t.blockedOn===null);)hd(t),t.blockedOn===null&&An.shift()}var Pt=En.ReactCurrentBatchConfig,Nr=!0;function Pm(n,e,t,o){var r=b,i=Pt.transition;Pt.transition=null;try{b=1,al(n,e,t,o)}finally{b=r,Pt.transition=i}}function Rm(n,e,t,o){var r=b,i=Pt.transition;Pt.transition=null;try{b=4,al(n,e,t,o)}finally{b=r,Pt.transition=i}}function al(n,e,t,o){if(Nr){var r=cs(n,e,t,o);if(r===null)Di(n,e,o,Pr,t),aa(n,o);else if(Am(r,n,e,t,o))o.stopPropagation();else if(aa(n,o),e&4&&-1<km.indexOf(n)){for(;r!==null;){var i=Bo(r);if(i!==null&&dd(i),i=cs(n,e,t,o),i===null&&Di(n,e,o,Pr,t),i===r)break;r=i}r!==null&&o.stopPropagation()}else Di(n,e,o,null,t)}}var Pr=null;function cs(n,e,t,o){if(Pr=null,n=rl(o),n=Xn(n),n!==null)if(e=ut(n),e===null)n=null;else if(t=e.tag,t===13){if(n=od(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Pr=n,null}function gd(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_m()){case il:return 1;case ld:return 4;case kr:case vm:return 16;case ad:return 536870912;default:return 16}default:return 16}}var Pn=null,ul=null,pr=null;function yd(){if(pr)return pr;var n,e=ul,t=e.length,o,r="value"in Pn?Pn.value:Pn.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var l=t-n;for(o=1;o<=l&&e[t-o]===r[i-o];o++);return pr=r.slice(n,1<o?1-o:void 0)}function mr(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function er(){return!0}function ca(){return!1}function ze(n){function e(t,o,r,i,l){this._reactName=t,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?er:ca,this.isPropagationStopped=ca,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),e}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=ze(Wt),qo=ue({},Wt,{view:0,detail:0}),Mm=ze(qo),wi,Ii,eo,jr=ue({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==eo&&(eo&&n.type==="mousemove"?(wi=n.screenX-eo.screenX,Ii=n.screenY-eo.screenY):Ii=wi=0,eo=n),wi)},movementY:function(n){return"movementY"in n?n.movementY:Ii}}),da=ze(jr),Dm=ue({},jr,{dataTransfer:0}),Lm=ze(Dm),Um=ue({},qo,{relatedTarget:0}),xi=ze(Um),Fm=ue({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),Vm=ze(Fm),Gm=ue({},Wt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qm=ze(Gm),Bm=ue({},Wt,{data:0}),fa=ze(Bm),Hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=$m[n])?!!e[n]:!1}function dl(){return Jm}var Wm=ue({},qo,{key:function(n){if(n.key){var e=Hm[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=mr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zm[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(n){return n.type==="keypress"?mr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Km=ze(Wm),Om=ue({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pa=ze(Om),Ym=ue({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),Qm=ze(Ym),bm=ue({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xm=ze(bm),Zm=ue({},jr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jm=ze(Zm),eh=[9,13,27,32],fl=vn&&"CompositionEvent"in window,fo=null;vn&&"documentMode"in document&&(fo=document.documentMode);var nh=vn&&"TextEvent"in window&&!fo,_d=vn&&(!fl||fo&&8<fo&&11>=fo),ma=" ",ha=!1;function vd(n,e){switch(n){case"keyup":return eh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gt=!1;function th(n,e){switch(n){case"compositionend":return Cd(e);case"keypress":return e.which!==32?null:(ha=!0,ma);case"textInput":return n=e.data,n===ma&&ha?null:n;default:return null}}function oh(n,e){if(gt)return n==="compositionend"||!fl&&vd(n,e)?(n=yd(),pr=ul=Pn=null,gt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _d&&e.locale!=="ko"?null:e.data;default:return null}}var rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ga(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!rh[n.type]:e==="textarea"}function Td(n,e,t,o){Zc(o),e=Rr(e,"onChange"),0<e.length&&(t=new cl("onChange","change",null,t,o),n.push({event:t,listeners:e}))}var po=null,xo=null;function ih(n){Md(n,0)}function ei(n){var e=vt(n);if(Wc(e))return n}function sh(n,e){if(n==="change")return e}var Sd=!1;if(vn){var ki;if(vn){var Ai="oninput"in document;if(!Ai){var ya=document.createElement("div");ya.setAttribute("oninput","return;"),Ai=typeof ya.oninput=="function"}ki=Ai}else ki=!1;Sd=ki&&(!document.documentMode||9<document.documentMode)}function _a(){po&&(po.detachEvent("onpropertychange",Ed),xo=po=null)}function Ed(n){if(n.propertyName==="value"&&ei(xo)){var e=[];Td(e,xo,n,rl(n)),td(ih,e)}}function lh(n,e,t){n==="focusin"?(_a(),po=e,xo=t,po.attachEvent("onpropertychange",Ed)):n==="focusout"&&_a()}function ah(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ei(xo)}function uh(n,e){if(n==="click")return ei(e)}function ch(n,e){if(n==="input"||n==="change")return ei(e)}function dh(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var sn=typeof Object.is=="function"?Object.is:dh;function ko(n,e){if(sn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),o=Object.keys(e);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var r=t[o];if(!Ki.call(e,r)||!sn(n[r],e[r]))return!1}return!0}function va(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ca(n,e){var t=va(n);n=0;for(var o;t;){if(t.nodeType===3){if(o=n+t.textContent.length,n<=e&&o>=e)return{node:t,offset:e-n};n=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=va(t)}}function wd(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?wd(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Id(){for(var n=window,e=wr();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=wr(n.document)}return e}function pl(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function fh(n){var e=Id(),t=n.focusedElem,o=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&wd(t.ownerDocument.documentElement,t)){if(o!==null&&pl(t)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!n.extend&&i>o&&(r=o,o=i,i=r),r=Ca(t,i);var l=Ca(t,o);r&&l&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==l.node||n.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>o?(n.addRange(e),n.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ph=vn&&"documentMode"in document&&11>=document.documentMode,yt=null,ds=null,mo=null,fs=!1;function Ta(n,e,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;fs||yt==null||yt!==wr(o)||(o=yt,"selectionStart"in o&&pl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),mo&&ko(mo,o)||(mo=o,o=Rr(ds,"onSelect"),0<o.length&&(e=new cl("onSelect","select",null,e,t),n.push({event:e,listeners:o}),e.target=yt)))}function nr(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var _t={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionend:nr("Transition","TransitionEnd")},Ni={},xd={};vn&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);function ni(n){if(Ni[n])return Ni[n];if(!_t[n])return n;var e=_t[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in xd)return Ni[n]=e[t];return n}var kd=ni("animationend"),Ad=ni("animationiteration"),Nd=ni("animationstart"),Pd=ni("transitionend"),Rd=new Map,Sa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(n,e){Rd.set(n,e),at(e,[n])}for(var Pi=0;Pi<Sa.length;Pi++){var Ri=Sa[Pi],mh=Ri.toLowerCase(),hh=Ri[0].toUpperCase()+Ri.slice(1);zn(mh,"on"+hh)}zn(kd,"onAnimationEnd");zn(Ad,"onAnimationIteration");zn(Nd,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(Pd,"onTransitionEnd");Vt("onMouseEnter",["mouseout","mouseover"]);Vt("onMouseLeave",["mouseout","mouseover"]);Vt("onPointerEnter",["pointerout","pointerover"]);Vt("onPointerLeave",["pointerout","pointerover"]);at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));at("onBeforeInput",["compositionend","keypress","textInput","paste"]);at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function Ea(n,e,t){var o=n.type||"unknown-event";n.currentTarget=t,mm(o,e,void 0,n),n.currentTarget=null}function Md(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var o=n[t],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;Ea(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;Ea(r,u,d),i=c}}}if(xr)throw n=ls,xr=!1,ls=null,n}function oe(n,e){var t=e[ys];t===void 0&&(t=e[ys]=new Set);var o=n+"__bubble";t.has(o)||(Dd(e,n,2,!1),t.add(o))}function Mi(n,e,t){var o=0;e&&(o|=4),Dd(t,n,o,e)}var tr="_reactListening"+Math.random().toString(36).slice(2);function Ao(n){if(!n[tr]){n[tr]=!0,Bc.forEach(function(t){t!=="selectionchange"&&(gh.has(t)||Mi(t,!1,n),Mi(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[tr]||(e[tr]=!0,Mi("selectionchange",!1,e))}}function Dd(n,e,t,o){switch(gd(e)){case 1:var r=Pm;break;case 4:r=Rm;break;default:r=al}t=r.bind(null,e,t,n),r=void 0,!ss||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Di(n,e,t,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=Xn(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}td(function(){var d=i,f=rl(t),m=[];e:{var p=Rd.get(n);if(p!==void 0){var _=cl,C=n;switch(n){case"keypress":if(mr(t)===0)break e;case"keydown":case"keyup":_=Km;break;case"focusin":C="focus",_=xi;break;case"focusout":C="blur",_=xi;break;case"beforeblur":case"afterblur":_=xi;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Qm;break;case kd:case Ad:case Nd:_=Vm;break;case Pd:_=Xm;break;case"scroll":_=Mm;break;case"wheel":_=jm;break;case"copy":case"cut":case"paste":_=qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=pa}var T=(e&4)!==0,w=!T&&n==="scroll",y=T?p!==null?p+"Capture":null:p;T=[];for(var g=d,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=So(g,y),S!=null&&T.push(No(g,S,v)))),w)break;g=g.return}0<T.length&&(p=new _(p,C,null,t,f),m.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",_=n==="mouseout"||n==="pointerout",p&&t!==rs&&(C=t.relatedTarget||t.fromElement)&&(Xn(C)||C[Cn]))break e;if((_||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,_?(C=t.relatedTarget||t.toElement,_=d,C=C?Xn(C):null,C!==null&&(w=ut(C),C!==w||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=d),_!==C)){if(T=da,S="onMouseLeave",y="onMouseEnter",g="mouse",(n==="pointerout"||n==="pointerover")&&(T=pa,S="onPointerLeave",y="onPointerEnter",g="pointer"),w=_==null?p:vt(_),v=C==null?p:vt(C),p=new T(S,g+"leave",_,t,f),p.target=w,p.relatedTarget=v,S=null,Xn(f)===d&&(T=new T(y,g+"enter",C,t,f),T.target=v,T.relatedTarget=w,S=T),w=S,_&&C)n:{for(T=_,y=C,g=0,v=T;v;v=pt(v))g++;for(v=0,S=y;S;S=pt(S))v++;for(;0<g-v;)T=pt(T),g--;for(;0<v-g;)y=pt(y),v--;for(;g--;){if(T===y||y!==null&&T===y.alternate)break n;T=pt(T),y=pt(y)}T=null}else T=null;_!==null&&wa(m,p,_,T,!1),C!==null&&w!==null&&wa(m,w,C,T,!0)}}e:{if(p=d?vt(d):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var E=sh;else if(ga(p))if(Sd)E=ch;else{E=ah;var I=lh}else(_=p.nodeName)&&_.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=uh);if(E&&(E=E(n,d))){Td(m,E,t,f);break e}I&&I(n,p,d),n==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&ji(p,"number",p.value)}switch(I=d?vt(d):window,n){case"focusin":(ga(I)||I.contentEditable==="true")&&(yt=I,ds=d,mo=null);break;case"focusout":mo=ds=yt=null;break;case"mousedown":fs=!0;break;case"contextmenu":case"mouseup":case"dragend":fs=!1,Ta(m,t,f);break;case"selectionchange":if(ph)break;case"keydown":case"keyup":Ta(m,t,f)}var x;if(fl)e:{switch(n){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else gt?vd(n,t)&&(k="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(k="onCompositionStart");k&&(_d&&t.locale!=="ko"&&(gt||k!=="onCompositionStart"?k==="onCompositionEnd"&&gt&&(x=yd()):(Pn=f,ul="value"in Pn?Pn.value:Pn.textContent,gt=!0)),I=Rr(d,k),0<I.length&&(k=new fa(k,n,null,t,f),m.push({event:k,listeners:I}),x?k.data=x:(x=Cd(t),x!==null&&(k.data=x)))),(x=nh?th(n,t):oh(n,t))&&(d=Rr(d,"onBeforeInput"),0<d.length&&(f=new fa("onBeforeInput","beforeinput",null,t,f),m.push({event:f,listeners:d}),f.data=x))}Md(m,e)})}function No(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Rr(n,e){for(var t=e+"Capture",o=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=So(n,t),i!=null&&o.unshift(No(n,i,r)),i=So(n,e),i!=null&&o.push(No(n,i,r))),n=n.return}return o}function pt(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function wa(n,e,t,o,r){for(var i=e._reactName,l=[];t!==null&&t!==o;){var u=t,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=So(t,i),c!=null&&l.unshift(No(t,c,u))):r||(c=So(t,i),c!=null&&l.push(No(t,c,u)))),t=t.return}l.length!==0&&n.push({event:e,listeners:l})}var yh=/\r\n?/g,_h=/\u0000|\uFFFD/g;function Ia(n){return(typeof n=="string"?n:""+n).replace(yh,`
`).replace(_h,"")}function or(n,e,t){if(e=Ia(e),Ia(n)!==e&&t)throw Error(A(425))}function Mr(){}var ps=null,ms=null;function hs(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gs=typeof setTimeout=="function"?setTimeout:void 0,vh=typeof clearTimeout=="function"?clearTimeout:void 0,xa=typeof Promise=="function"?Promise:void 0,Ch=typeof queueMicrotask=="function"?queueMicrotask:typeof xa<"u"?function(n){return xa.resolve(null).then(n).catch(Th)}:gs;function Th(n){setTimeout(function(){throw n})}function Li(n,e){var t=e,o=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(o===0){n.removeChild(r),Io(e);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=r}while(t);Io(e)}function Un(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function ka(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Kt=Math.random().toString(36).slice(2),dn="__reactFiber$"+Kt,Po="__reactProps$"+Kt,Cn="__reactContainer$"+Kt,ys="__reactEvents$"+Kt,Sh="__reactListeners$"+Kt,Eh="__reactHandles$"+Kt;function Xn(n){var e=n[dn];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Cn]||t[dn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=ka(n);n!==null;){if(t=n[dn])return t;n=ka(n)}return e}n=t,t=n.parentNode}return null}function Bo(n){return n=n[dn]||n[Cn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vt(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(A(33))}function ti(n){return n[Po]||null}var _s=[],Ct=-1;function $n(n){return{current:n}}function ie(n){0>Ct||(n.current=_s[Ct],_s[Ct]=null,Ct--)}function ne(n,e){Ct++,_s[Ct]=n.current,n.current=e}var Hn={},xe=$n(Hn),De=$n(!1),tt=Hn;function Gt(n,e){var t=n.type.contextTypes;if(!t)return Hn;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Le(n){return n=n.childContextTypes,n!=null}function Dr(){ie(De),ie(xe)}function Aa(n,e,t){if(xe.current!==Hn)throw Error(A(168));ne(xe,e),ne(De,t)}function Ld(n,e,t){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(A(108,lm(n)||"Unknown",r));return ue({},t,o)}function Lr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Hn,tt=xe.current,ne(xe,n),ne(De,De.current),!0}function Na(n,e,t){var o=n.stateNode;if(!o)throw Error(A(169));t?(n=Ld(n,e,tt),o.__reactInternalMemoizedMergedChildContext=n,ie(De),ie(xe),ne(xe,n)):ie(De),ne(De,t)}var hn=null,oi=!1,Ui=!1;function Ud(n){hn===null?hn=[n]:hn.push(n)}function wh(n){oi=!0,Ud(n)}function Jn(){if(!Ui&&hn!==null){Ui=!0;var n=0,e=b;try{var t=hn;for(b=1;n<t.length;n++){var o=t[n];do o=o(!0);while(o!==null)}hn=null,oi=!1}catch(r){throw hn!==null&&(hn=hn.slice(n+1)),sd(il,Jn),r}finally{b=e,Ui=!1}}return null}var Tt=[],St=0,Ur=null,Fr=0,$e=[],Je=0,ot=null,gn=1,yn="";function Qn(n,e){Tt[St++]=Fr,Tt[St++]=Ur,Ur=n,Fr=e}function Fd(n,e,t){$e[Je++]=gn,$e[Je++]=yn,$e[Je++]=ot,ot=n;var o=gn;n=yn;var r=32-on(o)-1;o&=~(1<<r),t+=1;var i=32-on(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,gn=1<<32-on(e)+r|t<<r|o,yn=i+n}else gn=1<<i|t<<r|o,yn=n}function ml(n){n.return!==null&&(Qn(n,1),Fd(n,1,0))}function hl(n){for(;n===Ur;)Ur=Tt[--St],Tt[St]=null,Fr=Tt[--St],Tt[St]=null;for(;n===ot;)ot=$e[--Je],$e[Je]=null,yn=$e[--Je],$e[Je]=null,gn=$e[--Je],$e[Je]=null}var qe=null,Ge=null,se=!1,nn=null;function Vd(n,e){var t=We(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Pa(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,qe=n,Ge=Un(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,qe=n,Ge=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ot!==null?{id:gn,overflow:yn}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=We(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,qe=n,Ge=null,!0):!1;default:return!1}}function vs(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Cs(n){if(se){var e=Ge;if(e){var t=e;if(!Pa(n,e)){if(vs(n))throw Error(A(418));e=Un(t.nextSibling);var o=qe;e&&Pa(n,e)?Vd(o,t):(n.flags=n.flags&-4097|2,se=!1,qe=n)}}else{if(vs(n))throw Error(A(418));n.flags=n.flags&-4097|2,se=!1,qe=n}}}function Ra(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;qe=n}function rr(n){if(n!==qe)return!1;if(!se)return Ra(n),se=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!hs(n.type,n.memoizedProps)),e&&(e=Ge)){if(vs(n))throw Gd(),Error(A(418));for(;e;)Vd(n,e),e=Un(e.nextSibling)}if(Ra(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(A(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ge=Un(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ge=null}}else Ge=qe?Un(n.stateNode.nextSibling):null;return!0}function Gd(){for(var n=Ge;n;)n=Un(n.nextSibling)}function qt(){Ge=qe=null,se=!1}function gl(n){nn===null?nn=[n]:nn.push(n)}var Ih=En.ReactCurrentBatchConfig;function no(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(A(309));var o=t.stateNode}if(!o)throw Error(A(147,n));var r=o,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof n!="string")throw Error(A(284));if(!t._owner)throw Error(A(290,n))}return n}function ir(n,e){throw n=Object.prototype.toString.call(e),Error(A(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Ma(n){var e=n._init;return e(n._payload)}function qd(n){function e(y,g){if(n){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function t(y,g){if(!n)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function o(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function r(y,g){return y=qn(y,g),y.index=0,y.sibling=null,y}function i(y,g,v){return y.index=v,n?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function l(y){return n&&y.alternate===null&&(y.flags|=2),y}function u(y,g,v,S){return g===null||g.tag!==6?(g=zi(v,y.mode,S),g.return=y,g):(g=r(g,v),g.return=y,g)}function c(y,g,v,S){var E=v.type;return E===ht?f(y,g,v.props.children,S,v.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xn&&Ma(E)===g.type)?(S=r(g,v.props),S.ref=no(y,g,v),S.return=y,S):(S=Tr(v.type,v.key,v.props,null,y.mode,S),S.ref=no(y,g,v),S.return=y,S)}function d(y,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=$i(v,y.mode,S),g.return=y,g):(g=r(g,v.children||[]),g.return=y,g)}function f(y,g,v,S,E){return g===null||g.tag!==7?(g=nt(v,y.mode,S,E),g.return=y,g):(g=r(g,v),g.return=y,g)}function m(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=zi(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Yo:return v=Tr(g.type,g.key,g.props,null,y.mode,v),v.ref=no(y,null,g),v.return=y,v;case mt:return g=$i(g,y.mode,v),g.return=y,g;case xn:var S=g._init;return m(y,S(g._payload),v)}if(so(g)||bt(g))return g=nt(g,y.mode,v,null),g.return=y,g;ir(y,g)}return null}function p(y,g,v,S){var E=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:u(y,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yo:return v.key===E?c(y,g,v,S):null;case mt:return v.key===E?d(y,g,v,S):null;case xn:return E=v._init,p(y,g,E(v._payload),S)}if(so(v)||bt(v))return E!==null?null:f(y,g,v,S,null);ir(y,v)}return null}function _(y,g,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,u(g,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yo:return y=y.get(S.key===null?v:S.key)||null,c(g,y,S,E);case mt:return y=y.get(S.key===null?v:S.key)||null,d(g,y,S,E);case xn:var I=S._init;return _(y,g,v,I(S._payload),E)}if(so(S)||bt(S))return y=y.get(v)||null,f(g,y,S,E,null);ir(g,S)}return null}function C(y,g,v,S){for(var E=null,I=null,x=g,k=g=0,R=null;x!==null&&k<v.length;k++){x.index>k?(R=x,x=null):R=x.sibling;var N=p(y,x,v[k],S);if(N===null){x===null&&(x=R);break}n&&x&&N.alternate===null&&e(y,x),g=i(N,g,k),I===null?E=N:I.sibling=N,I=N,x=R}if(k===v.length)return t(y,x),se&&Qn(y,k),E;if(x===null){for(;k<v.length;k++)x=m(y,v[k],S),x!==null&&(g=i(x,g,k),I===null?E=x:I.sibling=x,I=x);return se&&Qn(y,k),E}for(x=o(y,x);k<v.length;k++)R=_(x,y,k,v[k],S),R!==null&&(n&&R.alternate!==null&&x.delete(R.key===null?k:R.key),g=i(R,g,k),I===null?E=R:I.sibling=R,I=R);return n&&x.forEach(function(V){return e(y,V)}),se&&Qn(y,k),E}function T(y,g,v,S){var E=bt(v);if(typeof E!="function")throw Error(A(150));if(v=E.call(v),v==null)throw Error(A(151));for(var I=E=null,x=g,k=g=0,R=null,N=v.next();x!==null&&!N.done;k++,N=v.next()){x.index>k?(R=x,x=null):R=x.sibling;var V=p(y,x,N.value,S);if(V===null){x===null&&(x=R);break}n&&x&&V.alternate===null&&e(y,x),g=i(V,g,k),I===null?E=V:I.sibling=V,I=V,x=R}if(N.done)return t(y,x),se&&Qn(y,k),E;if(x===null){for(;!N.done;k++,N=v.next())N=m(y,N.value,S),N!==null&&(g=i(N,g,k),I===null?E=N:I.sibling=N,I=N);return se&&Qn(y,k),E}for(x=o(y,x);!N.done;k++,N=v.next())N=_(x,y,k,N.value,S),N!==null&&(n&&N.alternate!==null&&x.delete(N.key===null?k:N.key),g=i(N,g,k),I===null?E=N:I.sibling=N,I=N);return n&&x.forEach(function(z){return e(y,z)}),se&&Qn(y,k),E}function w(y,g,v,S){if(typeof v=="object"&&v!==null&&v.type===ht&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Yo:e:{for(var E=v.key,I=g;I!==null;){if(I.key===E){if(E=v.type,E===ht){if(I.tag===7){t(y,I.sibling),g=r(I,v.props.children),g.return=y,y=g;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===xn&&Ma(E)===I.type){t(y,I.sibling),g=r(I,v.props),g.ref=no(y,I,v),g.return=y,y=g;break e}t(y,I);break}else e(y,I);I=I.sibling}v.type===ht?(g=nt(v.props.children,y.mode,S,v.key),g.return=y,y=g):(S=Tr(v.type,v.key,v.props,null,y.mode,S),S.ref=no(y,g,v),S.return=y,y=S)}return l(y);case mt:e:{for(I=v.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){t(y,g.sibling),g=r(g,v.children||[]),g.return=y,y=g;break e}else{t(y,g);break}else e(y,g);g=g.sibling}g=$i(v,y.mode,S),g.return=y,y=g}return l(y);case xn:return I=v._init,w(y,g,I(v._payload),S)}if(so(v))return C(y,g,v,S);if(bt(v))return T(y,g,v,S);ir(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(t(y,g.sibling),g=r(g,v),g.return=y,y=g):(t(y,g),g=zi(v,y.mode,S),g.return=y,y=g),l(y)):t(y,g)}return w}var Bt=qd(!0),Bd=qd(!1),Vr=$n(null),Gr=null,Et=null,yl=null;function _l(){yl=Et=Gr=null}function vl(n){var e=Vr.current;ie(Vr),n._currentValue=e}function Ts(n,e,t){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===t)break;n=n.return}}function Rt(n,e){Gr=n,yl=Et=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Me=!0),n.firstContext=null)}function Ye(n){var e=n._currentValue;if(yl!==n)if(n={context:n,memoizedValue:e,next:null},Et===null){if(Gr===null)throw Error(A(308));Et=n,Gr.dependencies={lanes:0,firstContext:n}}else Et=Et.next=n;return e}var Zn=null;function Cl(n){Zn===null?Zn=[n]:Zn.push(n)}function Hd(n,e,t,o){var r=e.interleaved;return r===null?(t.next=t,Cl(e)):(t.next=r.next,r.next=t),e.interleaved=t,Tn(n,o)}function Tn(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var kn=!1;function Tl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zd(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _n(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(n,e,t){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,O&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,Tn(n,t)}return r=o.interleaved,r===null?(e.next=e,Cl(o)):(e.next=r.next,r.next=e),o.interleaved=e,Tn(n,t)}function hr(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,sl(n,t)}}function Da(n,e){var t=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=l:i=i.next=l,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function qr(n,e,t,o){var r=n.updateQueue;kn=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=n.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=r.baseState;l=0,f=d=c=null,u=i;do{var p=u.lane,_=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=n,T=u;switch(p=e,_=t,T.tag){case 1:if(C=T.payload,typeof C=="function"){m=C.call(_,m,p);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,p=typeof C=="function"?C.call(_,m,p):C,p==null)break e;m=ue({},m,p);break e;case 2:kn=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else _={eventTime:_,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=_,c=m):f=f.next=_,l|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(c=m),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);it|=l,n.lanes=l,n.memoizedState=m}}function La(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],r=o.callback;if(r!==null){if(o.callback=null,o=t,typeof r!="function")throw Error(A(191,r));r.call(o)}}}var Ho={},pn=$n(Ho),Ro=$n(Ho),Mo=$n(Ho);function jn(n){if(n===Ho)throw Error(A(174));return n}function Sl(n,e){switch(ne(Mo,e),ne(Ro,n),ne(pn,Ho),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ns(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ns(e,n)}ie(pn),ne(pn,e)}function Ht(){ie(pn),ie(Ro),ie(Mo)}function $d(n){jn(Mo.current);var e=jn(pn.current),t=ns(e,n.type);e!==t&&(ne(Ro,n),ne(pn,t))}function El(n){Ro.current===n&&(ie(pn),ie(Ro))}var le=$n(0);function Br(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fi=[];function wl(){for(var n=0;n<Fi.length;n++)Fi[n]._workInProgressVersionPrimary=null;Fi.length=0}var gr=En.ReactCurrentDispatcher,Vi=En.ReactCurrentBatchConfig,rt=0,ae=null,me=null,ye=null,Hr=!1,ho=!1,Do=0,xh=0;function Se(){throw Error(A(321))}function Il(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!sn(n[t],e[t]))return!1;return!0}function xl(n,e,t,o,r,i){if(rt=i,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gr.current=n===null||n.memoizedState===null?Ph:Rh,n=t(o,r),ho){i=0;do{if(ho=!1,Do=0,25<=i)throw Error(A(301));i+=1,ye=me=null,e.updateQueue=null,gr.current=Mh,n=t(o,r)}while(ho)}if(gr.current=zr,e=me!==null&&me.next!==null,rt=0,ye=me=ae=null,Hr=!1,e)throw Error(A(300));return n}function kl(){var n=Do!==0;return Do=0,n}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?ae.memoizedState=ye=n:ye=ye.next=n,ye}function Qe(){if(me===null){var n=ae.alternate;n=n!==null?n.memoizedState:null}else n=me.next;var e=ye===null?ae.memoizedState:ye.next;if(e!==null)ye=e,me=n;else{if(n===null)throw Error(A(310));me=n,n={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ye===null?ae.memoizedState=ye=n:ye=ye.next=n}return ye}function Lo(n,e){return typeof e=="function"?e(n):e}function Gi(n){var e=Qe(),t=e.queue;if(t===null)throw Error(A(311));t.lastRenderedReducer=n;var o=me,r=o.baseQueue,i=t.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((rt&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:n(o,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,l=o):c=c.next=m,ae.lanes|=f,it|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,sn(o,e.memoizedState)||(Me=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=c,t.lastRenderedState=o}if(n=t.interleaved,n!==null){r=n;do i=r.lane,ae.lanes|=i,it|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function qi(n){var e=Qe(),t=e.queue;if(t===null)throw Error(A(311));t.lastRenderedReducer=n;var o=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var l=r=r.next;do i=n(i,l.action),l=l.next;while(l!==r);sn(i,e.memoizedState)||(Me=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,o]}function Jd(){}function Wd(n,e){var t=ae,o=Qe(),r=e(),i=!sn(o.memoizedState,r);if(i&&(o.memoizedState=r,Me=!0),o=o.queue,Al(Yd.bind(null,t,o,n),[n]),o.getSnapshot!==e||i||ye!==null&&ye.memoizedState.tag&1){if(t.flags|=2048,Uo(9,Od.bind(null,t,o,r,e),void 0,null),_e===null)throw Error(A(349));rt&30||Kd(t,e,r)}return r}function Kd(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Od(n,e,t,o){e.value=t,e.getSnapshot=o,Qd(e)&&bd(n)}function Yd(n,e,t){return t(function(){Qd(e)&&bd(n)})}function Qd(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!sn(n,t)}catch{return!0}}function bd(n){var e=Tn(n,1);e!==null&&rn(e,n,1,-1)}function Ua(n){var e=cn();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:n},e.queue=n,n=n.dispatch=Nh.bind(null,ae,n),[e.memoizedState,n]}function Uo(n,e,t,o){return n={tag:n,create:e,destroy:t,deps:o,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(o=t.next,t.next=n,n.next=o,e.lastEffect=n)),n}function Xd(){return Qe().memoizedState}function yr(n,e,t,o){var r=cn();ae.flags|=n,r.memoizedState=Uo(1|e,t,void 0,o===void 0?null:o)}function ri(n,e,t,o){var r=Qe();o=o===void 0?null:o;var i=void 0;if(me!==null){var l=me.memoizedState;if(i=l.destroy,o!==null&&Il(o,l.deps)){r.memoizedState=Uo(e,t,i,o);return}}ae.flags|=n,r.memoizedState=Uo(1|e,t,i,o)}function Fa(n,e){return yr(8390656,8,n,e)}function Al(n,e){return ri(2048,8,n,e)}function Zd(n,e){return ri(4,2,n,e)}function jd(n,e){return ri(4,4,n,e)}function ef(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function nf(n,e,t){return t=t!=null?t.concat([n]):null,ri(4,4,ef.bind(null,e,n),t)}function Nl(){}function tf(n,e){var t=Qe();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&Il(e,o[1])?o[0]:(t.memoizedState=[n,e],n)}function of(n,e){var t=Qe();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&Il(e,o[1])?o[0]:(n=n(),t.memoizedState=[n,e],n)}function rf(n,e,t){return rt&21?(sn(t,e)||(t=ud(),ae.lanes|=t,it|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Me=!0),n.memoizedState=t)}function kh(n,e){var t=b;b=t!==0&&4>t?t:4,n(!0);var o=Vi.transition;Vi.transition={};try{n(!1),e()}finally{b=t,Vi.transition=o}}function sf(){return Qe().memoizedState}function Ah(n,e,t){var o=Gn(n);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},lf(n))af(e,t);else if(t=Hd(n,e,t,o),t!==null){var r=Ae();rn(t,n,o,r),uf(t,e,o)}}function Nh(n,e,t){var o=Gn(n),r={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(lf(n))af(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,t);if(r.hasEagerState=!0,r.eagerState=u,sn(u,l)){var c=e.interleaved;c===null?(r.next=r,Cl(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}t=Hd(n,e,r,o),t!==null&&(r=Ae(),rn(t,n,o,r),uf(t,e,o))}}function lf(n){var e=n.alternate;return n===ae||e!==null&&e===ae}function af(n,e){ho=Hr=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function uf(n,e,t){if(t&4194240){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,sl(n,t)}}var zr={readContext:Ye,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Ph={readContext:Ye,useCallback:function(n,e){return cn().memoizedState=[n,e===void 0?null:e],n},useContext:Ye,useEffect:Fa,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,yr(4194308,4,ef.bind(null,e,n),t)},useLayoutEffect:function(n,e){return yr(4194308,4,n,e)},useInsertionEffect:function(n,e){return yr(4,2,n,e)},useMemo:function(n,e){var t=cn();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var o=cn();return e=t!==void 0?t(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=Ah.bind(null,ae,n),[o.memoizedState,n]},useRef:function(n){var e=cn();return n={current:n},e.memoizedState=n},useState:Ua,useDebugValue:Nl,useDeferredValue:function(n){return cn().memoizedState=n},useTransition:function(){var n=Ua(!1),e=n[0];return n=kh.bind(null,n[1]),cn().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var o=ae,r=cn();if(se){if(t===void 0)throw Error(A(407));t=t()}else{if(t=e(),_e===null)throw Error(A(349));rt&30||Kd(o,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,Fa(Yd.bind(null,o,i,n),[n]),o.flags|=2048,Uo(9,Od.bind(null,o,i,t,e),void 0,null),t},useId:function(){var n=cn(),e=_e.identifierPrefix;if(se){var t=yn,o=gn;t=(o&~(1<<32-on(o)-1)).toString(32)+t,e=":"+e+"R"+t,t=Do++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=xh++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Rh={readContext:Ye,useCallback:tf,useContext:Ye,useEffect:Al,useImperativeHandle:nf,useInsertionEffect:Zd,useLayoutEffect:jd,useMemo:of,useReducer:Gi,useRef:Xd,useState:function(){return Gi(Lo)},useDebugValue:Nl,useDeferredValue:function(n){var e=Qe();return rf(e,me.memoizedState,n)},useTransition:function(){var n=Gi(Lo)[0],e=Qe().memoizedState;return[n,e]},useMutableSource:Jd,useSyncExternalStore:Wd,useId:sf,unstable_isNewReconciler:!1},Mh={readContext:Ye,useCallback:tf,useContext:Ye,useEffect:Al,useImperativeHandle:nf,useInsertionEffect:Zd,useLayoutEffect:jd,useMemo:of,useReducer:qi,useRef:Xd,useState:function(){return qi(Lo)},useDebugValue:Nl,useDeferredValue:function(n){var e=Qe();return me===null?e.memoizedState=n:rf(e,me.memoizedState,n)},useTransition:function(){var n=qi(Lo)[0],e=Qe().memoizedState;return[n,e]},useMutableSource:Jd,useSyncExternalStore:Wd,useId:sf,unstable_isNewReconciler:!1};function je(n,e){if(n&&n.defaultProps){e=ue({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Ss(n,e,t,o){e=n.memoizedState,t=t(o,e),t=t==null?e:ue({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ii={isMounted:function(n){return(n=n._reactInternals)?ut(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var o=Ae(),r=Gn(n),i=_n(o,r);i.payload=e,t!=null&&(i.callback=t),e=Fn(n,i,r),e!==null&&(rn(e,n,r,o),hr(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var o=Ae(),r=Gn(n),i=_n(o,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Fn(n,i,r),e!==null&&(rn(e,n,r,o),hr(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ae(),o=Gn(n),r=_n(t,o);r.tag=2,e!=null&&(r.callback=e),e=Fn(n,r,o),e!==null&&(rn(e,n,o,t),hr(e,n,o))}};function Va(n,e,t,o,r,i,l){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!ko(t,o)||!ko(r,i):!0}function cf(n,e,t){var o=!1,r=Hn,i=e.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(r=Le(e)?tt:xe.current,o=e.contextTypes,i=(o=o!=null)?Gt(n,r):Hn),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ii,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function Ga(n,e,t,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,o),e.state!==n&&ii.enqueueReplaceState(e,e.state,null)}function Es(n,e,t,o){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Tl(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Ye(i):(i=Le(e)?tt:xe.current,r.context=Gt(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ss(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ii.enqueueReplaceState(r,r.state,null),qr(n,t,r,o),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function zt(n,e){try{var t="",o=e;do t+=sm(o),o=o.return;while(o);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function Bi(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function ws(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Dh=typeof WeakMap=="function"?WeakMap:Map;function df(n,e,t){t=_n(-1,t),t.tag=3,t.payload={element:null};var o=e.value;return t.callback=function(){Jr||(Jr=!0,Ls=o),ws(n,e)},t}function ff(n,e,t){t=_n(-1,t),t.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;t.payload=function(){return o(r)},t.callback=function(){ws(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){ws(n,e),typeof o!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),t}function qa(n,e,t){var o=n.pingCache;if(o===null){o=n.pingCache=new Dh;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(t)||(r.add(t),n=Oh.bind(null,n,e,t),e.then(n,n))}function Ba(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Ha(n,e,t,o,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=_n(-1,1),e.tag=2,Fn(t,e,1))),t.lanes|=1),n)}var Lh=En.ReactCurrentOwner,Me=!1;function ke(n,e,t,o){e.child=n===null?Bd(e,null,t,o):Bt(e,n.child,t,o)}function za(n,e,t,o,r){t=t.render;var i=e.ref;return Rt(e,r),o=xl(n,e,t,o,i,r),t=kl(),n!==null&&!Me?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Sn(n,e,r)):(se&&t&&ml(e),e.flags|=1,ke(n,e,o,r),e.child)}function $a(n,e,t,o,r){if(n===null){var i=t.type;return typeof i=="function"&&!Vl(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,pf(n,e,i,o,r)):(n=Tr(t.type,null,o,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var l=i.memoizedProps;if(t=t.compare,t=t!==null?t:ko,t(l,o)&&n.ref===e.ref)return Sn(n,e,r)}return e.flags|=1,n=qn(i,o),n.ref=e.ref,n.return=e,e.child=n}function pf(n,e,t,o,r){if(n!==null){var i=n.memoizedProps;if(ko(i,o)&&n.ref===e.ref)if(Me=!1,e.pendingProps=o=i,(n.lanes&r)!==0)n.flags&131072&&(Me=!0);else return e.lanes=n.lanes,Sn(n,e,r)}return Is(n,e,t,o,r)}function mf(n,e,t){var o=e.pendingProps,r=o.children,i=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(It,Ve),Ve|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ne(It,Ve),Ve|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:t,ne(It,Ve),Ve|=o}else i!==null?(o=i.baseLanes|t,e.memoizedState=null):o=t,ne(It,Ve),Ve|=o;return ke(n,e,r,t),e.child}function hf(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Is(n,e,t,o,r){var i=Le(t)?tt:xe.current;return i=Gt(e,i),Rt(e,r),t=xl(n,e,t,o,i,r),o=kl(),n!==null&&!Me?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Sn(n,e,r)):(se&&o&&ml(e),e.flags|=1,ke(n,e,t,r),e.child)}function Ja(n,e,t,o,r){if(Le(t)){var i=!0;Lr(e)}else i=!1;if(Rt(e,r),e.stateNode===null)_r(n,e),cf(e,t,o),Es(e,t,o,r),o=!0;else if(n===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=t.contextType;typeof d=="object"&&d!==null?d=Ye(d):(d=Le(t)?tt:xe.current,d=Gt(e,d));var f=t.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&Ga(e,l,o,d),kn=!1;var p=e.memoizedState;l.state=p,qr(e,o,l,r),c=e.memoizedState,u!==o||p!==c||De.current||kn?(typeof f=="function"&&(Ss(e,t,f,o),c=e.memoizedState),(u=kn||Va(e,t,u,o,p,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,zd(n,e),u=e.memoizedProps,d=e.type===e.elementType?u:je(e.type,u),l.props=d,m=e.pendingProps,p=l.context,c=t.contextType,typeof c=="object"&&c!==null?c=Ye(c):(c=Le(t)?tt:xe.current,c=Gt(e,c));var _=t.getDerivedStateFromProps;(f=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||p!==c)&&Ga(e,l,o,c),kn=!1,p=e.memoizedState,l.state=p,qr(e,o,l,r);var C=e.memoizedState;u!==m||p!==C||De.current||kn?(typeof _=="function"&&(Ss(e,t,_,o),C=e.memoizedState),(d=kn||Va(e,t,d,o,p,C,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,C,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,C,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=C),l.props=o,l.state=C,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),o=!1)}return xs(n,e,t,o,i,r)}function xs(n,e,t,o,r,i){hf(n,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&Na(e,t,!1),Sn(n,e,i);o=e.stateNode,Lh.current=e;var u=l&&typeof t.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&l?(e.child=Bt(e,n.child,null,i),e.child=Bt(e,null,u,i)):ke(n,e,u,i),e.memoizedState=o.state,r&&Na(e,t,!0),e.child}function gf(n){var e=n.stateNode;e.pendingContext?Aa(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Aa(n,e.context,!1),Sl(n,e.containerInfo)}function Wa(n,e,t,o,r){return qt(),gl(r),e.flags|=256,ke(n,e,t,o),e.child}var ks={dehydrated:null,treeContext:null,retryLane:0};function As(n){return{baseLanes:n,cachePool:null,transitions:null}}function yf(n,e,t){var o=e.pendingProps,r=le.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=n!==null&&n.memoizedState===null?!1:(r&2)!==0),u?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),ne(le,r&1),n===null)return Cs(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,n=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ai(l,o,0,null),n=nt(n,o,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=As(t),e.memoizedState=ks,n):Pl(e,l));if(r=n.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Uh(n,e,l,o,u,r,t);if(i){i=o.fallback,l=e.mode,r=n.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=qn(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=qn(u,i):(i=nt(i,l,t,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=n.child.memoizedState,l=l===null?As(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=n.childLanes&~t,e.memoizedState=ks,o}return i=n.child,n=i.sibling,o=qn(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=t),o.return=e,o.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=o,e.memoizedState=null,o}function Pl(n,e){return e=ai({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function sr(n,e,t,o){return o!==null&&gl(o),Bt(e,n.child,null,t),n=Pl(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Uh(n,e,t,o,r,i,l){if(t)return e.flags&256?(e.flags&=-257,o=Bi(Error(A(422))),sr(n,e,l,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=ai({mode:"visible",children:o.children},r,0,null),i=nt(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Bt(e,n.child,null,l),e.child.memoizedState=As(l),e.memoizedState=ks,i);if(!(e.mode&1))return sr(n,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(A(419)),o=Bi(i,o,void 0),sr(n,e,l,o)}if(u=(l&n.childLanes)!==0,Me||u){if(o=_e,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Tn(n,r),rn(o,n,r,-1))}return Fl(),o=Bi(Error(A(421))),sr(n,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=Yh.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,Ge=Un(r.nextSibling),qe=e,se=!0,nn=null,n!==null&&($e[Je++]=gn,$e[Je++]=yn,$e[Je++]=ot,gn=n.id,yn=n.overflow,ot=e),e=Pl(e,o.children),e.flags|=4096,e)}function Ka(n,e,t){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),Ts(n.return,e,t)}function Hi(n,e,t,o,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=t,i.tailMode=r)}function _f(n,e,t){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(ke(n,e,o.children,t),o=le.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ka(n,t,e);else if(n.tag===19)Ka(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(ne(le,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Br(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Hi(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Br(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Hi(e,!0,t,null,i);break;case"together":Hi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _r(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Sn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),it|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(A(153));if(e.child!==null){for(n=e.child,t=qn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=qn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Fh(n,e,t){switch(e.tag){case 3:gf(e),qt();break;case 5:$d(e);break;case 1:Le(e.type)&&Lr(e);break;case 4:Sl(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;ne(Vr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(ne(le,le.current&1),e.flags|=128,null):t&e.child.childLanes?yf(n,e,t):(ne(le,le.current&1),n=Sn(n,e,t),n!==null?n.sibling:null);ne(le,le.current&1);break;case 19:if(o=(t&e.childLanes)!==0,n.flags&128){if(o)return _f(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ne(le,le.current),o)break;return null;case 22:case 23:return e.lanes=0,mf(n,e,t)}return Sn(n,e,t)}var vf,Ns,Cf,Tf;vf=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Ns=function(){};Cf=function(n,e,t,o){var r=n.memoizedProps;if(r!==o){n=e.stateNode,jn(pn.current);var i=null;switch(t){case"input":r=Xi(n,r),o=Xi(n,o),i=[];break;case"select":r=ue({},r,{value:void 0}),o=ue({},o,{value:void 0}),i=[];break;case"textarea":r=es(n,r),o=es(n,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=Mr)}ts(t,o);var l;t=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Co.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(t||(t={}),t[l]=c[l])}else t||(i||(i=[]),i.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Co.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&oe("scroll",n),i||u===c||(i=[])):(i=i||[]).push(d,c))}t&&(i=i||[]).push("style",t);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Tf=function(n,e,t,o){t!==o&&(e.flags|=4)};function to(n,e){if(!se)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function Ee(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,o=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=o,n.childLanes=t,e}function Vh(n,e,t){var o=e.pendingProps;switch(hl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(e),null;case 1:return Le(e.type)&&Dr(),Ee(e),null;case 3:return o=e.stateNode,Ht(),ie(De),ie(xe),wl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(rr(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nn!==null&&(Vs(nn),nn=null))),Ns(n,e),Ee(e),null;case 5:El(e);var r=jn(Mo.current);if(t=e.type,n!==null&&e.stateNode!=null)Cf(n,e,t,o,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(A(166));return Ee(e),null}if(n=jn(pn.current),rr(e)){o=e.stateNode,t=e.type;var i=e.memoizedProps;switch(o[dn]=e,o[Po]=i,n=(e.mode&1)!==0,t){case"dialog":oe("cancel",o),oe("close",o);break;case"iframe":case"object":case"embed":oe("load",o);break;case"video":case"audio":for(r=0;r<ao.length;r++)oe(ao[r],o);break;case"source":oe("error",o);break;case"img":case"image":case"link":oe("error",o),oe("load",o);break;case"details":oe("toggle",o);break;case"input":na(o,i),oe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},oe("invalid",o);break;case"textarea":oa(o,i),oe("invalid",o)}ts(t,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&or(o.textContent,u,n),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&or(o.textContent,u,n),r=["children",""+u]):Co.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&oe("scroll",o)}switch(t){case"input":Qo(o),ta(o,i,!0);break;case"textarea":Qo(o),ra(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Mr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Yc(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=l.createElement(t,{is:o.is}):(n=l.createElement(t),t==="select"&&(l=n,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):n=l.createElementNS(n,t),n[dn]=e,n[Po]=o,vf(n,e,!1,!1),e.stateNode=n;e:{switch(l=os(t,o),t){case"dialog":oe("cancel",n),oe("close",n),r=o;break;case"iframe":case"object":case"embed":oe("load",n),r=o;break;case"video":case"audio":for(r=0;r<ao.length;r++)oe(ao[r],n);r=o;break;case"source":oe("error",n),r=o;break;case"img":case"image":case"link":oe("error",n),oe("load",n),r=o;break;case"details":oe("toggle",n),r=o;break;case"input":na(n,o),r=Xi(n,o),oe("invalid",n);break;case"option":r=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},r=ue({},o,{value:void 0}),oe("invalid",n);break;case"textarea":oa(n,o),r=es(n,o),oe("invalid",n);break;default:r=o}ts(t,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Xc(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qc(n,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&To(n,c):typeof c=="number"&&To(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Co.hasOwnProperty(i)?c!=null&&i==="onScroll"&&oe("scroll",n):c!=null&&el(n,i,c,l))}switch(t){case"input":Qo(n),ta(n,o,!1);break;case"textarea":Qo(n),ra(n);break;case"option":o.value!=null&&n.setAttribute("value",""+Bn(o.value));break;case"select":n.multiple=!!o.multiple,i=o.value,i!=null?kt(n,!!o.multiple,i,!1):o.defaultValue!=null&&kt(n,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Mr)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ee(e),null;case 6:if(n&&e.stateNode!=null)Tf(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(A(166));if(t=jn(Mo.current),jn(pn.current),rr(e)){if(o=e.stateNode,t=e.memoizedProps,o[dn]=e,(i=o.nodeValue!==t)&&(n=qe,n!==null))switch(n.tag){case 3:or(o.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&or(o.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[dn]=e,e.stateNode=o}return Ee(e),null;case 13:if(ie(le),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(se&&Ge!==null&&e.mode&1&&!(e.flags&128))Gd(),qt(),e.flags|=98560,i=!1;else if(i=rr(e),o!==null&&o.dehydrated!==null){if(n===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[dn]=e}else qt(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ee(e),i=!1}else nn!==null&&(Vs(nn),nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||le.current&1?he===0&&(he=3):Fl())),e.updateQueue!==null&&(e.flags|=4),Ee(e),null);case 4:return Ht(),Ns(n,e),n===null&&Ao(e.stateNode.containerInfo),Ee(e),null;case 10:return vl(e.type._context),Ee(e),null;case 17:return Le(e.type)&&Dr(),Ee(e),null;case 19:if(ie(le),i=e.memoizedState,i===null)return Ee(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)to(i,!1);else{if(he!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(l=Br(n),l!==null){for(e.flags|=128,to(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=t,t=e.child;t!==null;)i=t,n=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,n=l.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ne(le,le.current&1|2),e.child}n=n.sibling}i.tail!==null&&de()>$t&&(e.flags|=128,o=!0,to(i,!1),e.lanes=4194304)}else{if(!o)if(n=Br(l),n!==null){if(e.flags|=128,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),to(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!se)return Ee(e),null}else 2*de()-i.renderingStartTime>$t&&t!==1073741824&&(e.flags|=128,o=!0,to(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(t=i.last,t!==null?t.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=de(),e.sibling=null,t=le.current,ne(le,o?t&1|2:t&1),e):(Ee(e),null);case 22:case 23:return Ul(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Ve&1073741824&&(Ee(e),e.subtreeFlags&6&&(e.flags|=8192)):Ee(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function Gh(n,e){switch(hl(e),e.tag){case 1:return Le(e.type)&&Dr(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ht(),ie(De),ie(xe),wl(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return El(e),null;case 13:if(ie(le),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(A(340));qt()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ie(le),null;case 4:return Ht(),null;case 10:return vl(e.type._context),null;case 22:case 23:return Ul(),null;case 24:return null;default:return null}}var lr=!1,we=!1,qh=typeof WeakSet=="function"?WeakSet:Set,L=null;function wt(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){ce(n,e,o)}else t.current=null}function Ps(n,e,t){try{t()}catch(o){ce(n,e,o)}}var Oa=!1;function Bh(n,e){if(ps=Nr,n=Id(),pl(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var l=0,u=-1,c=-1,d=0,f=0,m=n,p=null;n:for(;;){for(var _;m!==t||r!==0&&m.nodeType!==3||(u=l+r),m!==i||o!==0&&m.nodeType!==3||(c=l+o),m.nodeType===3&&(l+=m.nodeValue.length),(_=m.firstChild)!==null;)p=m,m=_;for(;;){if(m===n)break n;if(p===t&&++d===r&&(u=l),p===i&&++f===o&&(c=l),(_=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=_}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(ms={focusedElem:n,selectionRange:t},Nr=!1,L=e;L!==null;)if(e=L,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,L=n;else for(;L!==null;){e=L;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,w=C.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?T:je(e.type,T),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(S){ce(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}return C=Oa,Oa=!1,C}function go(n,e,t){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&Ps(e,t,i)}r=r.next}while(r!==o)}}function si(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var o=t.create;t.destroy=o()}t=t.next}while(t!==e)}}function Rs(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Sf(n){var e=n.alternate;e!==null&&(n.alternate=null,Sf(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[dn],delete e[Po],delete e[ys],delete e[Sh],delete e[Eh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Ef(n){return n.tag===5||n.tag===3||n.tag===4}function Ya(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ef(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ms(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Mr));else if(o!==4&&(n=n.child,n!==null))for(Ms(n,e,t),n=n.sibling;n!==null;)Ms(n,e,t),n=n.sibling}function Ds(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(Ds(n,e,t),n=n.sibling;n!==null;)Ds(n,e,t),n=n.sibling}var ve=null,en=!1;function In(n,e,t){for(t=t.child;t!==null;)wf(n,e,t),t=t.sibling}function wf(n,e,t){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Zr,t)}catch{}switch(t.tag){case 5:we||wt(t,e);case 6:var o=ve,r=en;ve=null,In(n,e,t),ve=o,en=r,ve!==null&&(en?(n=ve,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ve.removeChild(t.stateNode));break;case 18:ve!==null&&(en?(n=ve,t=t.stateNode,n.nodeType===8?Li(n.parentNode,t):n.nodeType===1&&Li(n,t),Io(n)):Li(ve,t.stateNode));break;case 4:o=ve,r=en,ve=t.stateNode.containerInfo,en=!0,In(n,e,t),ve=o,en=r;break;case 0:case 11:case 14:case 15:if(!we&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ps(t,e,l),r=r.next}while(r!==o)}In(n,e,t);break;case 1:if(!we&&(wt(t,e),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(u){ce(t,e,u)}In(n,e,t);break;case 21:In(n,e,t);break;case 22:t.mode&1?(we=(o=we)||t.memoizedState!==null,In(n,e,t),we=o):In(n,e,t);break;default:In(n,e,t)}}function Qa(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new qh),e.forEach(function(o){var r=Qh.bind(null,n,o);t.has(o)||(t.add(o),o.then(r,r))})}}function Ze(n,e){var t=e.deletions;if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];try{var i=n,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ve=u.stateNode,en=!1;break e;case 3:ve=u.stateNode.containerInfo,en=!0;break e;case 4:ve=u.stateNode.containerInfo,en=!0;break e}u=u.return}if(ve===null)throw Error(A(160));wf(i,l,r),ve=null,en=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){ce(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)If(e,n),e=e.sibling}function If(n,e){var t=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ze(e,n),un(n),o&4){try{go(3,n,n.return),si(3,n)}catch(T){ce(n,n.return,T)}try{go(5,n,n.return)}catch(T){ce(n,n.return,T)}}break;case 1:Ze(e,n),un(n),o&512&&t!==null&&wt(t,t.return);break;case 5:if(Ze(e,n),un(n),o&512&&t!==null&&wt(t,t.return),n.flags&32){var r=n.stateNode;try{To(r,"")}catch(T){ce(n,n.return,T)}}if(o&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,l=t!==null?t.memoizedProps:i,u=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Kc(r,i),os(u,l);var d=os(u,i);for(l=0;l<c.length;l+=2){var f=c[l],m=c[l+1];f==="style"?Xc(r,m):f==="dangerouslySetInnerHTML"?Qc(r,m):f==="children"?To(r,m):el(r,f,m,d)}switch(u){case"input":Zi(r,i);break;case"textarea":Oc(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?kt(r,!!i.multiple,_,!1):p!==!!i.multiple&&(i.defaultValue!=null?kt(r,!!i.multiple,i.defaultValue,!0):kt(r,!!i.multiple,i.multiple?[]:"",!1))}r[Po]=i}catch(T){ce(n,n.return,T)}}break;case 6:if(Ze(e,n),un(n),o&4){if(n.stateNode===null)throw Error(A(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(T){ce(n,n.return,T)}}break;case 3:if(Ze(e,n),un(n),o&4&&t!==null&&t.memoizedState.isDehydrated)try{Io(e.containerInfo)}catch(T){ce(n,n.return,T)}break;case 4:Ze(e,n),un(n);break;case 13:Ze(e,n),un(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Dl=de())),o&4&&Qa(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(we=(d=we)||f,Ze(e,n),we=d):Ze(e,n),un(n),o&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!f&&n.mode&1)for(L=n,f=n.child;f!==null;){for(m=L=f;L!==null;){switch(p=L,_=p.child,p.tag){case 0:case 11:case 14:case 15:go(4,p,p.return);break;case 1:wt(p,p.return);var C=p.stateNode;if(typeof C.componentWillUnmount=="function"){o=p,t=p.return;try{e=o,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(T){ce(o,t,T)}}break;case 5:wt(p,p.return);break;case 22:if(p.memoizedState!==null){Xa(m);continue}}_!==null?(_.return=p,L=_):Xa(m)}f=f.sibling}e:for(f=null,m=n;;){if(m.tag===5){if(f===null){f=m;try{r=m.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=bc("display",l))}catch(T){ce(n,n.return,T)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(T){ce(n,n.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===n)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ze(e,n),un(n),o&4&&Qa(n);break;case 21:break;default:Ze(e,n),un(n)}}function un(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Ef(t)){var o=t;break e}t=t.return}throw Error(A(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(To(r,""),o.flags&=-33);var i=Ya(n);Ds(n,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Ya(n);Ms(n,u,l);break;default:throw Error(A(161))}}catch(c){ce(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Hh(n,e,t){L=n,xf(n)}function xf(n,e,t){for(var o=(n.mode&1)!==0;L!==null;){var r=L,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||lr;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||we;u=lr;var d=we;if(lr=l,(we=c)&&!d)for(L=r;L!==null;)l=L,c=l.child,l.tag===22&&l.memoizedState!==null?Za(r):c!==null?(c.return=l,L=c):Za(r);for(;i!==null;)L=i,xf(i),i=i.sibling;L=r,lr=u,we=d}ba(n)}else r.subtreeFlags&8772&&i!==null?(i.return=r,L=i):ba(n)}}function ba(n){for(;L!==null;){var e=L;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:we||si(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!we)if(t===null)o.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:je(e.type,t.memoizedProps);o.componentDidUpdate(r,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&La(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}La(e,l,t)}break;case 5:var u=e.stateNode;if(t===null&&e.flags&4){t=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Io(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}we||e.flags&512&&Rs(e)}catch(p){ce(e,e.return,p)}}if(e===n){L=null;break}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}}function Xa(n){for(;L!==null;){var e=L;if(e===n){L=null;break}var t=e.sibling;if(t!==null){t.return=e.return,L=t;break}L=e.return}}function Za(n){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{si(4,e)}catch(c){ce(e,t,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(c){ce(e,r,c)}}var i=e.return;try{Rs(e)}catch(c){ce(e,i,c)}break;case 5:var l=e.return;try{Rs(e)}catch(c){ce(e,l,c)}}}catch(c){ce(e,e.return,c)}if(e===n){L=null;break}var u=e.sibling;if(u!==null){u.return=e.return,L=u;break}L=e.return}}var zh=Math.ceil,$r=En.ReactCurrentDispatcher,Rl=En.ReactCurrentOwner,Ke=En.ReactCurrentBatchConfig,O=0,_e=null,fe=null,Ce=0,Ve=0,It=$n(0),he=0,Fo=null,it=0,li=0,Ml=0,yo=null,Re=null,Dl=0,$t=1/0,mn=null,Jr=!1,Ls=null,Vn=null,ar=!1,Rn=null,Wr=0,_o=0,Us=null,vr=-1,Cr=0;function Ae(){return O&6?de():vr!==-1?vr:vr=de()}function Gn(n){return n.mode&1?O&2&&Ce!==0?Ce&-Ce:Ih.transition!==null?(Cr===0&&(Cr=ud()),Cr):(n=b,n!==0||(n=window.event,n=n===void 0?16:gd(n.type)),n):1}function rn(n,e,t,o){if(50<_o)throw _o=0,Us=null,Error(A(185));Go(n,t,o),(!(O&2)||n!==_e)&&(n===_e&&(!(O&2)&&(li|=t),he===4&&Nn(n,Ce)),Ue(n,o),t===1&&O===0&&!(e.mode&1)&&($t=de()+500,oi&&Jn()))}function Ue(n,e){var t=n.callbackNode;Im(n,e);var o=Ar(n,n===_e?Ce:0);if(o===0)t!==null&&la(t),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(t!=null&&la(t),e===1)n.tag===0?wh(ja.bind(null,n)):Ud(ja.bind(null,n)),Ch(function(){!(O&6)&&Jn()}),t=null;else{switch(cd(o)){case 1:t=il;break;case 4:t=ld;break;case 16:t=kr;break;case 536870912:t=ad;break;default:t=kr}t=Lf(t,kf.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function kf(n,e){if(vr=-1,Cr=0,O&6)throw Error(A(327));var t=n.callbackNode;if(Mt()&&n.callbackNode!==t)return null;var o=Ar(n,n===_e?Ce:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=Kr(n,o);else{e=o;var r=O;O|=2;var i=Nf();(_e!==n||Ce!==e)&&(mn=null,$t=de()+500,et(n,e));do try{Wh();break}catch(u){Af(n,u)}while(!0);_l(),$r.current=i,O=r,fe!==null?e=0:(_e=null,Ce=0,e=he)}if(e!==0){if(e===2&&(r=as(n),r!==0&&(o=r,e=Fs(n,r))),e===1)throw t=Fo,et(n,0),Nn(n,o),Ue(n,de()),t;if(e===6)Nn(n,o);else{if(r=n.current.alternate,!(o&30)&&!$h(r)&&(e=Kr(n,o),e===2&&(i=as(n),i!==0&&(o=i,e=Fs(n,i))),e===1))throw t=Fo,et(n,0),Nn(n,o),Ue(n,de()),t;switch(n.finishedWork=r,n.finishedLanes=o,e){case 0:case 1:throw Error(A(345));case 2:bn(n,Re,mn);break;case 3:if(Nn(n,o),(o&130023424)===o&&(e=Dl+500-de(),10<e)){if(Ar(n,0)!==0)break;if(r=n.suspendedLanes,(r&o)!==o){Ae(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=gs(bn.bind(null,n,Re,mn),e);break}bn(n,Re,mn);break;case 4:if(Nn(n,o),(o&4194240)===o)break;for(e=n.eventTimes,r=-1;0<o;){var l=31-on(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=de()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*zh(o/1960))-o,10<o){n.timeoutHandle=gs(bn.bind(null,n,Re,mn),o);break}bn(n,Re,mn);break;case 5:bn(n,Re,mn);break;default:throw Error(A(329))}}}return Ue(n,de()),n.callbackNode===t?kf.bind(null,n):null}function Fs(n,e){var t=yo;return n.current.memoizedState.isDehydrated&&(et(n,e).flags|=256),n=Kr(n,e),n!==2&&(e=Re,Re=t,e!==null&&Vs(e)),n}function Vs(n){Re===null?Re=n:Re.push.apply(Re,n)}function $h(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var r=t[o],i=r.getSnapshot;r=r.value;try{if(!sn(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nn(n,e){for(e&=~Ml,e&=~li,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-on(e),o=1<<t;n[t]=-1,e&=~o}}function ja(n){if(O&6)throw Error(A(327));Mt();var e=Ar(n,0);if(!(e&1))return Ue(n,de()),null;var t=Kr(n,e);if(n.tag!==0&&t===2){var o=as(n);o!==0&&(e=o,t=Fs(n,o))}if(t===1)throw t=Fo,et(n,0),Nn(n,e),Ue(n,de()),t;if(t===6)throw Error(A(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,bn(n,Re,mn),Ue(n,de()),null}function Ll(n,e){var t=O;O|=1;try{return n(e)}finally{O=t,O===0&&($t=de()+500,oi&&Jn())}}function st(n){Rn!==null&&Rn.tag===0&&!(O&6)&&Mt();var e=O;O|=1;var t=Ke.transition,o=b;try{if(Ke.transition=null,b=1,n)return n()}finally{b=o,Ke.transition=t,O=e,!(O&6)&&Jn()}}function Ul(){Ve=It.current,ie(It)}function et(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,vh(t)),fe!==null)for(t=fe.return;t!==null;){var o=t;switch(hl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Dr();break;case 3:Ht(),ie(De),ie(xe),wl();break;case 5:El(o);break;case 4:Ht();break;case 13:ie(le);break;case 19:ie(le);break;case 10:vl(o.type._context);break;case 22:case 23:Ul()}t=t.return}if(_e=n,fe=n=qn(n.current,null),Ce=Ve=e,he=0,Fo=null,Ml=li=it=0,Re=yo=null,Zn!==null){for(e=0;e<Zn.length;e++)if(t=Zn[e],o=t.interleaved,o!==null){t.interleaved=null;var r=o.next,i=t.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}t.pending=o}Zn=null}return n}function Af(n,e){do{var t=fe;try{if(_l(),gr.current=zr,Hr){for(var o=ae.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Hr=!1}if(rt=0,ye=me=ae=null,ho=!1,Do=0,Rl.current=null,t===null||t.return===null){he=1,Fo=e,fe=null;break}e:{var i=n,l=t.return,u=t,c=e;if(e=Ce,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=Ba(l);if(_!==null){_.flags&=-257,Ha(_,l,u,i,e),_.mode&1&&qa(i,d,e),e=_,c=d;var C=e.updateQueue;if(C===null){var T=new Set;T.add(c),e.updateQueue=T}else C.add(c);break e}else{if(!(e&1)){qa(i,d,e),Fl();break e}c=Error(A(426))}}else if(se&&u.mode&1){var w=Ba(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ha(w,l,u,i,e),gl(zt(c,u));break e}}i=c=zt(c,u),he!==4&&(he=2),yo===null?yo=[i]:yo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=df(i,c,e);Da(i,y);break e;case 1:u=c;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Vn===null||!Vn.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=ff(i,u,e);Da(i,S);break e}}i=i.return}while(i!==null)}Rf(t)}catch(E){e=E,fe===t&&t!==null&&(fe=t=t.return);continue}break}while(!0)}function Nf(){var n=$r.current;return $r.current=zr,n===null?zr:n}function Fl(){(he===0||he===3||he===2)&&(he=4),_e===null||!(it&268435455)&&!(li&268435455)||Nn(_e,Ce)}function Kr(n,e){var t=O;O|=2;var o=Nf();(_e!==n||Ce!==e)&&(mn=null,et(n,e));do try{Jh();break}catch(r){Af(n,r)}while(!0);if(_l(),O=t,$r.current=o,fe!==null)throw Error(A(261));return _e=null,Ce=0,he}function Jh(){for(;fe!==null;)Pf(fe)}function Wh(){for(;fe!==null&&!gm();)Pf(fe)}function Pf(n){var e=Df(n.alternate,n,Ve);n.memoizedProps=n.pendingProps,e===null?Rf(n):fe=e,Rl.current=null}function Rf(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Gh(t,e),t!==null){t.flags&=32767,fe=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{he=6,fe=null;return}}else if(t=Vh(t,e,Ve),t!==null){fe=t;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=n}while(e!==null);he===0&&(he=5)}function bn(n,e,t){var o=b,r=Ke.transition;try{Ke.transition=null,b=1,Kh(n,e,t,o)}finally{Ke.transition=r,b=o}return null}function Kh(n,e,t,o){do Mt();while(Rn!==null);if(O&6)throw Error(A(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(A(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(xm(n,i),n===_e&&(fe=_e=null,Ce=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ar||(ar=!0,Lf(kr,function(){return Mt(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var l=b;b=1;var u=O;O|=4,Rl.current=null,Bh(n,t),If(t,n),fh(ms),Nr=!!ps,ms=ps=null,n.current=t,Hh(t),ym(),O=u,b=l,Ke.transition=i}else n.current=t;if(ar&&(ar=!1,Rn=n,Wr=r),i=n.pendingLanes,i===0&&(Vn=null),Cm(t.stateNode),Ue(n,de()),e!==null)for(o=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],o(r.value,{componentStack:r.stack,digest:r.digest});if(Jr)throw Jr=!1,n=Ls,Ls=null,n;return Wr&1&&n.tag!==0&&Mt(),i=n.pendingLanes,i&1?n===Us?_o++:(_o=0,Us=n):_o=0,Jn(),null}function Mt(){if(Rn!==null){var n=cd(Wr),e=Ke.transition,t=b;try{if(Ke.transition=null,b=16>n?16:n,Rn===null)var o=!1;else{if(n=Rn,Rn=null,Wr=0,O&6)throw Error(A(331));var r=O;for(O|=4,L=n.current;L!==null;){var i=L,l=i.child;if(L.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(L=d;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:go(8,f,i)}var m=f.child;if(m!==null)m.return=f,L=m;else for(;L!==null;){f=L;var p=f.sibling,_=f.return;if(Sf(f),f===d){L=null;break}if(p!==null){p.return=_,L=p;break}L=_}}}var C=i.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var w=T.sibling;T.sibling=null,T=w}while(T!==null)}}L=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,L=l;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:go(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,L=y;break e}L=i.return}}var g=n.current;for(L=g;L!==null;){l=L;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,L=v;else e:for(l=g;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:si(9,u)}}catch(E){ce(u,u.return,E)}if(u===l){L=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,L=S;break e}L=u.return}}if(O=r,Jn(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Zr,n)}catch{}o=!0}return o}finally{b=t,Ke.transition=e}}return!1}function eu(n,e,t){e=zt(t,e),e=df(n,e,1),n=Fn(n,e,1),e=Ae(),n!==null&&(Go(n,1,e),Ue(n,e))}function ce(n,e,t){if(n.tag===3)eu(n,n,t);else for(;e!==null;){if(e.tag===3){eu(e,n,t);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vn===null||!Vn.has(o))){n=zt(t,n),n=ff(e,n,1),e=Fn(e,n,1),n=Ae(),e!==null&&(Go(e,1,n),Ue(e,n));break}}e=e.return}}function Oh(n,e,t){var o=n.pingCache;o!==null&&o.delete(e),e=Ae(),n.pingedLanes|=n.suspendedLanes&t,_e===n&&(Ce&t)===t&&(he===4||he===3&&(Ce&130023424)===Ce&&500>de()-Dl?et(n,0):Ml|=t),Ue(n,e)}function Mf(n,e){e===0&&(n.mode&1?(e=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):e=1);var t=Ae();n=Tn(n,e),n!==null&&(Go(n,e,t),Ue(n,t))}function Yh(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Mf(n,t)}function Qh(n,e){var t=0;switch(n.tag){case 13:var o=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(A(314))}o!==null&&o.delete(e),Mf(n,t)}var Df;Df=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||De.current)Me=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Me=!1,Fh(n,e,t);Me=!!(n.flags&131072)}else Me=!1,se&&e.flags&1048576&&Fd(e,Fr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;_r(n,e),n=e.pendingProps;var r=Gt(e,xe.current);Rt(e,t),r=xl(null,e,o,n,r,t);var i=kl();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Le(o)?(i=!0,Lr(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Tl(e),r.updater=ii,e.stateNode=r,r._reactInternals=e,Es(e,o,n,t),e=xs(null,e,o,!0,i,t)):(e.tag=0,se&&i&&ml(e),ke(null,e,r,t),e=e.child),e;case 16:o=e.elementType;e:{switch(_r(n,e),n=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=Xh(o),n=je(o,n),r){case 0:e=Is(null,e,o,n,t);break e;case 1:e=Ja(null,e,o,n,t);break e;case 11:e=za(null,e,o,n,t);break e;case 14:e=$a(null,e,o,je(o.type,n),t);break e}throw Error(A(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:je(o,r),Is(n,e,o,r,t);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:je(o,r),Ja(n,e,o,r,t);case 3:e:{if(gf(e),n===null)throw Error(A(387));o=e.pendingProps,i=e.memoizedState,r=i.element,zd(n,e),qr(e,o,null,t);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=zt(Error(A(423)),e),e=Wa(n,e,o,t,r);break e}else if(o!==r){r=zt(Error(A(424)),e),e=Wa(n,e,o,t,r);break e}else for(Ge=Un(e.stateNode.containerInfo.firstChild),qe=e,se=!0,nn=null,t=Bd(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(qt(),o===r){e=Sn(n,e,t);break e}ke(n,e,o,t)}e=e.child}return e;case 5:return $d(e),n===null&&Cs(e),o=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,l=r.children,hs(o,r)?l=null:i!==null&&hs(o,i)&&(e.flags|=32),hf(n,e),ke(n,e,l,t),e.child;case 6:return n===null&&Cs(e),null;case 13:return yf(n,e,t);case 4:return Sl(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=Bt(e,null,o,t):ke(n,e,o,t),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:je(o,r),za(n,e,o,r,t);case 7:return ke(n,e,e.pendingProps,t),e.child;case 8:return ke(n,e,e.pendingProps.children,t),e.child;case 12:return ke(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,ne(Vr,o._currentValue),o._currentValue=l,i!==null)if(sn(i.value,l)){if(i.children===r.children&&!De.current){e=Sn(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=_n(-1,t&-t),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),Ts(i.return,t,e),u.lanes|=t;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(A(341));l.lanes|=t,u=l.alternate,u!==null&&(u.lanes|=t),Ts(l,t,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ke(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Rt(e,t),r=Ye(r),o=o(r),e.flags|=1,ke(n,e,o,t),e.child;case 14:return o=e.type,r=je(o,e.pendingProps),r=je(o.type,r),$a(n,e,o,r,t);case 15:return pf(n,e,e.type,e.pendingProps,t);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:je(o,r),_r(n,e),e.tag=1,Le(o)?(n=!0,Lr(e)):n=!1,Rt(e,t),cf(e,o,r),Es(e,o,r,t),xs(null,e,o,!0,n,t);case 19:return _f(n,e,t);case 22:return mf(n,e,t)}throw Error(A(156,e.tag))};function Lf(n,e){return sd(n,e)}function bh(n,e,t,o){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(n,e,t,o){return new bh(n,e,t,o)}function Vl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xh(n){if(typeof n=="function")return Vl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===tl)return 11;if(n===ol)return 14}return 2}function qn(n,e){var t=n.alternate;return t===null?(t=We(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Tr(n,e,t,o,r,i){var l=2;if(o=n,typeof n=="function")Vl(n)&&(l=1);else if(typeof n=="string")l=5;else e:switch(n){case ht:return nt(t.children,r,i,e);case nl:l=8,r|=8;break;case Oi:return n=We(12,t,e,r|2),n.elementType=Oi,n.lanes=i,n;case Yi:return n=We(13,t,e,r),n.elementType=Yi,n.lanes=i,n;case Qi:return n=We(19,t,e,r),n.elementType=Qi,n.lanes=i,n;case $c:return ai(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Hc:l=10;break e;case zc:l=9;break e;case tl:l=11;break e;case ol:l=14;break e;case xn:l=16,o=null;break e}throw Error(A(130,n==null?n:typeof n,""))}return e=We(l,t,e,r),e.elementType=n,e.type=o,e.lanes=i,e}function nt(n,e,t,o){return n=We(7,n,o,e),n.lanes=t,n}function ai(n,e,t,o){return n=We(22,n,o,e),n.elementType=$c,n.lanes=t,n.stateNode={isHidden:!1},n}function zi(n,e,t){return n=We(6,n,null,e),n.lanes=t,n}function $i(n,e,t){return e=We(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Zh(n,e,t,o,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Gl(n,e,t,o,r,i,l,u,c){return n=new Zh(n,e,t,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=We(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(i),n}function jh(n,e,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mt,key:o==null?null:""+o,children:n,containerInfo:e,implementation:t}}function Uf(n){if(!n)return Hn;n=n._reactInternals;e:{if(ut(n)!==n||n.tag!==1)throw Error(A(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Le(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(n.tag===1){var t=n.type;if(Le(t))return Ld(n,t,e)}return e}function Ff(n,e,t,o,r,i,l,u,c){return n=Gl(t,o,!0,n,r,i,l,u,c),n.context=Uf(null),t=n.current,o=Ae(),r=Gn(t),i=_n(o,r),i.callback=e??null,Fn(t,i,r),n.current.lanes=r,Go(n,r,o),Ue(n,o),n}function ui(n,e,t,o){var r=e.current,i=Ae(),l=Gn(r);return t=Uf(t),e.context===null?e.context=t:e.pendingContext=t,e=_n(i,l),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=Fn(r,e,l),n!==null&&(rn(n,r,l,i),hr(n,r,l)),l}function Or(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function nu(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ql(n,e){nu(n,e),(n=n.alternate)&&nu(n,e)}function eg(){return null}var Vf=typeof reportError=="function"?reportError:function(n){console.error(n)};function Bl(n){this._internalRoot=n}ci.prototype.render=Bl.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(A(409));ui(n,e,null,null)};ci.prototype.unmount=Bl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;st(function(){ui(null,n,null,null)}),e[Cn]=null}};function ci(n){this._internalRoot=n}ci.prototype.unstable_scheduleHydration=function(n){if(n){var e=pd();n={blockedOn:null,target:n,priority:e};for(var t=0;t<An.length&&e!==0&&e<An[t].priority;t++);An.splice(t,0,n),t===0&&hd(n)}};function Hl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function di(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function tu(){}function ng(n,e,t,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=Or(l);i.call(d)}}var l=Ff(e,o,n,0,null,!1,!1,"",tu);return n._reactRootContainer=l,n[Cn]=l.current,Ao(n.nodeType===8?n.parentNode:n),st(),l}for(;r=n.lastChild;)n.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=Or(c);u.call(d)}}var c=Gl(n,0,!1,null,null,!1,!1,"",tu);return n._reactRootContainer=c,n[Cn]=c.current,Ao(n.nodeType===8?n.parentNode:n),st(function(){ui(e,c,t,o)}),c}function fi(n,e,t,o,r){var i=t._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=Or(l);u.call(c)}}ui(e,l,n,r)}else l=ng(t,e,n,r,o);return Or(l)}dd=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=lo(e.pendingLanes);t!==0&&(sl(e,t|1),Ue(e,de()),!(O&6)&&($t=de()+500,Jn()))}break;case 13:st(function(){var o=Tn(n,1);if(o!==null){var r=Ae();rn(o,n,1,r)}}),ql(n,1)}};ll=function(n){if(n.tag===13){var e=Tn(n,134217728);if(e!==null){var t=Ae();rn(e,n,134217728,t)}ql(n,134217728)}};fd=function(n){if(n.tag===13){var e=Gn(n),t=Tn(n,e);if(t!==null){var o=Ae();rn(t,n,e,o)}ql(n,e)}};pd=function(){return b};md=function(n,e){var t=b;try{return b=n,e()}finally{b=t}};is=function(n,e,t){switch(e){case"input":if(Zi(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var o=t[e];if(o!==n&&o.form===n.form){var r=ti(o);if(!r)throw Error(A(90));Wc(o),Zi(o,r)}}}break;case"textarea":Oc(n,t);break;case"select":e=t.value,e!=null&&kt(n,!!t.multiple,e,!1)}};ed=Ll;nd=st;var tg={usingClientEntryPoint:!1,Events:[Bo,vt,ti,Zc,jc,Ll]},oo={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},og={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rd(n),n===null?null:n.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ur.isDisabled&&ur.supportsFiber)try{Zr=ur.inject(og),fn=ur}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tg;He.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hl(e))throw Error(A(200));return jh(n,e,null,t)};He.createRoot=function(n,e){if(!Hl(n))throw Error(A(299));var t=!1,o="",r=Vf;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Gl(n,1,!1,null,null,t,!1,o,r),n[Cn]=e.current,Ao(n.nodeType===8?n.parentNode:n),new Bl(e)};He.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(A(188)):(n=Object.keys(n).join(","),Error(A(268,n)));return n=rd(e),n=n===null?null:n.stateNode,n};He.flushSync=function(n){return st(n)};He.hydrate=function(n,e,t){if(!di(e))throw Error(A(200));return fi(null,n,e,!0,t)};He.hydrateRoot=function(n,e,t){if(!Hl(n))throw Error(A(405));var o=t!=null&&t.hydratedSources||null,r=!1,i="",l=Vf;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),e=Ff(e,null,n,1,t??null,r,!1,i,l),n[Cn]=e.current,Ao(n),o)for(n=0;n<o.length;n++)t=o[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new ci(e)};He.render=function(n,e,t){if(!di(e))throw Error(A(200));return fi(null,n,e,!1,t)};He.unmountComponentAtNode=function(n){if(!di(n))throw Error(A(40));return n._reactRootContainer?(st(function(){fi(null,null,n,!1,function(){n._reactRootContainer=null,n[Cn]=null})}),!0):!1};He.unstable_batchedUpdates=Ll;He.unstable_renderSubtreeIntoContainer=function(n,e,t,o){if(!di(t))throw Error(A(200));if(n==null||n._reactInternals===void 0)throw Error(A(38));return fi(n,e,t,!1,o)};He.version="18.3.1-next-f1338f8080-20240426";function Gf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gf)}catch(n){console.error(n)}}Gf(),Vc.exports=He;var rg=Vc.exports,ou=rg;Wi.createRoot=ou.createRoot,Wi.hydrateRoot=ou.hydrateRoot;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ig,sg;function lg(){return{geminiUrl:ig,vertexUrl:sg}}function ag(n,e,t,o){var r,i;if(!(n!=null&&n.baseUrl)){const l=lg();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:t:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ct{}function U(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(n,e,t){for(let i=0;i<e.length-1;i++){const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let d=0;d<c.length;d++){const f=c[d];a(f,e.slice(i+1),t[d])}else for(const d of c)a(d,e.slice(i+1),t)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];a(c[0],e.slice(i+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const o=e[e.length-1],r=n[o];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[o]=t}function s(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return t;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in n){const l=n[i];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),t)):t}else return t}else n=n[r]}return n}catch(o){if(o instanceof TypeError)return t;throw o}}function ug(n,e){for(const[t,o]of Object.entries(e)){const r=t.split("."),i=o.split("."),l=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Gs(n,r,i,0,l)}}function Gs(n,e,t,o,r){if(o>=e.length||typeof n!="object"||n===null)return;const i=e[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=n;if(l in u&&Array.isArray(u[l]))for(const c of u[l])Gs(c,e,t,o+1,r)}else if(i==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const l=n,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const m=[];for(const p of t.slice(o))p==="*"?m.push(d):m.push(p);a(l,m,f)}for(const d of u)delete l[d]}}else{const l=n;i in l&&Gs(l[i],e,t,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zl(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cg(n){const e={},t=s(n,["operationName"]);t!=null&&a(e,["operationName"],t);const o=s(n,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function dg(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],pg(l)),e}function fg(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response"]);return l!=null&&a(e,["response"],mg(l)),e}function pg(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>hg(l))),a(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function mg(n){const e={},t=s(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>gg(l))),a(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function hg(n){const e={},t=s(n,["video"]);return t!=null&&a(e,["video"],vg(t)),e}function gg(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],Cg(t)),e}function yg(n){const e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function _g(n){const e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function vg(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const o=s(n,["encodedVideo"]);o!=null&&a(e,["videoBytes"],zl(o));const r=s(n,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function Cg(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],zl(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ru;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ru||(ru={}));var iu;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(iu||(iu={}));var tn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(tn||(tn={}));var su;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(su||(su={}));var lu;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(lu||(lu={}));var au;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(au||(au={}));var uu;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(uu||(uu={}));var cu;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(cu||(cu={}));var du;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(du||(du={}));var fu;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(fu||(fu={}));var pu;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(pu||(pu={}));var mu;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(mu||(mu={}));var hu;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(hu||(hu={}));var gu;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(gu||(gu={}));var yu;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(yu||(yu={}));var Yr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Yr||(Yr={}));var _u;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_u||(_u={}));var qs;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qs||(qs={}));var vu;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(vu||(vu={}));var Cu;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Cu||(Cu={}));var Tu;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Tu||(Tu={}));var Su;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Su||(Su={}));var Eu;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Eu||(Eu={}));var wu;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(wu||(wu={}));var Iu;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Iu||(Iu={}));var xu;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(xu||(xu={}));var ku;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(ku||(ku={}));var Au;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Au||(Au={}));var Nu;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Nu||(Nu={}));var Pu;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Pu||(Pu={}));var Ru;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ru||(Ru={}));var Mu;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Mu||(Mu={}));var Du;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Du||(Du={}));var Lu;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Lu||(Lu={}));var Uu;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Uu||(Uu={}));var Fu;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Fu||(Fu={}));var Vu;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Vu||(Vu={}));var Gu;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Gu||(Gu={}));var qu;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(qu||(qu={}));var Bu;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Bu||(Bu={}));var Hu;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Hu||(Hu={}));var zu;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(zu||(zu={}));var $u;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})($u||($u={}));var Ju;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ju||(Ju={}));var Wu;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Wu||(Wu={}));var Ku;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Ku||(Ku={}));var Ou;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ou||(Ou={}));var Yu;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Yu||(Yu={}));var xt;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(xt||(xt={}));class Bs{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class ro{get text(){var e,t,o,r,i,l,u,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const m=[];for(const p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,C]of Object.entries(p))_!=="text"&&_!=="thought"&&(C!==null||C!==void 0)&&m.push(_);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,t,o,r,i,l,u,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const m of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,_]of Object.entries(m))p!=="inlineData"&&(_!==null||_!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,o,r,i,l,u,c;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,o,r,i,l,u,c,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,o,r,i,l,u,c,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Qu{}class bu{}class Tg{}class Sg{}class Eg{}class wg{}class Xu{}class Zu{}class ju{}class Ig{}class Qr{_fromAPIResponse({apiResponse:e,isVertexAI:t}){const o=new Qr;let r;const i=e;return t?r=fg(i):r=dg(i),Object.assign(o,r),o}}class ec{}class nc{}class tc{}class xg{}class kg{}class Ag{}class oc{}class Ng{get text(){var e,t,o;let r="",i=!1;const l=[];for(const u of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,t,o;let r="";const i=[];for(const l of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Pg{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function qf(n,e){const t=Y(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Bf(n){return Array.isArray(n)?n.map(e=>br(e)):[br(n)]}function br(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Hf(n){const e=br(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zf(n){const e=br(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function rc(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function $f(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>rc(e)):[rc(n)]}function Hs(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function ic(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function sc(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ie(n){if(n==null)throw new Error("ContentUnion is required");return Hs(n)?n:{role:"user",parts:$f(n)}}function $l(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=Ie(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=Ie(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ie(t)):[Ie(e)]}function Oe(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(ic(n)||sc(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ie(n)]}const e=[],t=[],o=Hs(n[0]);for(const r of n){const i=Hs(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(ic(r)||sc(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return o||e.push({role:"user",parts:$f(t)}),e}function Rg(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(tn).includes(t[0].toUpperCase())?t[0].toUpperCase():tn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.values(tn).includes(o.toUpperCase())?o.toUpperCase():tn.TYPE_UNSPECIFIED})}}function Dt(n){const e={},t=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=n.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,n=i[1]):i[1].type==="null"&&(e.nullable=!0,n=i[0])),n.type instanceof Array&&Rg(n.type,e);for(const[l,u]of Object.entries(n))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(tn).includes(u.toUpperCase())?u.toUpperCase():tn.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=Dt(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Dt(d))}e[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=Dt(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function Jl(n){return Dt(n)}function Wl(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Kl(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ot(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Dt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Dt(e.response));return n}function Yt(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function Mg(n,e,t,o=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function wn(n,e){if(typeof e!="string")throw new Error("name must be a string");return Mg(n,e,"cachedContents")}function Jf(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Wn(n){return zl(n)}function Dg(n){return n!=null&&typeof n=="object"&&"name"in n}function Lg(n){return n!=null&&typeof n=="object"&&"video"in n}function Ug(n){return n!=null&&typeof n=="object"&&"uri"in n}function Wf(n){var e;let t;if(Dg(n)&&(t=n.name),!(Ug(n)&&(t=n.uri,t===void 0))&&!(Lg(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function Kf(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Of(n){for(const e of["models","tunedModels","publisherModels"])if(Fg(n,e))return n[e];return[]}function Fg(n,e){return n!==null&&typeof n=="object"&&e in n}function Vg(n,e={}){const t=n,o={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(o.responseJsonSchema=t.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Gg(n,e={}){const t=[],o=new Set;for(const r of n){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=Vg(r,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function Yf(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const o=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function qg(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Qf(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Qt(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function bf(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bg(n){const e={},t=s(n,["responsesFile"]);t!=null&&a(e,["fileName"],t);const o=s(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>yy(l))),a(e,["inlinedResponses"],i)}const r=s(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["inlinedEmbedContentResponses"],i)}return e}function Hg(n){const e={},t=s(n,["predictionsFormat"]);t!=null&&a(e,["format"],t);const o=s(n,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const r=s(n,["bigqueryDestination","outputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function zg(n){const e={},t=s(n,["format"]);t!=null&&a(e,["predictionsFormat"],t);const o=s(n,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const r=s(n,["bigqueryUri"]);if(r!=null&&a(e,["bigqueryDestination","outputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Sr(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const r=s(n,["metadata","state"]);r!=null&&a(e,["state"],bf(r));const i=s(n,["metadata","createTime"]);i!=null&&a(e,["createTime"],i);const l=s(n,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(n,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=s(n,["metadata","model"]);c!=null&&a(e,["model"],c);const d=s(n,["metadata","output"]);return d!=null&&a(e,["dest"],Bg(Qf(d))),e}function zs(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(n,["state"]);r!=null&&a(e,["state"],bf(r));const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(n,["startTime"]);u!=null&&a(e,["startTime"],u);const c=s(n,["endTime"]);c!=null&&a(e,["endTime"],c);const d=s(n,["updateTime"]);d!=null&&a(e,["updateTime"],d);const f=s(n,["model"]);f!=null&&a(e,["model"],f);const m=s(n,["inputConfig"]);m!=null&&a(e,["src"],$g(m));const p=s(n,["outputConfig"]);return p!=null&&a(e,["dest"],Hg(Qf(p))),e}function $g(n){const e={},t=s(n,["instancesFormat"]);t!=null&&a(e,["format"],t);const o=s(n,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const r=s(n,["bigquerySource","inputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function Jg(n,e){const t={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(t,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>gy(n,l))),a(t,["requests","requests"],i)}return t}function Wg(n){const e={},t=s(n,["format"]);t!=null&&a(e,["instancesFormat"],t);const o=s(n,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const r=s(n,["bigqueryUri"]);if(r!=null&&a(e,["bigquerySource","inputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Kg(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["data"]);t!=null&&a(e,["data"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Og(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Qt(n,o)),t}function Yg(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Qt(n,o)),t}function Qg(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],t);const o=s(n,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],bg(o));const r=s(n,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(n,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(n,["urlContextMetadata"]);l!=null&&a(e,["urlContextMetadata"],l);const u=s(n,["avgLogprobs"]);u!=null&&a(e,["avgLogprobs"],u);const c=s(n,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const d=s(n,["index"]);d!=null&&a(e,["index"],d);const f=s(n,["logprobsResult"]);f!=null&&a(e,["logprobsResult"],f);const m=s(n,["safetyRatings"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(_=>_)),a(e,["safetyRatings"],p)}return e}function bg(n){const e={},t=s(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function Xf(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>wy(i))),a(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function Xg(n,e){const t={},o=s(n,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Zg(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(n,["dest"]);return e!==void 0&&r!=null&&a(e,["outputConfig"],zg(qg(r))),t}function lc(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["src"]);r!=null&&a(t,["batch","inputConfig"],Jg(n,Yf(n,r)));const i=s(e,["config"]);return i!=null&&Xg(i,t),t}function jg(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],Y(n,o));const r=s(e,["src"]);r!=null&&a(t,["inputConfig"],Wg(Yf(n,r)));const i=s(e,["config"]);return i!=null&&Zg(i,t),t}function ey(n,e){const t={},o=s(n,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),t}function ny(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["src"]);r!=null&&a(t,["batch","inputConfig"],ay(n,r));const i=s(e,["config"]);return i!=null&&ey(i,t),t}function ty(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Qt(n,o)),t}function oy(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Qt(n,o)),t}function ry(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);return i!=null&&a(e,["error"],i),e}function iy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);return i!=null&&a(e,["error"],i),e}function sy(n,e){const t={},o=s(e,["contents"]);if(o!=null){let i=$l(n,o);Array.isArray(i)&&(i=i.map(l=>l)),a(t,["requests[]","request","content"],i)}const r=s(e,["config"]);return r!=null&&(a(t,["_self"],ly(r,t)),ug(t,{"requests[].*":"requests[].request.*"})),t}function ly(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function ay(n,e){const t={},o=s(e,["fileName"]);o!=null&&a(t,["file_name"],o);const r=s(e,["inlinedRequests"]);return r!=null&&a(t,["requests"],sy(n,r)),t}function uy(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function cy(n,e,t){const o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],Xf(Ie(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const _=s(e,["presencePenalty"]);_!=null&&a(o,["presencePenalty"],_);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const T=s(e,["seed"]);T!=null&&a(o,["seed"],T);const w=s(e,["responseMimeType"]);w!=null&&a(o,["responseMimeType"],w);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],Jl(y));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(t!==void 0&&v!=null){let z=v;Array.isArray(z)&&(z=z.map(X=>Iy(X))),a(t,["safetySettings"],z)}const S=s(e,["tools"]);if(t!==void 0&&S!=null){let z=Yt(S);Array.isArray(z)&&(z=z.map(X=>xy(Ot(X)))),a(t,["tools"],z)}const E=s(e,["toolConfig"]);if(t!==void 0&&E!=null&&a(t,["toolConfig"],E),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(e,["cachedContent"]);t!==void 0&&I!=null&&a(t,["cachedContent"],wn(n,I));const x=s(e,["responseModalities"]);x!=null&&a(o,["responseModalities"],x);const k=s(e,["mediaResolution"]);k!=null&&a(o,["mediaResolution"],k);const R=s(e,["speechConfig"]);if(R!=null&&a(o,["speechConfig"],Wl(R)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=s(e,["thinkingConfig"]);N!=null&&a(o,["thinkingConfig"],N);const V=s(e,["imageConfig"]);return V!=null&&a(o,["imageConfig"],V),o}function dy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Qg(d))),a(e,["candidates"],c)}const r=s(n,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(n,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(n,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(n,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function fy(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Qt(n,o)),t}function py(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Qt(n,o)),t}function my(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function hy(n){const e={},t=s(n,["timeRangeFilter"]);if(t!=null&&a(e,["timeRangeFilter"],t),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function gy(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["request","model"],Y(n,o));const r=s(e,["contents"]);if(r!=null){let u=Oe(r);Array.isArray(u)&&(u=u.map(c=>Xf(c))),a(t,["request","contents"],u)}const i=s(e,["metadata"]);i!=null&&a(t,["metadata"],i);const l=s(e,["config"]);return l!=null&&a(t,["request","generationConfig"],cy(n,l,s(t,["request"],{}))),t}function yy(n){const e={},t=s(n,["response"]);t!=null&&a(e,["response"],dy(t));const o=s(n,["error"]);return o!=null&&a(e,["error"],o),e}function _y(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);if(e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function vy(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const i=s(n,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),t}function Cy(n){const e={},t=s(n,["config"]);return t!=null&&_y(t,e),e}function Ty(n){const e={},t=s(n,["config"]);return t!=null&&vy(t,e),e}function Sy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Sr(l))),a(e,["batchJobs"],i)}return e}function Ey(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>zs(l))),a(e,["batchJobs"],i)}return e}function wy(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],t);const o=s(n,["thought"]);o!=null&&a(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&a(e,["inlineData"],Kg(r));const i=s(n,["fileData"]);i!=null&&a(e,["fileData"],uy(i));const l=s(n,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(n,["functionCall"]);u!=null&&a(e,["functionCall"],u);const c=s(n,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const d=s(n,["executableCode"]);d!=null&&a(e,["executableCode"],d);const f=s(n,["functionResponse"]);f!=null&&a(e,["functionResponse"],f);const m=s(n,["text"]);return m!=null&&a(e,["text"],m),e}function Iy(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=s(n,["category"]);t!=null&&a(e,["category"],t);const o=s(n,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function xy(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["functionDeclarations"],d)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&a(e,["googleSearch"],hy(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&a(e,["googleSearchRetrieval"],r),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(n,["googleMaps"]);i!=null&&a(e,["googleMaps"],my(i));const l=s(n,["urlContext"]);l!=null&&a(e,["urlContext"],l);const u=s(n,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=s(n,["codeExecution"]);return c!=null&&a(e,["codeExecution"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lt;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(lt||(lt={}));class zo{constructor(e,t,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,r)}init(e,t,o){var r,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ky extends ct{constructor(e){super(),this.apiClient=e,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new zo(lt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=lc(this.apiClient,e),o=t._url,r=U("{model}:batchGenerateContent",o),u=t.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=p,m.request=_}d.push(m)}return u.requests=d,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const o=t?Object.assign({},t):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=jg(this.apiClient,e);return u=U("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>zs(f))}else{const d=lc(this.apiClient,e);return u=U("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Sr(f))}}async createEmbeddingsInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ny(this.apiClient,e);return i=U("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Sr(c))}}async get(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=py(this.apiClient,e);return u=U("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>zs(f))}else{const d=fy(this.apiClient,e);return u=U("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Sr(f))}}async cancel(e){var t,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=Yg(this.apiClient,e);l=U("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=Og(this.apiClient,e);l=U("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Ty(e);return u=U("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Ey(f),p=new oc;return Object.assign(p,m),p})}else{const d=Cy(e);return u=U("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Sy(f),p=new oc;return Object.assign(p,m),p})}}async delete(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=oy(this.apiClient,e);return u=U("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>iy(f))}else{const d=ty(this.apiClient,e);return u=U("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>ry(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ay(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["data"]);t!=null&&a(e,["data"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function ac(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Qy(i))),a(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function Ny(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(n,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(n,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(n,["contents"]);if(e!==void 0&&l!=null){let f=Oe(l);Array.isArray(f)&&(f=f.map(m=>ac(m))),a(e,["contents"],f)}const u=s(n,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],ac(Ie(u)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>by(m))),a(e,["tools"],f)}const d=s(n,["toolConfig"]);if(e!==void 0&&d!=null&&a(e,["toolConfig"],d),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Py(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(n,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(n,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(n,["contents"]);if(e!==void 0&&l!=null){let m=Oe(l);Array.isArray(m)&&(m=m.map(p=>p)),a(e,["contents"],m)}const u=s(n,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Ie(u));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>Xy(p))),a(e,["tools"],m)}const d=s(n,["toolConfig"]);e!==void 0&&d!=null&&a(e,["toolConfig"],d);const f=s(n,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),t}function Ry(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],qf(n,o));const r=s(e,["config"]);return r!=null&&Ny(r,t),t}function My(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],qf(n,o));const r=s(e,["config"]);return r!=null&&Py(r,t),t}function Dy(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],wn(n,o)),t}function Ly(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],wn(n,o)),t}function Uy(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Fy(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Vy(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Gy(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(n,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function qy(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],wn(n,o)),t}function By(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],wn(n,o)),t}function Hy(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function zy(n){const e={},t=s(n,["timeRangeFilter"]);if(t!=null&&a(e,["timeRangeFilter"],t),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $y(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function Jy(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function Wy(n){const e={},t=s(n,["config"]);return t!=null&&$y(t,e),e}function Ky(n){const e={},t=s(n,["config"]);return t!=null&&Jy(t,e),e}function Oy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function Yy(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function Qy(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],t);const o=s(n,["thought"]);o!=null&&a(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&a(e,["inlineData"],Ay(r));const i=s(n,["fileData"]);i!=null&&a(e,["fileData"],Vy(i));const l=s(n,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(n,["functionCall"]);u!=null&&a(e,["functionCall"],u);const c=s(n,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const d=s(n,["executableCode"]);d!=null&&a(e,["executableCode"],d);const f=s(n,["functionResponse"]);f!=null&&a(e,["functionResponse"],f);const m=s(n,["text"]);return m!=null&&a(e,["text"],m),e}function by(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["functionDeclarations"],d)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&a(e,["googleSearch"],zy(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&a(e,["googleSearchRetrieval"],r),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(n,["googleMaps"]);i!=null&&a(e,["googleMaps"],Hy(i));const l=s(n,["urlContext"]);l!=null&&a(e,["urlContext"],l);const u=s(n,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=s(n,["codeExecution"]);return c!=null&&a(e,["codeExecution"],c),e}function Xy(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>Gy(p))),a(e,["functionDeclarations"],m)}const o=s(n,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(n,["googleSearch"]);r!=null&&a(e,["googleSearch"],r);const i=s(n,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const l=s(n,["enterpriseWebSearch"]);l!=null&&a(e,["enterpriseWebSearch"],l);const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(n,["urlContext"]);c!=null&&a(e,["urlContext"],c);const d=s(n,["computerUse"]);d!=null&&a(e,["computerUse"],d);const f=s(n,["codeExecution"]);return f!=null&&a(e,["codeExecution"],f),e}function Zy(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(n,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),t}function jy(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(n,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),t}function e_(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],wn(n,o));const r=s(e,["config"]);return r!=null&&Zy(r,t),t}function n_(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],wn(n,o));const r=s(e,["config"]);return r!=null&&jy(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t_ extends ct{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new zo(lt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=My(this.apiClient,e);return u=U("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Ry(this.apiClient,e);return u=U("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=By(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=qy(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Ly(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Fy(f),p=new nc;return Object.assign(p,m),p})}else{const d=Dy(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Uy(f),p=new nc;return Object.assign(p,m),p})}}async update(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=n_(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=e_(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Ky(e);return u=U("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Yy(f),p=new tc;return Object.assign(p,m),p})}else{const d=Wy(e);return u=U("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Oy(f),p=new tc;return Object.assign(p,m),p})}}}function uc(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(n){return this instanceof re?(this.v=n,this):new re(n)}function Lt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(_){return function(C){return Promise.resolve(C).then(_,m)}}function u(_,C){o[_]&&(r[_]=function(T){return new Promise(function(w,y){i.push([_,T,w,y])>1||c(_,T)})},C&&(r[_]=C(r[_])))}function c(_,C){try{d(o[_](C))}catch(T){p(i[0][3],T)}}function d(_){_.value instanceof re?Promise.resolve(_.value.v).then(f,m):p(i[0][2],_)}function f(_){c("next",_)}function m(_){c("throw",_)}function p(_,C){_(C),i.shift(),i.length&&c(i[0][0],i[0][1])}}function vo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof uc=="function"?uc(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(i){t[i]=n[i]&&function(l){return new Promise(function(u,c){l=n[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o_(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Zf(t)}function Zf(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function r_(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function cc(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{const r=[];let i=!0;for(;o<t&&n[o].role==="model";)r.push(n[o]),i&&!Zf(n[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class i_{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new s_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class s_{constructor(e,t,o,r={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),r_(i)}async sendMessage(e){var t;await this.sendPromise;const o=Ie(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var i,l,u;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(m))!==null&&u!==void 0?u:[]);const _=d?[d]:[];this.recordHistory(o,_,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const o=Ie(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const t=e?cc(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,r;return Lt(this,arguments,function*(){var l,u,c,d;const f=[];try{for(var m=!0,p=vo(e),_;_=yield re(p.next()),l=_.done,!l;m=!0){d=_.value,m=!1;const C=d;if(o_(C)){const T=(r=(o=C.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;T!==void 0&&f.push(T)}yield yield re(C)}}catch(C){u={error:C}}finally{try{!m&&!l&&(c=p.return)&&(yield re(c.call(p)))}finally{if(u)throw u.error}}this.recordHistory(t,f)})}recordHistory(e,t,o){let r=[];t.length>0&&t.every(i=>i.role!==void 0)?r=t:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...cc(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pi extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,pi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l_(n){const e={},t=s(n,["file"]);return t!=null&&a(e,["file"],t),e}function a_(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function u_(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],Wf(t)),e}function c_(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function d_(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],Wf(t)),e}function f_(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),t}function p_(n){const e={},t=s(n,["config"]);return t!=null&&f_(t,e),e}function m_(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h_ extends ct{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new zo(lt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=p_(e);return i=U("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=m_(c),f=new xg;return Object.assign(f,d),f})}}async createInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=l_(e);return i=U("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=a_(c),f=new kg;return Object.assign(f,d),f})}}async get(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d_(e);return i=U("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=u_(e);return i=U("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=c_(c),f=new Ag;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Er(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["data"]);t!=null&&a(e,["data"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function g_(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>R_(i))),a(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function y_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function __(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(n,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function v_(n){const e={},t=s(n,["modelSelectionConfig"]);t!=null&&a(e,["modelConfig"],t);const o=s(n,["audioTimestamp"]);o!=null&&a(e,["audioTimestamp"],o);const r=s(n,["candidateCount"]);r!=null&&a(e,["candidateCount"],r);const i=s(n,["enableAffectiveDialog"]);i!=null&&a(e,["enableAffectiveDialog"],i);const l=s(n,["frequencyPenalty"]);l!=null&&a(e,["frequencyPenalty"],l);const u=s(n,["logprobs"]);u!=null&&a(e,["logprobs"],u);const c=s(n,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const d=s(n,["mediaResolution"]);d!=null&&a(e,["mediaResolution"],d);const f=s(n,["presencePenalty"]);f!=null&&a(e,["presencePenalty"],f);const m=s(n,["responseJsonSchema"]);m!=null&&a(e,["responseJsonSchema"],m);const p=s(n,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const _=s(n,["responseMimeType"]);_!=null&&a(e,["responseMimeType"],_);const C=s(n,["responseModalities"]);C!=null&&a(e,["responseModalities"],C);const T=s(n,["responseSchema"]);T!=null&&a(e,["responseSchema"],T);const w=s(n,["routingConfig"]);w!=null&&a(e,["routingConfig"],w);const y=s(n,["seed"]);y!=null&&a(e,["seed"],y);const g=s(n,["speechConfig"]);g!=null&&a(e,["speechConfig"],jf(g));const v=s(n,["stopSequences"]);v!=null&&a(e,["stopSequences"],v);const S=s(n,["temperature"]);S!=null&&a(e,["temperature"],S);const E=s(n,["thinkingConfig"]);E!=null&&a(e,["thinkingConfig"],E);const I=s(n,["topK"]);I!=null&&a(e,["topK"],I);const x=s(n,["topP"]);return x!=null&&a(e,["topP"],x),e}function C_(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function T_(n){const e={},t=s(n,["timeRangeFilter"]);if(t!=null&&a(e,["timeRangeFilter"],t),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function S_(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(n,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(n,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],Kl(m));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],_);const C=s(n,["systemInstruction"]);e!==void 0&&C!=null&&a(e,["setup","systemInstruction"],g_(Ie(C)));const T=s(n,["tools"]);if(e!==void 0&&T!=null){let I=Yt(T);Array.isArray(I)&&(I=I.map(x=>D_(Ot(x)))),a(e,["setup","tools"],I)}const w=s(n,["sessionResumption"]);e!==void 0&&w!=null&&a(e,["setup","sessionResumption"],M_(w));const y=s(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const g=s(n,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const v=s(n,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);const S=s(n,["contextWindowCompression"]);e!==void 0&&S!=null&&a(e,["setup","contextWindowCompression"],S);const E=s(n,["proactivity"]);return e!==void 0&&E!=null&&a(e,["setup","proactivity"],E),t}function E_(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],v_(o));const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(n,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(n,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],jf(Kl(m)));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],_);const C=s(n,["systemInstruction"]);e!==void 0&&C!=null&&a(e,["setup","systemInstruction"],Ie(C));const T=s(n,["tools"]);if(e!==void 0&&T!=null){let I=Yt(T);Array.isArray(I)&&(I=I.map(x=>L_(Ot(x)))),a(e,["setup","tools"],I)}const w=s(n,["sessionResumption"]);e!==void 0&&w!=null&&a(e,["setup","sessionResumption"],w);const y=s(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const g=s(n,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const v=s(n,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);const S=s(n,["contextWindowCompression"]);e!==void 0&&S!=null&&a(e,["setup","contextWindowCompression"],S);const E=s(n,["proactivity"]);return e!==void 0&&E!=null&&a(e,["setup","proactivity"],E),t}function w_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],Y(n,o));const r=s(e,["config"]);return r!=null&&a(t,["config"],S_(r,t)),t}function I_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],Y(n,o));const r=s(e,["config"]);return r!=null&&a(t,["config"],E_(r,t)),t}function x_(n){const e={},t=s(n,["musicGenerationConfig"]);return t!=null&&a(e,["musicGenerationConfig"],t),e}function k_(n){const e={},t=s(n,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["weightedPrompts"],o)}return e}function A_(n){const e={},t=s(n,["media"]);if(t!=null){let d=Bf(t);Array.isArray(d)&&(d=d.map(f=>Er(f))),a(e,["mediaChunks"],d)}const o=s(n,["audio"]);o!=null&&a(e,["audio"],Er(zf(o)));const r=s(n,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(n,["video"]);i!=null&&a(e,["video"],Er(Hf(i)));const l=s(n,["text"]);l!=null&&a(e,["text"],l);const u=s(n,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(n,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function N_(n){const e={},t=s(n,["media"]);if(t!=null){let d=Bf(t);Array.isArray(d)&&(d=d.map(f=>f)),a(e,["mediaChunks"],d)}const o=s(n,["audio"]);o!=null&&a(e,["audio"],zf(o));const r=s(n,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(n,["video"]);i!=null&&a(e,["video"],Hf(i));const l=s(n,["text"]);l!=null&&a(e,["text"],l);const u=s(n,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(n,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function P_(n){const e={},t=s(n,["setupComplete"]);t!=null&&a(e,["setupComplete"],t);const o=s(n,["serverContent"]);o!=null&&a(e,["serverContent"],o);const r=s(n,["toolCall"]);r!=null&&a(e,["toolCall"],r);const i=s(n,["toolCallCancellation"]);i!=null&&a(e,["toolCallCancellation"],i);const l=s(n,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],U_(l));const u=s(n,["goAway"]);u!=null&&a(e,["goAway"],u);const c=s(n,["sessionResumptionUpdate"]);return c!=null&&a(e,["sessionResumptionUpdate"],c),e}function R_(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],t);const o=s(n,["thought"]);o!=null&&a(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&a(e,["inlineData"],Er(r));const i=s(n,["fileData"]);i!=null&&a(e,["fileData"],y_(i));const l=s(n,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(n,["functionCall"]);u!=null&&a(e,["functionCall"],u);const c=s(n,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const d=s(n,["executableCode"]);d!=null&&a(e,["executableCode"],d);const f=s(n,["functionResponse"]);f!=null&&a(e,["functionResponse"],f);const m=s(n,["text"]);return m!=null&&a(e,["text"],m),e}function M_(n){const e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jf(n){const e={},t=s(n,["voiceConfig"]);if(t!=null&&a(e,["voiceConfig"],t),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=s(n,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function D_(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["functionDeclarations"],d)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&a(e,["googleSearch"],T_(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&a(e,["googleSearchRetrieval"],r),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(n,["googleMaps"]);i!=null&&a(e,["googleMaps"],C_(i));const l=s(n,["urlContext"]);l!=null&&a(e,["urlContext"],l);const u=s(n,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=s(n,["codeExecution"]);return c!=null&&a(e,["codeExecution"],c),e}function L_(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>__(p))),a(e,["functionDeclarations"],m)}const o=s(n,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(n,["googleSearch"]);r!=null&&a(e,["googleSearch"],r);const i=s(n,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const l=s(n,["enterpriseWebSearch"]);l!=null&&a(e,["enterpriseWebSearch"],l);const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(n,["urlContext"]);c!=null&&a(e,["urlContext"],c);const d=s(n,["computerUse"]);d!=null&&a(e,["computerUse"],d);const f=s(n,["codeExecution"]);return f!=null&&a(e,["codeExecution"],f),e}function U_(n){const e={},t=s(n,["promptTokenCount"]);t!=null&&a(e,["promptTokenCount"],t);const o=s(n,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const r=s(n,["candidatesTokenCount"]);r!=null&&a(e,["responseTokenCount"],r);const i=s(n,["toolUsePromptTokenCount"]);i!=null&&a(e,["toolUsePromptTokenCount"],i);const l=s(n,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(n,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(n,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(C=>C)),a(e,["promptTokensDetails"],_)}const d=s(n,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(C=>C)),a(e,["cacheTokensDetails"],_)}const f=s(n,["candidatesTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(C=>C)),a(e,["responseTokensDetails"],_)}const m=s(n,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(C=>C)),a(e,["toolUsePromptTokensDetails"],_)}const p=s(n,["trafficType"]);return p!=null&&a(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["data"]);t!=null&&a(e,["data"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function V_(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],t);const o=s(n,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],G_(o));const r=s(n,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(n,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(n,["urlContextMetadata"]);l!=null&&a(e,["urlContextMetadata"],l);const u=s(n,["avgLogprobs"]);u!=null&&a(e,["avgLogprobs"],u);const c=s(n,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const d=s(n,["index"]);d!=null&&a(e,["index"],d);const f=s(n,["logprobsResult"]);f!=null&&a(e,["logprobsResult"],f);const m=s(n,["safetyRatings"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(_=>_)),a(e,["safetyRatings"],p)}return e}function G_(n){const e={},t=s(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function q_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["contents"]);if(r!=null){let i=Oe(r);Array.isArray(i)&&(i=i.map(l=>l)),a(t,["contents"],i)}return t}function B_(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["tokensInfo"],r)}return e}function H_(n){const e={},t=s(n,["values"]);t!=null&&a(e,["values"],t);const o=s(n,["statistics"]);return o!=null&&a(e,["statistics"],z_(o)),e}function z_(n){const e={},t=s(n,["truncated"]);t!=null&&a(e,["truncated"],t);const o=s(n,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function mi(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Ov(i))),a(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function $_(n){const e={},t=s(n,["controlType"]);t!=null&&a(e,["controlType"],t);const o=s(n,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function J_(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function W_(n,e){const t={},o=s(n,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],Ie(o));const r=s(n,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>rp(u))),a(e,["tools"],l)}const i=s(n,["generationConfig"]);return e!==void 0&&i!=null&&a(e,["generationConfig"],Lv(i)),t}function K_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["contents"]);if(r!=null){let l=Oe(r);Array.isArray(l)&&(l=l.map(u=>mi(u))),a(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&J_(i),t}function O_(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["contents"]);if(r!=null){let l=Oe(r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&W_(i,t),t}function Y_(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const r=s(n,["cachedContentTokenCount"]);return r!=null&&a(e,["cachedContentTokenCount"],r),e}function Q_(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function b_(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],Y(n,o)),t}function X_(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],Y(n,o)),t}function Z_(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function j_(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function ev(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(n,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(n,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(n,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const _=s(n,["language"]);e!==void 0&&_!=null&&a(e,["parameters","language"],_);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&a(e,["parameters","outputOptions","mimeType"],C);const T=s(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const w=s(n,["addWatermark"]);e!==void 0&&w!=null&&a(e,["parameters","addWatermark"],w);const y=s(n,["labels"]);e!==void 0&&y!=null&&a(e,["labels"],y);const g=s(n,["editMode"]);e!==void 0&&g!=null&&a(e,["parameters","editMode"],g);const v=s(n,["baseSteps"]);return e!==void 0&&v!=null&&a(e,["parameters","editConfig","baseSteps"],v),t}function nv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>jv(c))),a(t,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&ev(l,t),t}function tv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>hi(i))),a(e,["generatedImages"],r)}return e}function ov(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(n,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function rv(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&a(e,["instances[]","title"],r);const i=s(n,["outputDimensionality"]);e!==void 0&&i!=null&&a(e,["parameters","outputDimensionality"],i);const l=s(n,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(n,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),t}function iv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["contents"]);if(r!=null){let u=$l(n,r);Array.isArray(u)&&(u=u.map(c=>c)),a(t,["requests[]","content"],u)}const i=s(e,["config"]);i!=null&&ov(i,t);const l=s(e,["model"]);return l!==void 0&&a(t,["requests[]","model"],Y(n,l)),t}function sv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["contents"]);if(r!=null){let l=$l(n,r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["instances[]","content"],l)}const i=s(e,["config"]);return i!=null&&rv(i,t),t}function lv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["embeddings"],i)}const r=s(n,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function av(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>H_(l))),a(e,["embeddings"],i)}const r=s(n,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function uv(n){const e={},t=s(n,["endpoint"]);t!=null&&a(e,["name"],t);const o=s(n,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function cv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function dv(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(n,["description"]);t!=null&&a(e,["description"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(n,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function fv(n,e,t){const o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],mi(Ie(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const _=s(e,["presencePenalty"]);_!=null&&a(o,["presencePenalty"],_);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const T=s(e,["seed"]);T!=null&&a(o,["seed"],T);const w=s(e,["responseMimeType"]);w!=null&&a(o,["responseMimeType"],w);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],Jl(y));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(t!==void 0&&v!=null){let z=v;Array.isArray(z)&&(z=z.map(X=>e0(X))),a(t,["safetySettings"],z)}const S=s(e,["tools"]);if(t!==void 0&&S!=null){let z=Yt(S);Array.isArray(z)&&(z=z.map(X=>s0(Ot(X)))),a(t,["tools"],z)}const E=s(e,["toolConfig"]);if(t!==void 0&&E!=null&&a(t,["toolConfig"],E),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(e,["cachedContent"]);t!==void 0&&I!=null&&a(t,["cachedContent"],wn(n,I));const x=s(e,["responseModalities"]);x!=null&&a(o,["responseModalities"],x);const k=s(e,["mediaResolution"]);k!=null&&a(o,["mediaResolution"],k);const R=s(e,["speechConfig"]);if(R!=null&&a(o,["speechConfig"],Wl(R)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=s(e,["thinkingConfig"]);N!=null&&a(o,["thinkingConfig"],N);const V=s(e,["imageConfig"]);return V!=null&&a(o,["imageConfig"],V),o}function pv(n,e,t){const o={},r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],Ie(r));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const _=s(e,["presencePenalty"]);_!=null&&a(o,["presencePenalty"],_);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const T=s(e,["seed"]);T!=null&&a(o,["seed"],T);const w=s(e,["responseMimeType"]);w!=null&&a(o,["responseMimeType"],w);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],Jl(y));const g=s(e,["responseJsonSchema"]);g!=null&&a(o,["responseJsonSchema"],g);const v=s(e,["routingConfig"]);v!=null&&a(o,["routingConfig"],v);const S=s(e,["modelSelectionConfig"]);S!=null&&a(o,["modelConfig"],S);const E=s(e,["safetySettings"]);if(t!==void 0&&E!=null){let Z=E;Array.isArray(Z)&&(Z=Z.map(pe=>pe)),a(t,["safetySettings"],Z)}const I=s(e,["tools"]);if(t!==void 0&&I!=null){let Z=Yt(I);Array.isArray(Z)&&(Z=Z.map(pe=>rp(Ot(pe)))),a(t,["tools"],Z)}const x=s(e,["toolConfig"]);t!==void 0&&x!=null&&a(t,["toolConfig"],x);const k=s(e,["labels"]);t!==void 0&&k!=null&&a(t,["labels"],k);const R=s(e,["cachedContent"]);t!==void 0&&R!=null&&a(t,["cachedContent"],wn(n,R));const N=s(e,["responseModalities"]);N!=null&&a(o,["responseModalities"],N);const V=s(e,["mediaResolution"]);V!=null&&a(o,["mediaResolution"],V);const z=s(e,["speechConfig"]);z!=null&&a(o,["speechConfig"],op(Wl(z)));const X=s(e,["audioTimestamp"]);X!=null&&a(o,["audioTimestamp"],X);const J=s(e,["thinkingConfig"]);J!=null&&a(o,["thinkingConfig"],J);const j=s(e,["imageConfig"]);return j!=null&&a(o,["imageConfig"],j),o}function dc(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["contents"]);if(r!=null){let l=Oe(r);Array.isArray(l)&&(l=l.map(u=>mi(u))),a(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(t,["generationConfig"],fv(n,i,t)),t}function fc(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["contents"]);if(r!=null){let l=Oe(r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(t,["generationConfig"],pv(n,i,t)),t}function pc(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>V_(d))),a(e,["candidates"],c)}const r=s(n,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(n,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(n,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(n,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function mc(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["candidates"],d)}const r=s(n,["createTime"]);r!=null&&a(e,["createTime"],r);const i=s(n,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const l=s(n,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(n,["responseId"]);u!=null&&a(e,["responseId"],u);const c=s(n,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function mv(n,e){const t={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(n,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const i=s(n,["guidanceScale"]);if(e!==void 0&&i!=null&&a(e,["parameters","guidanceScale"],i),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(n,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=s(n,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const d=s(n,["includeRaiReason"]);e!==void 0&&d!=null&&a(e,["parameters","includeRaiReason"],d);const f=s(n,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const m=s(n,["outputMimeType"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","mimeType"],m);const p=s(n,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=s(n,["imageSize"]);if(e!==void 0&&_!=null&&a(e,["parameters","sampleImageSize"],_),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function hv(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(n,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(n,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(n,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const _=s(n,["language"]);e!==void 0&&_!=null&&a(e,["parameters","language"],_);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&a(e,["parameters","outputOptions","mimeType"],C);const T=s(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const w=s(n,["addWatermark"]);e!==void 0&&w!=null&&a(e,["parameters","addWatermark"],w);const y=s(n,["labels"]);e!==void 0&&y!=null&&a(e,["labels"],y);const g=s(n,["imageSize"]);e!==void 0&&g!=null&&a(e,["parameters","sampleImageSize"],g);const v=s(n,["enhancePrompt"]);return e!==void 0&&v!=null&&a(e,["parameters","enhancePrompt"],v),t}function gv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&mv(i,t),t}function yv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&hv(i,t),t}function _v(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Pv(l))),a(e,["generatedImages"],i)}const r=s(n,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],np(r)),e}function vv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>hi(l))),a(e,["generatedImages"],i)}const r=s(n,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],tp(r)),e}function Cv(n,e){const t={},o=s(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(n,["durationSeconds"]);if(e!==void 0&&r!=null&&a(e,["parameters","durationSeconds"],r),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(n,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const l=s(n,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(n,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const d=s(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&a(e,["parameters","enhancePrompt"],d),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(n,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],gi(f));const m=s(n,["referenceImages"]);if(e!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(_=>v0(_))),a(e,["instances[0]","referenceImages"],p)}if(s(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function Tv(n,e){const t={},o=s(n,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const i=s(n,["fps"]);e!==void 0&&i!=null&&a(e,["parameters","fps"],i);const l=s(n,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(n,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(n,["resolution"]);e!==void 0&&d!=null&&a(e,["parameters","resolution"],d);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(n,["pubsubTopic"]);e!==void 0&&m!=null&&a(e,["parameters","pubsubTopic"],m);const p=s(n,["negativePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","negativePrompt"],p);const _=s(n,["enhancePrompt"]);e!==void 0&&_!=null&&a(e,["parameters","enhancePrompt"],_);const C=s(n,["generateAudio"]);e!==void 0&&C!=null&&a(e,["parameters","generateAudio"],C);const T=s(n,["lastFrame"]);e!==void 0&&T!=null&&a(e,["instances[0]","lastFrame"],ln(T));const w=s(n,["referenceImages"]);if(e!==void 0&&w!=null){let v=w;Array.isArray(v)&&(v=v.map(S=>C0(S))),a(e,["instances[0]","referenceImages"],v)}const y=s(n,["mask"]);e!==void 0&&y!=null&&a(e,["instances[0]","mask"],_0(y));const g=s(n,["compressionQuality"]);return e!==void 0&&g!=null&&a(e,["parameters","compressionQuality"],g),t}function Sv(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],xv(l)),e}function Ev(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(n,["done"]);r!=null&&a(e,["done"],r);const i=s(n,["error"]);i!=null&&a(e,["error"],i);const l=s(n,["response"]);return l!=null&&a(e,["response"],kv(l)),e}function wv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(t,["instances[0]","image"],gi(i));const l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],ip(l));const u=s(e,["source"]);u!=null&&Av(u,t);const c=s(e,["config"]);return c!=null&&Cv(c,t),t}function Iv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(t,["instances[0]","image"],ln(i));const l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],sp(l));const u=s(e,["source"]);u!=null&&Nv(u,t);const c=s(e,["config"]);return c!=null&&Tv(c,t),t}function xv(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>Mv(l))),a(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function kv(n){const e={},t=s(n,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>Dv(l))),a(e,["generatedVideos"],i)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Av(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(n,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],gi(r));const i=s(n,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],ip(i)),t}function Nv(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(n,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],ln(r));const i=s(n,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],sp(i)),t}function Pv(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["image"],qv(t));const o=s(n,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(n,["_self"]);return r!=null&&a(e,["safetyAttributes"],np(r)),e}function hi(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["image"],ep(t));const o=s(n,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(n,["_self"]);r!=null&&a(e,["safetyAttributes"],tp(r));const i=s(n,["prompt"]);return i!=null&&a(e,["enhancedPrompt"],i),e}function Rv(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["mask"],ep(t));const o=s(n,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["labels"],r)}return e}function Mv(n){const e={},t=s(n,["video"]);return t!=null&&a(e,["video"],g0(t)),e}function Dv(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],y0(t)),e}function Lv(n){const e={},t=s(n,["modelSelectionConfig"]);t!=null&&a(e,["modelConfig"],t);const o=s(n,["audioTimestamp"]);o!=null&&a(e,["audioTimestamp"],o);const r=s(n,["candidateCount"]);r!=null&&a(e,["candidateCount"],r);const i=s(n,["enableAffectiveDialog"]);i!=null&&a(e,["enableAffectiveDialog"],i);const l=s(n,["frequencyPenalty"]);l!=null&&a(e,["frequencyPenalty"],l);const u=s(n,["logprobs"]);u!=null&&a(e,["logprobs"],u);const c=s(n,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const d=s(n,["mediaResolution"]);d!=null&&a(e,["mediaResolution"],d);const f=s(n,["presencePenalty"]);f!=null&&a(e,["presencePenalty"],f);const m=s(n,["responseJsonSchema"]);m!=null&&a(e,["responseJsonSchema"],m);const p=s(n,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const _=s(n,["responseMimeType"]);_!=null&&a(e,["responseMimeType"],_);const C=s(n,["responseModalities"]);C!=null&&a(e,["responseModalities"],C);const T=s(n,["responseSchema"]);T!=null&&a(e,["responseSchema"],T);const w=s(n,["routingConfig"]);w!=null&&a(e,["routingConfig"],w);const y=s(n,["seed"]);y!=null&&a(e,["seed"],y);const g=s(n,["speechConfig"]);g!=null&&a(e,["speechConfig"],op(g));const v=s(n,["stopSequences"]);v!=null&&a(e,["stopSequences"],v);const S=s(n,["temperature"]);S!=null&&a(e,["temperature"],S);const E=s(n,["thinkingConfig"]);E!=null&&a(e,["thinkingConfig"],E);const I=s(n,["topK"]);I!=null&&a(e,["topK"],I);const x=s(n,["topP"]);return x!=null&&a(e,["topP"],x),e}function Uv(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],Y(n,o)),t}function Fv(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],Y(n,o)),t}function Vv(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function Gv(n){const e={},t=s(n,["timeRangeFilter"]);if(t!=null&&a(e,["timeRangeFilter"],t),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function qv(n){const e={},t=s(n,["bytesBase64Encoded"]);t!=null&&a(e,["imageBytes"],Wn(t));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function ep(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],Wn(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function gi(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=s(n,["imageBytes"]);t!=null&&a(e,["bytesBase64Encoded"],Wn(t));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function ln(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);const o=s(n,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Wn(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Bv(n,e,t){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],Kf(n,u)),o}function Hv(n,e,t){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],Kf(n,u)),o}function zv(n,e){const t={},o=s(e,["config"]);return o!=null&&Bv(n,o,t),t}function $v(n,e){const t={},o=s(e,["config"]);return o!=null&&Hv(n,o,t),t}function Jv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["_self"]);if(r!=null){let i=Of(r);Array.isArray(i)&&(i=i.map(l=>$s(l))),a(e,["models"],i)}return e}function Wv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["_self"]);if(r!=null){let i=Of(r);Array.isArray(i)&&(i=i.map(l=>Js(l))),a(e,["models"],i)}return e}function Kv(n){const e={},t=s(n,["maskMode"]);t!=null&&a(e,["maskMode"],t);const o=s(n,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const r=s(n,["maskDilation"]);return r!=null&&a(e,["dilation"],r),e}function $s(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(n,["description"]);r!=null&&a(e,["description"],r);const i=s(n,["version"]);i!=null&&a(e,["version"],i);const l=s(n,["_self"]);l!=null&&a(e,["tunedModelInfo"],l0(l));const u=s(n,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=s(n,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const d=s(n,["supportedGenerationMethods"]);return d!=null&&a(e,["supportedActions"],d),e}function Js(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(n,["description"]);r!=null&&a(e,["description"],r);const i=s(n,["versionId"]);i!=null&&a(e,["version"],i);const l=s(n,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>uv(p))),a(e,["endpoints"],m)}const u=s(n,["labels"]);u!=null&&a(e,["labels"],u);const c=s(n,["_self"]);c!=null&&a(e,["tunedModelInfo"],a0(c));const d=s(n,["defaultCheckpointId"]);d!=null&&a(e,["defaultCheckpointId"],d);const f=s(n,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>p)),a(e,["checkpoints"],m)}return e}function Ov(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],t);const o=s(n,["thought"]);o!=null&&a(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&a(e,["inlineData"],F_(r));const i=s(n,["fileData"]);i!=null&&a(e,["fileData"],cv(i));const l=s(n,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(n,["functionCall"]);u!=null&&a(e,["functionCall"],u);const c=s(n,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const d=s(n,["executableCode"]);d!=null&&a(e,["executableCode"],d);const f=s(n,["functionResponse"]);f!=null&&a(e,["functionResponse"],f);const m=s(n,["text"]);return m!=null&&a(e,["text"],m),e}function Yv(n){const e={},t=s(n,["productImage"]);return t!=null&&a(e,["image"],ln(t)),e}function Qv(n,e){const t={},o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(n,["baseSteps"]);e!==void 0&&r!=null&&a(e,["parameters","editConfig","baseSteps"],r);const i=s(n,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const l=s(n,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=s(n,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const d=s(n,["addWatermark"]);e!==void 0&&d!=null&&a(e,["parameters","addWatermark"],d);const f=s(n,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const m=s(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","compressionQuality"],m);const p=s(n,["enhancePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p);const _=s(n,["labels"]);return e!==void 0&&_!=null&&a(e,["labels"],_),t}function bv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["source"]);r!=null&&Zv(r,t);const i=s(e,["config"]);return i!=null&&Qv(i,t),t}function Xv(n){const e={},t=s(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>hi(r))),a(e,["generatedImages"],o)}return e}function Zv(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(n,["personImage"]);e!==void 0&&r!=null&&a(e,["instances[0]","personImage","image"],ln(r));const i=s(n,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Yv(u))),a(e,["instances[0]","productImages"],l)}return t}function jv(n){const e={},t=s(n,["referenceImage"]);t!=null&&a(e,["referenceImage"],ln(t));const o=s(n,["referenceId"]);o!=null&&a(e,["referenceId"],o);const r=s(n,["referenceType"]);r!=null&&a(e,["referenceType"],r);const i=s(n,["maskImageConfig"]);i!=null&&a(e,["maskImageConfig"],Kv(i));const l=s(n,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],$_(l));const u=s(n,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const c=s(n,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],c),e}function np(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);const o=s(n,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(n,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function tp(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);const o=s(n,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(n,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function e0(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=s(n,["category"]);t!=null&&a(e,["category"],t);const o=s(n,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function n0(n){const e={},t=s(n,["image"]);return t!=null&&a(e,["image"],ln(t)),e}function t0(n,e){const t={},o=s(n,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const r=s(n,["maxPredictions"]);e!==void 0&&r!=null&&a(e,["parameters","maxPredictions"],r);const i=s(n,["confidenceThreshold"]);e!==void 0&&i!=null&&a(e,["parameters","confidenceThreshold"],i);const l=s(n,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(n,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const c=s(n,["labels"]);return e!==void 0&&c!=null&&a(e,["labels"],c),t}function o0(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["source"]);r!=null&&i0(r,t);const i=s(e,["config"]);return i!=null&&t0(i,t),t}function r0(n){const e={},t=s(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>Rv(r))),a(e,["generatedMasks"],o)}return e}function i0(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(n,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],ln(r));const i=s(n,["scribbleImage"]);return e!==void 0&&i!=null&&a(e,["instances[0]","scribble"],n0(i)),t}function op(n){const e={},t=s(n,["voiceConfig"]);if(t!=null&&a(e,["voiceConfig"],t),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=s(n,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function s0(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["functionDeclarations"],d)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&a(e,["googleSearch"],Gv(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&a(e,["googleSearchRetrieval"],r),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(n,["googleMaps"]);i!=null&&a(e,["googleMaps"],Vv(i));const l=s(n,["urlContext"]);l!=null&&a(e,["urlContext"],l);const u=s(n,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=s(n,["codeExecution"]);return c!=null&&a(e,["codeExecution"],c),e}function rp(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(p=>dv(p))),a(e,["functionDeclarations"],m)}const o=s(n,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(n,["googleSearch"]);r!=null&&a(e,["googleSearch"],r);const i=s(n,["googleSearchRetrieval"]);i!=null&&a(e,["googleSearchRetrieval"],i);const l=s(n,["enterpriseWebSearch"]);l!=null&&a(e,["enterpriseWebSearch"],l);const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(n,["urlContext"]);c!=null&&a(e,["urlContext"],c);const d=s(n,["computerUse"]);d!=null&&a(e,["computerUse"],d);const f=s(n,["codeExecution"]);return f!=null&&a(e,["codeExecution"],f),e}function l0(n){const e={},t=s(n,["baseModel"]);t!=null&&a(e,["baseModel"],t);const o=s(n,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(n,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function a0(n){const e={},t=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&a(e,["baseModel"],t);const o=s(n,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(n,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function u0(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(n,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),t}function c0(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(n,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(n,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),t}function d0(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","name"],Y(n,o));const r=s(e,["config"]);return r!=null&&u0(r,t),t}function f0(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["config"]);return r!=null&&c0(r,t),t}function p0(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(n,["includeRaiReason"]);e!==void 0&&r!=null&&a(e,["parameters","includeRaiReason"],r);const i=s(n,["outputMimeType"]);e!==void 0&&i!=null&&a(e,["parameters","outputOptions","mimeType"],i);const l=s(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&a(e,["parameters","outputOptions","compressionQuality"],l);const u=s(n,["enhanceInputImage"]);e!==void 0&&u!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=s(n,["imagePreservationFactor"]);e!==void 0&&c!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=s(n,["labels"]);e!==void 0&&d!=null&&a(e,["labels"],d);const f=s(n,["numberOfImages"]);e!==void 0&&f!=null&&a(e,["parameters","sampleCount"],f);const m=s(n,["mode"]);return e!==void 0&&m!=null&&a(e,["parameters","mode"],m),t}function m0(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],Y(n,o));const r=s(e,["image"]);r!=null&&a(t,["instances[0]","image"],ln(r));const i=s(e,["upscaleFactor"]);i!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(e,["config"]);return l!=null&&p0(l,t),t}function h0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>hi(i))),a(e,["generatedImages"],r)}return e}function g0(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const o=s(n,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Wn(o));const r=s(n,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function y0(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Wn(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function _0(n){const e={},t=s(n,["image"]);t!=null&&a(e,["_self"],ln(t));const o=s(n,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function v0(n){const e={},t=s(n,["image"]);t!=null&&a(e,["image"],gi(t));const o=s(n,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function C0(n){const e={},t=s(n,["image"]);t!=null&&a(e,["image"],ln(t));const o=s(n,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function ip(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const o=s(n,["videoBytes"]);o!=null&&a(e,["encodedVideo"],Wn(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["encoding"],r),e}function sp(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["gcsUri"],t);const o=s(n,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Wn(o));const r=s(n,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T0="Content-Type",S0="X-Server-Timeout",E0="User-Agent",Ws="x-goog-api-client",w0="1.25.0",I0=`google-genai-sdk/${w0}`,x0="v1beta1",k0="v1beta",hc=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class A0{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:x0,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:k0,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const r=[this.getRequestUrlInternal(t)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))r.searchParams.append(l,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(t))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o){if(t&&t.timeout||o){const r=new AbortController,i=r.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const l=setTimeout(()=>r.abort(),t.timeout);l&&typeof l.unref=="function"&&l.unref()}o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=i}return t&&t.extraBody!==null&&N0(e,t.extraBody),e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await gc(r),new Bs(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await gc(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return Lt(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:c}=yield re(r.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=i.decode(c,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const p=JSON.parse(JSON.stringify(m.error)),_=p.status,C=p.code,T=`got status: ${_}. ${JSON.stringify(m)}`;if(C>=400&&C<600)throw new pi({message:T,status:C})}}catch(m){if(m.name==="ApiError")throw m}l+=d;let f=l.match(hc);for(;f;){const m=f[1];try{const p=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield re(new Bs(p)),l=l.slice(f[0].length),f=l.match(hc)}catch(p){throw new Error(`exception parsing stream chunk ${m}. ${p}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=I0+" "+this.clientOptions.userAgentExtra;return e[E0]=t,e[Ws]=t,e[T0]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[o,r]of Object.entries(e.headers))t.append(o,r);e.timeout&&e.timeout>0&&t.append(S0,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var o;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);const u=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c=await this.fetchUploadUrl(r,t);return i.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var o;let r={};t!=null&&t.httpOptions?r=t.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},l=await this.request({path:U("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:r});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=l==null?void 0:l.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function gc(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(o);throw t>=400&&t<600?new pi({message:r,status:t}):new Error(r)}}function N0(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const i=JSON.parse(n.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))t=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P0="mcp_used/unknown";let R0=!1;function lp(n){for(const e of n)if(M0(e)||typeof e=="object"&&"inputSchema"in e)return!0;return R0}function ap(n){var e;const t=(e=n[Ws])!==null&&e!==void 0?e:"";n[Ws]=(t+` ${P0}`).trimStart()}function M0(n){return n!==null&&typeof n=="object"&&n instanceof Ol}function D0(n,e=100){return Lt(this,arguments,function*(){let o,r=0;for(;r<e;){const i=yield re(n.listTools({cursor:o}));for(const l of i.tools)yield yield re(l),r++;if(!i.nextCursor)break;o=i.nextCursor}})}class Ol{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Ol(e,t)}async initialize(){var e,t,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(t=void 0,vo(D0(f))),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const m=r;l.push(m);const p=m.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(m){t={error:m}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Gg(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);t.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function L0(n,e,t){const o=new Pg;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(o,r),e(o)}class U0{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=G0(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(v=>{d=v}),m=e.callbacks,p=function(){d({})},_=this.apiClient,C={onopen:p,onmessage:v=>{L0(_,m.onmessage,v)},onerror:(t=m==null?void 0:m.onerror)!==null&&t!==void 0?t:function(v){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(v){}},T=this.webSocketFactory.create(c,V0(l),C);T.connect(),await f;const g={setup:{model:Y(this.apiClient,e.model)}};return T.send(JSON.stringify(g)),new F0(T,this.apiClient)}}class F0{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=k_(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=x_(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(xt.PLAY)}pause(){this.sendPlaybackControl(xt.PAUSE)}stop(){this.sendPlaybackControl(xt.STOP)}resetContext(){this.sendPlaybackControl(xt.RESET_CONTEXT)}close(){this.conn.close()}}function V0(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function G0(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q0="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function B0(n,e,t){const o=new Ng;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const i=JSON.parse(r);if(n.isVertexAI()){const l=P_(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}class H0{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new U0(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,r,i,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&lp(e.config.tools)&&ap(m);const p=W0(m);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const R=this.apiClient.getApiKey();let N="BidiGenerateContent",V="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",V="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${N}?${V}=${R}`}let _=()=>{};const C=new Promise(R=>{_=R}),T=e.callbacks,w=function(){var R;(R=T==null?void 0:T.onopen)===null||R===void 0||R.call(T),_({})},y=this.apiClient,g={onopen:w,onmessage:R=>{B0(y,T.onmessage,R)},onerror:(t=T==null?void 0:T.onerror)!==null&&t!==void 0?t:function(R){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(R){}},v=this.webSocketFactory.create(f,J0(p),g);v.connect(),await C;let S=Y(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const R=this.apiClient.getProject(),N=this.apiClient.getLocation();S=`projects/${R}/locations/${N}/`+S}let E={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Yr.AUDIO]}:e.config.responseModalities=[Yr.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],x=[];for(const R of I)if(this.isCallableTool(R)){const N=R;x.push(await N.tool())}else x.push(R);x.length>0&&(e.config.tools=x);const k={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=I_(this.apiClient,k):E=w_(this.apiClient,k),delete E.config,v.send(JSON.stringify(E)),new $0(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const z0={turnComplete:!0};class $0{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=Oe(t.turns),e.isVertexAI()||(o=o.map(r=>mi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(q0)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},z0),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:N_(e)}:t={realtimeInput:A_(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function J0(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function W0(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yc=10;function _c(n){var e,t,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Ut(l)){r=!0;break}if(!r)return!0;const i=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Ut(n){return"callTool"in n&&typeof n.callTool=="function"}function K0(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Ut(r)))!==null&&o!==void 0?o:!1}function O0(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>!Ut(r)))!==null&&o!==void 0?o:!1}function vc(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y0 extends ct{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,r,i,l,u;const c=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!K0(t)||_c(t.config))return await this.generateContentInternal(c);if(O0(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,f;const m=Oe(c.contents),p=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:yc;let _=0;for(;_<p&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const C=d.candidates[0].content,T=[];for(const w of(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ut(w)){const g=await w.callTool(d.functionCalls);T.push(...g)}_++,f={role:"user",parts:T},c.contents=Oe(c.contents),c.contents.push(C),c.contents.push(f),vc(c.config)&&(m.push(C),m.push(f))}return vc(c.config)&&(d.automaticFunctionCallingHistory=m),d},this.generateContentStream=async t=>{if(this.maybeMoveToResponseJsonSchem(t),_c(t.config)){const o=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async t=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new zo(lt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var o,r,i,l,u,c;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=t.video)===null||o===void 0)&&o.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(i=t.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=t.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,o,r;const i=(t=e.config)===null||t===void 0?void 0:t.tools;if(!i)return e;const l=await Promise.all(i.map(async c=>Ut(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&lp(e.config.tools)){const c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),ap(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var t,o,r;const i=new Map;for(const l of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Ut(l)){const u=l,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var t,o,r;const i=(r=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:yc;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,m){var p,_;return Lt(this,arguments,function*(){for(var C,T,w,y;u<i;){l&&(u++,l=!1);const E=yield re(d.processParamsMaybeAddMcpUsage(m)),I=yield re(d.generateContentStreamInternal(E)),x=[],k=[];try{for(var g=!0,v=(T=void 0,vo(I)),S;S=yield re(v.next()),C=S.done,!C;g=!0){y=S.value,g=!1;const R=y;if(yield yield re(R),R.candidates&&(!((p=R.candidates[0])===null||p===void 0)&&p.content)){k.push(R.candidates[0].content);for(const N of(_=R.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(u<i&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(N.functionCall.name)){const V=yield re(f.get(N.functionCall.name).callTool([N.functionCall]));x.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(R){T={error:R}}finally{try{!g&&!C&&(w=v.return)&&(yield re(w.call(v)))}finally{if(T)throw T.error}}if(x.length>0){l=!0;const R=new ro;R.candidates=[{content:{role:"user",parts:x}}],yield yield re(R);const N=[];N.push(...k),N.push({role:"user",parts:x});const V=Oe(m.contents).concat(N);m.contents=V}else break}})}(this,c,e)}async generateContentInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=fc(this.apiClient,e);return u=U("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=mc(f),p=new ro;return Object.assign(p,m),p})}else{const d=dc(this.apiClient,e);return u=U("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=pc(f),p=new ro;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=fc(this.apiClient,e);return u=U("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Lt(this,arguments,function*(){var p,_,C,T;try{for(var w=!0,y=vo(m),g;g=yield re(y.next()),p=g.done,!p;w=!0){T=g.value,w=!1;const v=T,S=mc(yield re(v.json()));S.sdkHttpResponse={headers:v.headers};const E=new ro;Object.assign(E,S),yield yield re(E)}}catch(v){_={error:v}}finally{try{!w&&!p&&(C=y.return)&&(yield re(C.call(y)))}finally{if(_)throw _.error}}})})}else{const d=dc(this.apiClient,e);return u=U("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(m){return Lt(this,arguments,function*(){var p,_,C,T;try{for(var w=!0,y=vo(m),g;g=yield re(y.next()),p=g.done,!p;w=!0){T=g.value,w=!1;const v=T,S=pc(yield re(v.json()));S.sdkHttpResponse={headers:v.headers};const E=new ro;Object.assign(E,S),yield yield re(E)}}catch(v){_={error:v}}finally{try{!w&&!p&&(C=y.return)&&(yield re(C.call(y)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=sv(this.apiClient,e);return u=U("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=av(f),p=new Qu;return Object.assign(p,m),p})}else{const d=iv(this.apiClient,e);return u=U("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=lv(f),p=new Qu;return Object.assign(p,m),p})}}async generateImagesInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=yv(this.apiClient,e);return u=U("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=vv(f),p=new bu;return Object.assign(p,m),p})}else{const d=gv(this.apiClient,e);return u=U("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=_v(f),p=new bu;return Object.assign(p,m),p})}}async editImageInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=nv(this.apiClient,e);return i=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=tv(c),f=new Tg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=m0(this.apiClient,e);return i=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=h0(c),f=new Sg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=bv(this.apiClient,e);return i=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=Xv(c),f=new Eg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=o0(this.apiClient,e);return i=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=r0(c),f=new wg;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Fv(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Js(f))}else{const d=Uv(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>$s(f))}}async listInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$v(this.apiClient,e);return u=U("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Wv(f),p=new Xu;return Object.assign(p,m),p})}else{const d=zv(this.apiClient,e);return u=U("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Jv(f),p=new Xu;return Object.assign(p,m),p})}}async update(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=f0(this.apiClient,e);return u=U("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Js(f))}else{const d=d0(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>$s(f))}}async delete(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=X_(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=j_(f),p=new Zu;return Object.assign(p,m),p})}else{const d=b_(this.apiClient,e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Z_(f),p=new Zu;return Object.assign(p,m),p})}}async countTokens(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=O_(this.apiClient,e);return u=U("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Q_(f),p=new ju;return Object.assign(p,m),p})}else{const d=K_(this.apiClient,e);return u=U("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Y_(f),p=new ju;return Object.assign(p,m),p})}}async computeTokens(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=q_(this.apiClient,e);return i=U("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=B_(c),f=new Ig;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Iv(this.apiClient,e);return u=U("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const m=Ev(f),p=new Qr;return Object.assign(p,m),p})}else{const d=wv(this.apiClient,e);return u=U("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const m=Sv(f),p=new Qr;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q0 extends ct{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=_g(e);return u=U("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=yg(e);return u=U("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=cg(e);return i=U("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["data"]);t!=null&&a(e,["data"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function X0(n){const e={},t=s(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>iC(i))),a(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function Z0(n,e,t){const o={},r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["newSessionExpireTime"]);t!==void 0&&i!=null&&a(t,["newSessionExpireTime"],i);const l=s(e,["uses"]);t!==void 0&&l!=null&&a(t,["uses"],l);const u=s(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&a(t,["bidiGenerateContentSetup"],rC(n,u));const c=s(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&a(t,["fieldMask"],c),o}function j0(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],Z0(n,o,t)),t}function eC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function nC(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function tC(n){const e={},t=s(n,["timeRangeFilter"]);if(t!=null&&a(e,["timeRangeFilter"],t),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function oC(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(n,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(n,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],Kl(m));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const _=s(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],_);const C=s(n,["systemInstruction"]);e!==void 0&&C!=null&&a(e,["setup","systemInstruction"],X0(Ie(C)));const T=s(n,["tools"]);if(e!==void 0&&T!=null){let I=Yt(T);Array.isArray(I)&&(I=I.map(x=>lC(Ot(x)))),a(e,["setup","tools"],I)}const w=s(n,["sessionResumption"]);e!==void 0&&w!=null&&a(e,["setup","sessionResumption"],sC(w));const y=s(n,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const g=s(n,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const v=s(n,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);const S=s(n,["contextWindowCompression"]);e!==void 0&&S!=null&&a(e,["setup","contextWindowCompression"],S);const E=s(n,["proactivity"]);return e!==void 0&&E!=null&&a(e,["setup","proactivity"],E),t}function rC(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],Y(n,o));const r=s(e,["config"]);return r!=null&&a(t,["config"],oC(r,t)),t}function iC(n){const e={},t=s(n,["videoMetadata"]);t!=null&&a(e,["videoMetadata"],t);const o=s(n,["thought"]);o!=null&&a(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&a(e,["inlineData"],b0(r));const i=s(n,["fileData"]);i!=null&&a(e,["fileData"],eC(i));const l=s(n,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(n,["functionCall"]);u!=null&&a(e,["functionCall"],u);const c=s(n,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const d=s(n,["executableCode"]);d!=null&&a(e,["executableCode"],d);const f=s(n,["functionResponse"]);f!=null&&a(e,["functionResponse"],f);const m=s(n,["text"]);return m!=null&&a(e,["text"],m),e}function sC(n){const e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lC(n){const e={},t=s(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["functionDeclarations"],d)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&a(e,["googleSearch"],tC(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&a(e,["googleSearchRetrieval"],r),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(n,["googleMaps"]);i!=null&&a(e,["googleMaps"],nC(i));const l=s(n,["urlContext"]);l!=null&&a(e,["urlContext"],l);const u=s(n,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=s(n,["codeExecution"]);return c!=null&&a(e,["codeExecution"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aC(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${t}.${i}`);e.push(...r)}else e.push(t)}return e.join(",")}function uC(n,e){let t=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(n.bidiGenerateContentSetup=i,t=i):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const i=aC(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?n.fieldMask=i:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class cC extends ct{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=j0(this.apiClient,e);i=U("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=uC(u,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function fC(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function pC(n,e){const t={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=s(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&a(e,["displayName"],o),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(n,["epochCount"]);e!==void 0&&r!=null&&a(e,["tuningTask","hyperparameters","epochCount"],r);const i=s(n,["learningRateMultiplier"]);if(i!=null&&a(t,["tuningTask","hyperparameters","learningRateMultiplier"],i),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=s(n,["batchSize"]);e!==void 0&&l!=null&&a(e,["tuningTask","hyperparameters","batchSize"],l);const u=s(n,["learningRate"]);if(e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","learningRate"],u),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return t}function mC(n,e){const t={},o=s(n,["validationDataset"]);e!==void 0&&o!=null&&a(e,["supervisedTuningSpec"],NC(o,t));const r=s(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&a(e,["tunedModelDisplayName"],r);const i=s(n,["description"]);e!==void 0&&i!=null&&a(e,["description"],i);const l=s(n,["epochCount"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const u=s(n,["learningRateMultiplier"]);e!==void 0&&u!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=s(n,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const d=s(n,["adapterSize"]);if(e!==void 0&&d!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=s(n,["labels"]);return e!==void 0&&f!=null&&a(e,["labels"],f),t}function hC(n){const e={},t=s(n,["baseModel"]);t!=null&&a(e,["baseModel"],t);const o=s(n,["preTunedModel"]);o!=null&&a(e,["preTunedModel"],o);const r=s(n,["trainingDataset"]);r!=null&&a(e,["tuningTask","trainingData"],xC(r));const i=s(n,["config"]);return i!=null&&pC(i,e),e}function gC(n){const e={},t=s(n,["baseModel"]);t!=null&&a(e,["baseModel"],t);const o=s(n,["preTunedModel"]);o!=null&&a(e,["preTunedModel"],o);const r=s(n,["trainingDataset"]);r!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],kC(r,e));const i=s(n,["config"]);return i!=null&&mC(i,e),e}function yC(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function _C(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function vC(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const i=s(n,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),t}function CC(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const i=s(n,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),t}function TC(n){const e={},t=s(n,["config"]);return t!=null&&vC(t,e),e}function SC(n){const e={},t=s(n,["config"]);return t!=null&&CC(t,e),e}function EC(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["tunedModels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>up(l))),a(e,["tuningJobs"],i)}return e}function wC(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(n,["tuningJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Ks(l))),a(e,["tuningJobs"],i)}return e}function IC(n){const e={},t=s(n,["name"]);t!=null&&a(e,["model"],t);const o=s(n,["name"]);return o!=null&&a(e,["endpoint"],o),e}function xC(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const t=s(n,["examples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["examples","examples"],o)}return e}function kC(n,e){const t={},o=s(n,["gcsUri"]);e!==void 0&&o!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],o);const r=s(n,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],r),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return t}function up(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["state"]);r!=null&&a(e,["state"],Jf(r));const i=s(n,["createTime"]);i!=null&&a(e,["createTime"],i);const l=s(n,["tuningTask","startTime"]);l!=null&&a(e,["startTime"],l);const u=s(n,["tuningTask","completeTime"]);u!=null&&a(e,["endTime"],u);const c=s(n,["updateTime"]);c!=null&&a(e,["updateTime"],c);const d=s(n,["description"]);d!=null&&a(e,["description"],d);const f=s(n,["baseModel"]);f!=null&&a(e,["baseModel"],f);const m=s(n,["_self"]);m!=null&&a(e,["tunedModel"],IC(m));const p=s(n,["customBaseModel"]);p!=null&&a(e,["customBaseModel"],p);const _=s(n,["experiment"]);_!=null&&a(e,["experiment"],_);const C=s(n,["labels"]);C!=null&&a(e,["labels"],C);const T=s(n,["outputUri"]);T!=null&&a(e,["outputUri"],T);const w=s(n,["pipelineJob"]);w!=null&&a(e,["pipelineJob"],w);const y=s(n,["serviceAccount"]);y!=null&&a(e,["serviceAccount"],y);const g=s(n,["tunedModelDisplayName"]);g!=null&&a(e,["tunedModelDisplayName"],g);const v=s(n,["veoTuningSpec"]);return v!=null&&a(e,["veoTuningSpec"],v),e}function Ks(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["state"]);r!=null&&a(e,["state"],Jf(r));const i=s(n,["createTime"]);i!=null&&a(e,["createTime"],i);const l=s(n,["startTime"]);l!=null&&a(e,["startTime"],l);const u=s(n,["endTime"]);u!=null&&a(e,["endTime"],u);const c=s(n,["updateTime"]);c!=null&&a(e,["updateTime"],c);const d=s(n,["error"]);d!=null&&a(e,["error"],d);const f=s(n,["description"]);f!=null&&a(e,["description"],f);const m=s(n,["baseModel"]);m!=null&&a(e,["baseModel"],m);const p=s(n,["tunedModel"]);p!=null&&a(e,["tunedModel"],p);const _=s(n,["preTunedModel"]);_!=null&&a(e,["preTunedModel"],_);const C=s(n,["supervisedTuningSpec"]);C!=null&&a(e,["supervisedTuningSpec"],C);const T=s(n,["tuningDataStats"]);T!=null&&a(e,["tuningDataStats"],T);const w=s(n,["encryptionSpec"]);w!=null&&a(e,["encryptionSpec"],w);const y=s(n,["partnerModelTuningSpec"]);y!=null&&a(e,["partnerModelTuningSpec"],y);const g=s(n,["customBaseModel"]);g!=null&&a(e,["customBaseModel"],g);const v=s(n,["experiment"]);v!=null&&a(e,["experiment"],v);const S=s(n,["labels"]);S!=null&&a(e,["labels"],S);const E=s(n,["outputUri"]);E!=null&&a(e,["outputUri"],E);const I=s(n,["pipelineJob"]);I!=null&&a(e,["pipelineJob"],I);const x=s(n,["serviceAccount"]);x!=null&&a(e,["serviceAccount"],x);const k=s(n,["tunedModelDisplayName"]);k!=null&&a(e,["tunedModelDisplayName"],k);const R=s(n,["veoTuningSpec"]);return R!=null&&a(e,["veoTuningSpec"],R),e}function AC(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const r=s(n,["metadata"]);r!=null&&a(e,["metadata"],r);const i=s(n,["done"]);i!=null&&a(e,["done"],i);const l=s(n,["error"]);return l!=null&&a(e,["error"],l),e}function NC(n,e){const t={},o=s(n,["gcsUri"]);o!=null&&a(t,["validationDatasetUri"],o);const r=s(n,["vertexDatasetResource"]);return e!==void 0&&r!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PC extends ct{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new zo(lt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{var o;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((o=t.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},t),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:qs.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=_C(e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Ks(f))}else{const d=yC(e);return u=U("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>up(f))}}async listInternal(e){var t,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=SC(e);return u=U("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=wC(f),p=new ec;return Object.assign(p,m),p})}else{const d=TC(e);return u=U("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=EC(f),p=new ec;return Object.assign(p,m),p})}}async cancel(e){var t,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=fC(e);l=U("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=dC(e);l=U("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=gC(e);return i=U("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>Ks(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hC(e);return i=U("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>AC(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RC{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MC=1024*1024*8,DC=3,LC=1e3,UC=2,Ji="x-goog-upload-status";async function FC(n,e,t){var o,r,i;let l=0,u=0,c=new Bs(new Response),d="upload";for(l=n.size;u<l;){const m=Math.min(MC,l-u),p=n.slice(u,u+m);u+m>=l&&(d+=", finalize");let _=0,C=LC;for(;_<DC&&(c=await t.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((o=c==null?void 0:c.headers)===null||o===void 0)&&o[Ji]));)_++,await GC(C),C=C*UC;if(u+=m,((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[Ji])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(c==null?void 0:c.json());if(((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[Ji])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function VC(n){return{size:n.size,type:n.type}}function GC(n){return new Promise(e=>setTimeout(e,n))}class qC{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FC(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC{create(e,t,o){return new HC(e,t,o)}}class HC{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cc="x-goog-api-key";class zC{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Cc)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Cc,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $C="gl-node/";class JC{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=ag(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new zC(this.apiKey);this.apiClient=new A0({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:$C+"web",uploader:new qC,downloader:new RC}),this.models=new Y0(this.apiClient),this.live=new H0(this.apiClient,r,new BC),this.batches=new ky(this.apiClient),this.chats=new i_(this.models,this.apiClient),this.caches=new t_(this.apiClient),this.files=new h_(this.apiClient),this.operations=new Q0(this.apiClient),this.authTokens=new cC(this.apiClient),this.tunings=new PC(this.apiClient)}}const WC=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),KC=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,OC=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",YC=({onClose:n})=>{const[e,t]=P.useState(null),[o,r]=P.useState(!1);P.useEffect(()=>{const l=/iPad|iPhone|iPod/.test(navigator.userAgent);r(l);const u=c=>{c.preventDefault(),t(c)};return window.addEventListener("beforeinstallprompt",u),()=>{window.removeEventListener("beforeinstallprompt",u)}},[]);const i=async()=>{if(e){e.prompt();const{outcome:l}=await e.userChoice;l==="accepted"&&(t(null),n())}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm w-full",children:[h.jsxs("div",{className:"text-center mb-4",children:[h.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-lg mx-auto mb-4 flex items-center justify-center",children:h.jsx("span",{className:"text-white text-2xl font-bold",children:"N"})}),h.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:" "}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Nova      ."})]}),o?h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"bg-blue-50 dark:bg-blue-900 p-3 rounded-lg mb-3",children:h.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"iOS  :"})}),h.jsxs("ol",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-2",children:[h.jsxs("li",{className:"flex items-center",children:[h.jsx("span",{className:"w-6 h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center text-xs mr-2",children:"1"}),"   () "]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx("span",{className:"w-6 h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center text-xs mr-2",children:"2"}),'"  " ']}),h.jsxs("li",{className:"flex items-center",children:[h.jsx("span",{className:"w-6 h-6 bg-indigo-600 text-white rounded-full flex items-center justify-center text-xs mr-2",children:"3"}),'""  ']})]})]}):h.jsx("div",{className:"mb-4",children:e?h.jsx("button",{onClick:i,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors",children:" "}):h.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:'  "  "  " " .'})})}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:n,className:"flex-1 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:""}),h.jsx("button",{onClick:()=>{localStorage.setItem("pwa-prompt-dismissed","true"),n()},className:"flex-1 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"  "})]})]})})},QC={ko:{language_selection_title:"",error_wish_required:" .",error_outcome_required:" .",error_obstacle_required:" .",error_plan_required:"If-Then  .",error_deadline_required:" .",error_day_required:"   .",my_goals_title:" ",sort_label_manual:"",sort_label_deadline:"",sort_label_newest:"",sort_label_alphabetical:"",sort_label_ai:"AI ",ai_sorting_button:" ...",add_new_goal_button_label:"  ",filter_all:" ",filter_active:"",filter_completed:"",empty_message_all:"    .",empty_message_active:"  .",empty_message_completed:"   .",empty_encouragement_1:"    .",empty_encouragement_2:"    .",empty_encouragement_3:"    .",empty_encouragement_4:"     .",delete_button:"",edit_button_aria:" ",info_button_aria:" ",filter_title:"",sort_title:"",filter_sort_button_aria:"  ",calendar_view_button_aria:" ",list_view_button_aria:" ",more_options_button_aria:" ",select_button_label:"",cancel_selection_button_label:"",delete_selected_button_label:"{count} ",delete_selected_confirm_title:" ",delete_selected_confirm_message:" {count}   .",days_left:"{count} ",d_day:"D-DAY",days_overdue:"{count} ",month_names:["1","2","3","4","5","6","7","8","9","10","11","12"],day_names_short:["","","","","","",""],day_names_long:["","","","","","",""],calendar_header_month_format:"{year} {month}",calendar_view_day3:"3",calendar_view_week:"",calendar_view_month:"",settings_title:"",sort_alert_title:" ",sort_alert_message:"AI   <br/>2   .",ai_sort_error_title:"AI  ",ai_sort_error_message:"    .",confirm_button:"",new_goal_modal_title:" ",edit_goal_modal_title:" ",wish_label:"",outcome_label:" ",obstacle_label:"",plan_label:"If-Then ",deadline_label:"",cancel_button:"",add_button:"",save_button:"",goal_details_modal_title:"  ",ai_coach_suggestion:" AI ",ai_analyzing:"AI  ...",close_button:"",ai_sort_reason_modal_title:"AI  ",ai_sort_criteria:" AI  ",delete_account_final_confirm_title:"  ",delete_account_final_confirm_message:"    ,     .",delete_all_data_button:"  ",settings_done_button:"",settings_section_data:" ",settings_export_data:"",settings_import_data:"",import_confirm_title:" ",import_confirm_message:"    .     .",import_success_toast:"  .",import_error_alert_title:" ",import_error_alert_message:"        .",settings_section_general:"",settings_section_info:"",settings_section_help:"",settings_dark_mode:" ",settings_language:"",settings_api_key:"AI  ",settings_api_key_placeholder:"Gemini API  ",settings_offline_mode:" ",settings_offline_mode_desc:"AI      ",language_name:" ()",language_modal_title:"",settings_section_background:"",settings_bg_default:"",settings_bg_default_dark:"",settings_bg_pink:"",settings_bg_cherry_noir:" ",settings_bg_blue:"",settings_bg_deep_ocean:"",settings_bg_green:"",settings_bg_forest_green:"",settings_bg_purple:"",settings_bg_royal_purple:" ",settings_version:"",settings_developer:"",developer_name:"GimGyuMin",settings_copyright:"",copyright_notice:" 2025 GimGyuMin. All Rights Reserved.",build_number:" ",settings_data_header:" ",settings_data_header_desc:"   ,  .",settings_background_header:"",settings_background_header_desc:"      .",data_importing:" ...",data_exporting:" ...",data_deleting:" ...",url_import_title:"URL  ",url_import_message:"URL     ?",url_import_confirm:"",url_import_success:"URL   !",url_import_error:"URL   .",settings_share_link_header:" ",settings_generate_link:"  ",settings_copy_link:"",link_copied_toast:"  .",short_url_created:"  URL !",share_link_created:"   !",short_url_failed:"  URL     .",no_data_to_share:"  .   .",usage_guide_tab:"",usage_guide_title:" ",usage_basic_title:" ",usage_basic_desc:`1.   "   "  .
2. , , ,   .
3.    .
4. ""    .`,usage_ai_title:"AI  ",usage_ai_desc:`    "AI "    .
   "AI "     .
 AI       .

 AI    API   .`,usage_ai_setup_title:"AI  ",usage_ai_setup_desc:`1.  >  API   .
2. Google Gemini API  .
3. API     Google   :
   https://ai.google.dev/gemini-api/docs/api-key
4.    AI  .`,usage_share_title:" ",usage_share_desc:`1.  >  "  "  .
2.     .
3. " "   .
4.    .`,usage_theme_title:" ",usage_theme_desc:`1.  >     .
2.     .
3. , , , ,     .
4.    .`,usage_calendar_title:"  ",usage_calendar_desc:`1.     .
2. 3//    .
3.      .
4.      .`,usage_offline_title:"  ",usage_offline_desc:`1.  >  " "  .
2. API    , ,  .
3. AI         .
4.    .`,goal_assistant_title:" ",goal_assistant_mode_woop:"WOOP ",goal_assistant_mode_automation:" ",automation_title:"  ",automation_base_name_label:" ",automation_base_name_placeholder:":   ",automation_total_units_label:" ",automation_total_units_placeholder:": 30",automation_units_per_day_label:" ",automation_period_label:"",automation_start_date_label:"",automation_end_date_label:"",automation_generate_button:"{count} ",automation_error_all_fields:"   .",automation_error_start_after_end:"   .",automation_error_short_period:"  . (1 )",next_button:"",back_button:"",wish_tip:"  ,    .",wish_example:": 3  5kg ,   A+ ",outcome_tip:"          .",outcome_example:":     ,   ",obstacle_tip:"      (,  ) ?",obstacle_example:":       ,    ",plan_tip:"' ~, ~'       .",plan_example:":      ,    10 .",recurrence_label:"",recurrence_tip:"     ?      .",recurrence_example:":  ,,  ",recurrence_option_daily:" ",deadline_tip:"    .     .",deadline_option_no_deadline:" ",day_names_short_picker:["","","","","","",""],settings_delete_account:"  ",delete_account_header:" ",delete_account_header_desc:"    ,     .",version_update_title:" ",version_update_1_title:"AI  ",version_update_1_desc:"Gemini API      AI     .",version_update_2_title:" ",version_update_2_desc:"    URL  .   .",version_update_3_title:"  UI",version_update_3_desc:"         ."},en:{language_selection_title:"Language",error_wish_required:"Please enter your wish.",error_outcome_required:"Please enter the outcome.",error_obstacle_required:"Please enter the obstacle.",error_plan_required:"Please enter your If-Then plan.",error_deadline_required:"Please select a deadline.",error_day_required:"Please select at least one day.",my_goals_title:"My Goals",sort_label_manual:"Manual",sort_label_deadline:"Deadline",sort_label_newest:"Newest",sort_label_alphabetical:"Alphabetical",sort_label_ai:"AI Recommended",ai_sorting_button:"Sorting...",add_new_goal_button_label:"Add New Goal",filter_all:"All Goals",filter_active:"In Progress",filter_completed:"Completed",empty_message_all:"Add your first goal to begin your journey.",empty_message_active:"No goals in progress.",empty_message_completed:"No completed goals yet.",empty_encouragement_1:"Take the first step toward something amazing.",empty_encouragement_2:"Small changes lead to big achievements.",empty_encouragement_3:"What you do today shapes tomorrow.",empty_encouragement_4:"Your goals are waiting to become reality.",delete_button:"Delete",edit_button_aria:"Edit Goal",info_button_aria:"Details",filter_title:"Filter",sort_title:"Sort",filter_sort_button_aria:"Filter and Sort",calendar_view_button_aria:"Calendar View",list_view_button_aria:"List View",more_options_button_aria:"More",select_button_label:"Select",cancel_selection_button_label:"Cancel",delete_selected_button_label:"Delete {count}",delete_selected_confirm_title:"Delete Goals",delete_selected_confirm_message:"The {count} selected goals will be permanently deleted.",days_left:"{count} days left",d_day:"D-DAY",days_overdue:"{count} days overdue",month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],day_names_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],day_names_long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],calendar_header_month_format:"{month} {year}",calendar_view_day3:"3-Day",calendar_view_week:"Week",calendar_view_month:"Month",settings_title:"Settings",sort_alert_title:"Unable to Sort",sort_alert_message:"Add at least two goals to use AI recommendations.",ai_sort_error_title:"Sorting Unavailable",ai_sort_error_message:"AI sorting is temporarily unavailable.",confirm_button:"OK",new_goal_modal_title:"New Goal",edit_goal_modal_title:"Edit Goal",wish_label:"Wish",outcome_label:"Outcome",obstacle_label:"Obstacle",plan_label:"If-Then Plan",deadline_label:"Deadline",cancel_button:"Cancel",add_button:"Add",save_button:"Save",goal_details_modal_title:"Goal Details",ai_coach_suggestion:" AI Coach",ai_analyzing:"AI Analyzing...",close_button:"Close",ai_sort_reason_modal_title:"AI Sort Rationale",ai_sort_criteria:" AI Sort Criteria",delete_account_final_confirm_title:"Delete All Data",delete_account_final_confirm_message:"All your goals and data will be permanently deleted. This action cannot be undone.",delete_all_data_button:"Delete All Data",settings_done_button:"Done",settings_section_data:"Data Management",settings_export_data:"Export",settings_import_data:"Import",import_confirm_title:"Import Data",import_confirm_message:"This will replace your current goals with new data. This action cannot be undone.",import_success_toast:"Data imported successfully.",import_error_alert_title:"Import Failed",import_error_alert_message:"There was an error reading the file, or the file format is incorrect.",settings_section_general:"General",settings_section_info:"Information",settings_section_help:"How to Use",settings_dark_mode:"Dark Mode",settings_language:"Language",settings_api_key:"AI Assistant",settings_api_key_placeholder:"Enter Gemini API key",settings_offline_mode:"Offline Mode",settings_offline_mode_desc:"Use basic features without AI",language_name:"English (US)",language_modal_title:"Language",settings_section_background:"Appearance",settings_bg_default:"Light",settings_bg_default_dark:"Dark",settings_bg_pink:"Pink",settings_bg_cherry_noir:"Cherry Noir",settings_bg_blue:"Blue",settings_bg_deep_ocean:"Ocean",settings_bg_green:"Green",settings_bg_forest_green:"Forest",settings_bg_purple:"Purple",settings_bg_royal_purple:"Royal Purple",settings_version:"Version",settings_developer:"Developer",developer_name:"GimGyuMin",settings_copyright:"Copyright",copyright_notice:" 2025 GimGyuMin. All Rights Reserved.",build_number:"Build Number",settings_data_header:"Data Management",settings_data_header_desc:"Export or import your goal data.",settings_background_header:"Background",settings_background_header_desc:"Change the app's background style to express your personality.",data_importing:"Importing...",data_exporting:"Exporting...",data_deleting:"Deleting...",url_import_title:"Load from URL",url_import_message:"Overwrite current goals with data from the URL?",url_import_confirm:"Load",url_import_success:"Successfully loaded data from URL!",url_import_error:"Invalid data in URL.",settings_share_link_header:"Share via Link",settings_generate_link:"Generate Share Link",settings_copy_link:"Copy",link_copied_toast:"Link copied to clipboard.",short_url_created:" Short URL created successfully!",share_link_created:" Share link generated!",short_url_failed:" Short URL creation failed, using default link.",no_data_to_share:"No goals to share. Please add goals first.",usage_guide_tab:"How to Use",usage_guide_title:"User Guide",usage_basic_title:"Add a Goal",usage_basic_desc:`1. Tap "Add and Edit Goals" button on the home screen.
2. Fill in your goal, outcome, obstacle, and plan in order.
3. Select deadline and repeat days.
4. Tap "Save" to add your goal.`,usage_ai_title:"Use AI Features",usage_ai_desc:` Use "AI Suggestion" button when writing goals for improvements.
 Tap "AI Sort" button to organize goals by importance.
 Get AI analysis for more effective goal setting.

 API key setup is required to use AI features.`,usage_ai_setup_title:"Set Up AI Features",usage_ai_setup_desc:`1. Go to Settings > General and find the API Key field.
2. Enter your Google Gemini API key.
3. For API key generation, refer to the Google documentation:
   https://ai.google.dev/gemini-api/docs/api-key
4. AI features will be activated after entering the key.`,usage_share_title:"Share Your Goals",usage_share_desc:`1. Go to Settings > Sharing and tap "Create Goal Link".
2. Review the automatically generated short link.
3. Tap "Copy Link" to copy to clipboard.
4. Share the link via messenger or email.`,usage_theme_title:"Change Theme",usage_theme_desc:`1. Go to Settings > Appearance and use the dark mode toggle.
2. Select your preferred background theme.
3. Choose from Default, Pink, Blue, Green, or Purple themes.
4. Changes are applied immediately.`,usage_calendar_title:"Use Calendar View",usage_calendar_desc:`1. Tap the calendar icon in the bottom tabs.
2. Choose between 3-day, weekly, or monthly view.
3. Tap on any date to see goals for that day.
4. Use left/right arrows to navigate dates.`,usage_offline_title:"Use Offline Mode",usage_offline_desc:`1. Go to Settings > General and turn on "Offline Mode".
2. Add, edit, and delete goals without an API key.
3. AI features are unavailable, but all basic functions work normally.
4. Your data is safely stored in the browser.`,goal_assistant_title:"Add Goal",goal_assistant_mode_woop:"WOOP",goal_assistant_mode_automation:"Automation",automation_title:"Goal Automation",automation_base_name_label:"Base Goal Name",automation_base_name_placeholder:"e.g., Study Vocabulary",automation_total_units_label:"Total Units",automation_total_units_placeholder:"e.g., 30",automation_units_per_day_label:"Units per Day",automation_period_label:"Period",automation_start_date_label:"Start Date",automation_end_date_label:"End Date",automation_generate_button:"Generate {count}",automation_error_all_fields:"Please fill out all fields correctly.",automation_error_start_after_end:"Start date must be before end date.",automation_error_short_period:"The period is too short (min. 1 day).",next_button:"Next",back_button:"Back",wish_tip:"Set a challenging yet realistic goal. Make it specific and measurable.",wish_example:"e.g., Lose 5kg in 3 months, Get an A+ this semester",outcome_tip:"Imagine the most positive outcome of achieving your goal. The more vivid, the better.",outcome_example:"e.g., Feeling healthier and more confident, Receiving a scholarship",obstacle_tip:"What is the main internal obstacle (e.g., habits, emotions) that could stop you?",obstacle_example:"e.g., Feeling too tired for the gym after work, Procrastinating on difficult tasks",plan_tip:"Create a specific plan to overcome your obstacle in an 'if-then' format.",plan_example:"e.g., If I feel too tired for the gym after work, then I will change into my workout clothes and stretch for 10 minutes.",recurrence_label:"Recurrence",recurrence_tip:"Is this a goal you need to work on consistently? Set it as a recurring goal to track your streak.",recurrence_example:"e.g., Go to the gym every Mon, Wed, Fri",recurrence_option_daily:"Recurring Goal",deadline_tip:"Set a realistic deadline to stay motivated. Long-term goals without a deadline are also fine.",deadline_option_no_deadline:"No Deadline",day_names_short_picker:["M","T","W","T","F","S","S"],settings_delete_account:"Delete All Data",delete_account_header:"Delete Data",delete_account_header_desc:"This action is irreversible and will permanently delete all your goals and data.",version_update_title:"What's New",version_update_1_title:"AI Assistant Setup",version_update_1_desc:"Configure your Gemini API key directly or use offline mode to enjoy the app without AI features.",version_update_2_title:"Goal Sharing",version_update_2_desc:"Share your goals via links with short URL support. Perfect Unicode handling for all languages.",version_update_3_title:"Modern Style UI",version_update_3_desc:"Refined modern design language with mobile optimization for a more intuitive experience."}},$={add:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),check:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("polyline",{points:"20 6 9 17 4 12"})}),info:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),h.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),delete:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("polyline",{points:"3 6 5 6 21 6"}),h.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),h.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),h.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),edit:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),close:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),back:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("polyline",{points:"15 18 9 12 15 6"})}),forward:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("polyline",{points:"9 18 15 12 9 6"})}),calendar:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),h.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),h.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),h.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),list:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),h.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),h.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),h.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),settings:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"12",cy:"12",r:"3"}),h.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),filter:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),ai:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12 3L14.34 8.66L20 11L14.34 13.34L12 19L9.66 13.34L4 11L9.66 8.66L12 3Z"}),h.jsx("path",{d:"M5 21L7 16"}),h.jsx("path",{d:"M19 21L17 16"})]}),flame:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})}),data:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),h.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),background:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round",children:[h.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),h.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),h.jsx("polyline",{points:"21 15 16 10 5 21"})]}),exclamation:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm1-4h-2V7h2v6z"})}),globe:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),h.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 1.53 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})},Ft=(n,e)=>{const t=new Date(n),o=new Date(e);return t.getFullYear()===o.getFullYear()&&t.getMonth()===o.getMonth()&&t.getDate()===o.getDate()},bC=(n,e)=>{if(!n)return null;const t=new Date;t.setHours(0,0,0,0);const o=new Date(n);o.setHours(0,0,0,0);const r=o.getTime()-t.getTime(),i=Math.ceil(r/(1e3*60*60*24));return i===0?e("d_day"):i>0?e("days_left").replace("{count}",String(i)):e("days_overdue").replace("{count}",String(Math.abs(i)))},Tc=(n,e=1)=>{const t=new Date(n),o=t.getDay(),r=(o<e?7:0)+o-e;return t.setDate(t.getDate()-r),t.setHours(0,0,0,0),t},Sc=n=>{try{const e=new TextEncoder().encode(n),t=Array.from(e).map(o=>String.fromCharCode(o)).join("");return btoa(t)}catch(e){return console.error("UTF-8 to Base64 encoding failed:",e),""}},XC=n=>{try{const e=atob(n),t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return new TextDecoder().decode(t)}catch(e){return console.error("Base64 to UTF-8 decoding failed:",e),""}},Ec=n=>{try{const t=JSON.stringify(n).replace(/\s+/g," ").trim();return Sc(t)}catch(e){return console.error("Data compression failed:",e),Sc(JSON.stringify(n))}},ZC=async n=>{if(n.length<1500)return n;const e=[{name:"is.gd",createUrl:async t=>{const o=await fetch(`https://is.gd/create.php?format=simple&url=${encodeURIComponent(t)}`);if(!o.ok)throw new Error("is.gd API failed");const r=await o.text();if(r.includes("Error")||!r.startsWith("http"))throw new Error("Invalid response from is.gd");return r.trim()}},{name:"tinyurl",createUrl:async t=>new Promise((o,r)=>{const i=`tinyurl_${Date.now()}`,l=document.createElement("script"),u=setTimeout(()=>{c(),r(new Error("TinyURL timeout"))},5e3),c=()=>{clearTimeout(u),l.parentNode&&document.head.removeChild(l),delete window[i]};window[i]=d=>{c(),d&&typeof d=="string"&&!d.includes("Error")&&d.startsWith("http")?o(d.trim()):r(new Error("Invalid TinyURL response"))},l.onerror=()=>{c(),r(new Error("TinyURL script load failed"))},l.src=`https://tinyurl.com/api-create.php?url=${encodeURIComponent(t)}&callback=${i}`,document.head.appendChild(l)})},{name:"v.gd",createUrl:async t=>{const o=await fetch(`https://v.gd/create.php?format=simple&url=${encodeURIComponent(t)}`);if(!o.ok)throw new Error("v.gd API failed");const r=await o.text();if(r.includes("Error")||!r.startsWith("http"))throw new Error("Invalid response from v.gd");return r.trim()}}];for(const t of e)try{console.log(`Trying ${t.name} for URL shortening...`);const o=await t.createUrl(n);return console.log(` ${t.name} success:`,o),o}catch(o){console.warn(` ${t.name} failed:`,o);continue}return console.warn("All URL shortening services failed, using original URL"),n},Os=[{id:"default",lightThemeClass:"bg-solid-default",darkThemeClass:"bg-solid-default",lightNameKey:"settings_bg_default",darkNameKey:"settings_bg_default_dark"},{id:"pink",lightThemeClass:"bg-solid-pink",darkThemeClass:"bg-solid-pink",lightNameKey:"settings_bg_pink",darkNameKey:"settings_bg_cherry_noir"},{id:"blue",lightThemeClass:"bg-solid-blue",darkThemeClass:"bg-solid-blue",lightNameKey:"settings_bg_blue",darkNameKey:"settings_bg_deep_ocean"},{id:"green",lightThemeClass:"bg-solid-green",darkThemeClass:"bg-solid-green",lightNameKey:"settings_bg_green",darkNameKey:"settings_bg_forest_green"},{id:"purple",lightThemeClass:"bg-solid-purple",darkThemeClass:"bg-solid-purple",lightNameKey:"settings_bg_purple",darkNameKey:"settings_bg_royal_purple"}],jC=()=>{const[n,e]=P.useState(()=>localStorage.getItem("nova-lang")||"ko"),[t,o]=P.useState([]),[r,i]=P.useState("all"),[l,u]=P.useState("manual"),[c,d]=P.useState(()=>{const D=localStorage.getItem("nova-theme");return D==="system"||!D?OC()==="dark":D==="dark"}),[f,m]=P.useState(()=>localStorage.getItem("nova-theme")||"system"),[p,_]=P.useState("default"),[C,T]=P.useState(!1),[w,y]=P.useState(null),[g,v]=P.useState(null),[S,E]=P.useState(!1),[I,x]=P.useState(!1),[k,R]=P.useState(!1),[N,V]=P.useState(null),[z,X]=P.useState(!1),[J,j]=P.useState(new Set),[Z,pe]=P.useState(""),[M,G]=P.useState("idle"),[H,q]=P.useState(!1),[Q,ee]=P.useState(!1),[ge,dt]=P.useState(!1),[Fe,ft]=P.useState(()=>localStorage.getItem("nova-api-key")||""),[Kn,cp]=P.useState(()=>localStorage.getItem("nova-offline-mode")==="true"),W=P.useCallback(D=>QC[n][D]||D,[n]),Wo=P.useCallback(D=>{const F=D||Fe;if(Kn||!F)return null;try{return new JC({apiKey:F})}catch(B){return console.error("Failed to create AI instance:",B),null}},[Fe,Kn]),dp=P.useCallback(D=>{m(D)},[]),yi=P.useMemo(()=>[W("empty_encouragement_1"),W("empty_encouragement_2"),W("empty_encouragement_3"),W("empty_encouragement_4")],[W]),fp=P.useMemo(()=>yi[Math.floor(Math.random()*yi.length)],[yi]);P.useEffect(()=>{const D=localStorage.getItem("nova-todos"),F=localStorage.getItem("nova-dark-mode"),B=localStorage.getItem("nova-background"),te=localStorage.getItem("nova-sort-type");if(D){const an=JSON.parse(D),On=new Date().toISOString(),Yn=an.map(be=>be.isRecurring&&be.lastCompletedDate&&!Ft(On,be.lastCompletedDate)?{...be,completed:!1}:be);o(Yn)}F&&d(JSON.parse(F)),B&&_(B),te&&u(te)},[]),P.useEffect(()=>{const F=new URLSearchParams(window.location.search).get("data");if(F)try{const B=XC(F),te=JSON.parse(B);if(Array.isArray(te)&&(te.length===0||"wish"in te[0]&&"id"in te[0]))V({title:W("url_import_title"),message:W("url_import_message"),confirmText:W("url_import_confirm"),cancelText:W("cancel_button"),onConfirm:()=>{o(te),pe(W("url_import_success")),window.history.replaceState({},document.title,window.location.pathname)},onCancel:()=>{window.history.replaceState({},document.title,window.location.pathname)}});else throw new Error("Invalid data format")}catch(B){console.error("Failed to parse data from URL",B),V({title:W("import_error_alert_title"),message:W("url_import_error")}),window.history.replaceState({},document.title,window.location.pathname)}},[W]),P.useEffect(()=>{const D=window.matchMedia("(prefers-color-scheme: dark)"),F=B=>{f==="system"&&d(B.matches)};return d(f==="system"?D.matches:f==="dark"),D.addEventListener("change",F),()=>D.removeEventListener("change",F)},[f]),P.useEffect(()=>{(()=>{const F=localStorage.getItem("pwa-prompt-dismissed"),B=WC(),te=KC();if(B&&!te&&!F){const an=setTimeout(()=>{dt(!0)},3e3);return()=>clearTimeout(an)}})()},[]),P.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/Nova-AI-Planer/sw.js").then(D=>{console.log("SW registered: ",D)}).catch(D=>{console.log("SW registration failed: ",D)})},[]),P.useEffect(()=>{localStorage.setItem("nova-theme",f),localStorage.setItem("nova-dark-mode",JSON.stringify(c))},[f,c]),P.useEffect(()=>{localStorage.setItem("nova-lang",n)},[n]),P.useEffect(()=>{localStorage.setItem("nova-todos",JSON.stringify(t))},[t]),P.useEffect(()=>{localStorage.setItem("nova-api-key",Fe)},[Fe]),P.useEffect(()=>{localStorage.setItem("nova-offline-mode",String(Kn))},[Kn]),P.useEffect(()=>{const D=Os.find(B=>B.id===p)||Os[0],F=c?D.darkThemeClass:D.lightThemeClass;document.body.className="",c&&document.body.classList.add("dark-mode"),F&&document.body.classList.add(F),localStorage.setItem("nova-background",p)},[p,c]),P.useEffect(()=>{localStorage.setItem("nova-sort-type",l)},[l]),P.useEffect(()=>{if(Z){const D=setTimeout(()=>pe(""),3e3);return()=>clearTimeout(D)}},[Z]);const pp=P.useMemo(()=>{let D=[...t];return l==="deadline"?D.sort((F,B)=>!F.deadline&&!B.deadline?0:F.deadline?B.deadline?new Date(F.deadline).getTime()-new Date(B.deadline).getTime():-1:1):l==="newest"?D.sort((F,B)=>B.id-F.id):l==="alphabetical"&&D.sort((F,B)=>F.wish.localeCompare(B.wish)),r==="active"?D.filter(F=>!F.completed):r==="completed"?D.filter(F=>F.completed):D},[t,r,l]),mp=D=>{const F={...D,id:Date.now(),completed:!1,lastCompletedDate:null,streak:0};o(B=>[F,...B]),T(!1)},hp=D=>{const F=D.map((B,te)=>({...B,id:Date.now()+te,completed:!1,lastCompletedDate:null,streak:0})).reverse();o(B=>[...F,...B]),T(!1)},gp=D=>{o(t.map(F=>F.id===D.id?D:F)),y(null)},yp=D=>{o(t.filter(F=>F.id!==D))},_p=D=>{const F=new Date().toISOString();o(t.map(B=>{if(B.id===D){const te=!B.completed;let an=B.streak;return B.isRecurring&&(te?(!B.lastCompletedDate||!Ft(F,B.lastCompletedDate))&&(an=(B.streak||0)+1):B.lastCompletedDate&&Ft(F,B.lastCompletedDate)&&(an=Math.max(0,(B.streak||1)-1))),{...B,completed:te,lastCompletedDate:te?F:B.lastCompletedDate,streak:an}}return B}))},vp=async D=>{if(D==="ai"){if(t.length<2){V({title:W("sort_alert_title"),message:W("sort_alert_message")});return}x(!0);try{const F=Wo();if(!F){pe(Kn?"  AI    .":"AI    API  ."),x(!1),u("manual");return}const B=`Here is a list of goals with their details (wish, outcome, obstacle, plan, deadline). Prioritize them based on urgency (closer deadline), importance (based on outcome), and feasibility (based on plan). Return a JSON object with a single key "sorted_ids" which is an array of the goal IDs in the recommended order. Do not include any other text or explanations. Goals: ${JSON.stringify(t.map(({id:Xe,wish:kp,outcome:Ap,obstacle:Np,plan:Pp,deadline:Rp})=>({id:Xe,wish:kp,outcome:Ap,obstacle:Np,plan:Pp,deadline:Rp})))}`,te=await F.models.generateContent({model:"gemini-2.5-flash",contents:B,config:{responseMimeType:"application/json",responseSchema:{type:tn.OBJECT,properties:{sorted_ids:{type:tn.ARRAY,items:{type:tn.NUMBER}}}}}}),On=JSON.parse(te.text).sorted_ids.map(Number),Yn=new Map(t.map(Xe=>[Number(Xe.id),Xe])),be=On.map(Xe=>Yn.get(Xe)).filter(Boolean),Ko=t.filter(Xe=>!On.includes(Number(Xe.id))),xp=[...be,...Ko].map(Xe=>({...Xe,id:Number(Xe.id)}));o(xp),u("manual")}catch(F){console.error("AI sort failed:",F),V({title:W("ai_sort_error_title"),message:W("ai_sort_error_message")})}finally{x(!1)}}else u(D)},Cp=D=>{const F=new Set(J);F.has(D)?F.delete(D):F.add(D),j(F)},Yl=()=>{X(!1),j(new Set)},Tp=()=>{const D=J.size;V({title:W("delete_selected_confirm_title"),message:W("delete_selected_confirm_message").replace("{count}",String(D)),isDestructive:!0,confirmText:W("delete_selected_button_label").replace("{count}",String(D)),cancelText:W("cancel_button"),onConfirm:()=>{o(t.filter(F=>!J.has(F.id))),Yl()}})},Sp=()=>{G("exporting");const D=JSON.stringify(t,null,2),F="data:application/json;charset=utf-8,"+encodeURIComponent(D),B="nova_goals.json",te=document.createElement("a");te.setAttribute("href",F),te.setAttribute("download",B),te.click(),setTimeout(()=>{G("idle"),E(!1)},1500)},Ep=D=>{var te;const F=(te=D.target.files)==null?void 0:te[0];if(!F)return;const B=new FileReader;B.onload=an=>{var On;try{const Yn=(On=an.target)==null?void 0:On.result;if(typeof Yn!="string")throw new Error("File content is not a string");const be=JSON.parse(Yn);if(Array.isArray(be)&&be.every(Ko=>"wish"in Ko&&"id"in Ko))V({title:W("import_confirm_title"),message:W("import_confirm_message"),confirmText:W("settings_import_data"),cancelText:W("cancel_button"),onConfirm:()=>{G("importing"),setTimeout(()=>{o(be),pe(W("import_success_toast")),G("idle"),E(!1)},1500)}});else throw new Error("Invalid file format")}catch{V({title:W("import_error_alert_title"),message:W("import_error_alert_message")})}},B.onerror=()=>V({title:W("import_error_alert_title"),message:W("import_error_alert_message")}),B.readAsText(F),D.target.value=""},wp=()=>{G("deleting"),setTimeout(()=>{o([]),e("ko"),d(!0),_("default"),u("manual"),localStorage.clear(),G("idle"),E(!1)},1500)},Ip=C||!!w||!!g||S||!!N||H||Q;return h.jsxs("div",{className:`main-page-layout ${k?"calendar-view-active":""}`,children:[h.jsx("div",{className:`page-content ${Ip?"modal-open":""}`,children:h.jsxs("div",{className:"container",children:[h.jsx(eT,{t:W,isSelectionMode:z,selectedCount:J.size,onCancelSelection:Yl,onDeleteSelected:Tp,isViewModeCalendar:k,onToggleViewMode:()=>R(!k),isAiSorting:I,sortType:l,onSort:vp,filter:r,onFilter:i,onSetSelectionMode:()=>X(!0),onOpenSettings:()=>E(!0),onAddGoal:()=>T(!0)}),k?h.jsx(uT,{todos:t,t:W,onGoalClick:v,language:n}):h.jsx(nT,{todos:pp,onToggleComplete:_p,onDelete:yp,onEdit:y,onInfo:v,t:W,filter:r,randomEncouragement:fp,isSelectionMode:z,selectedTodoIds:J,onSelectTodo:Cp})]})}),C&&h.jsx(wc,{onClose:()=>T(!1),onAddTodo:mp,onAddMultipleTodos:hp,t:W,language:n,createAI:Wo}),w&&h.jsx(wc,{onClose:()=>y(null),onEditTodo:gp,existingTodo:w,t:W,language:n,createAI:Wo}),g&&h.jsx(iT,{todo:g,onClose:()=>v(null),t:W,createAI:Wo}),S&&h.jsx(sT,{onClose:()=>E(!1),isDarkMode:c,onToggleDarkMode:()=>d(!c),themeMode:f,onThemeChange:dp,backgroundTheme:p,onSetBackgroundTheme:_,onExportData:Sp,onImportData:Ep,setAlertConfig:V,onDeleteAllData:wp,dataActionStatus:M,language:n,onSetLanguage:e,t:W,todos:t,setToastMessage:pe,onOpenVersionInfo:()=>q(!0),onOpenUsageGuide:()=>ee(!0),apiKey:Fe,onSetApiKey:ft,isOfflineMode:Kn,onToggleOfflineMode:()=>cp(!Kn)}),H&&h.jsx(lT,{onClose:()=>q(!1),t:W}),Q&&h.jsx(aT,{onClose:()=>ee(!1),t:W}),N&&h.jsx(cT,{title:N.title,message:N.message,onConfirm:()=>{var D;(D=N.onConfirm)==null||D.call(N),V(null)},onCancel:N.onCancel?()=>{var D;(D=N.onCancel)==null||D.call(N),V(null)}:void 0,confirmText:N.confirmText,cancelText:N.cancelText,isDestructive:N.isDestructive,t:W}),Z&&h.jsx("div",{className:"toast-notification",children:Z}),ge&&h.jsx(YC,{onClose:()=>dt(!1)})]})},eT=({t:n,isSelectionMode:e,selectedCount:t,onCancelSelection:o,onDeleteSelected:r,isViewModeCalendar:i,onToggleViewMode:l,isAiSorting:u,sortType:c,onSort:d,filter:f,onFilter:m,onSetSelectionMode:p,onOpenSettings:_,onAddGoal:C})=>{const[T,w]=P.useState(!1);P.useEffect(()=>{const v=()=>{w(!1)};return document.addEventListener("click",v),document.addEventListener("touchstart",v),()=>{document.removeEventListener("click",v),document.removeEventListener("touchstart",v)}},[]);const y=v=>{v.stopPropagation(),w(S=>!S)},g=v=>{v.stopPropagation()};return h.jsxs("header",{children:[h.jsx("div",{className:"header-left",children:e&&h.jsx("button",{onClick:o,className:"header-action-button",children:n("cancel_selection_button_label")})}),h.jsxs("div",{className:"header-title-group",children:[h.jsx("h1",{children:n("my_goals_title")}),!e&&h.jsxs("div",{className:"header-inline-actions",children:[h.jsx("button",{onClick:l,className:"header-icon-button","aria-label":n(i?"list_view_button_aria":"calendar_view_button_aria"),children:i?$.list:$.calendar}),h.jsxs("div",{className:"filter-sort-container",children:[h.jsx("button",{onClick:y,onTouchStart:y,className:"header-icon-button","aria-label":n("filter_sort_button_aria"),children:u?h.jsx("div",{className:"spinner"}):$.filter}),T&&h.jsxs("div",{className:"profile-popover filter-sort-popover",onClick:g,onTouchStart:g,children:[h.jsx("div",{className:"popover-section",children:h.jsx("button",{onClick:()=>{p(),w(!1)},className:"popover-action-button",children:h.jsx("span",{children:n("select_button_label")})})}),h.jsxs("div",{className:"popover-section",children:[h.jsx("h4",{children:n("filter_title")}),h.jsxs("button",{onClick:()=>{m("all")},className:`popover-action-button ${f==="all"?"active":""}`,children:[h.jsx("span",{children:n("filter_all")}),f==="all"&&$.check]}),h.jsxs("button",{onClick:()=>{m("active")},className:`popover-action-button ${f==="active"?"active":""}`,children:[h.jsx("span",{children:n("filter_active")}),f==="active"&&$.check]}),h.jsxs("button",{onClick:()=>{m("completed")},className:`popover-action-button ${f==="completed"?"active":""}`,children:[h.jsx("span",{children:n("filter_completed")}),f==="completed"&&$.check]})]}),h.jsxs("div",{className:"popover-section",children:[h.jsx("h4",{children:n("sort_title")}),h.jsxs("button",{onClick:()=>{d("manual")},className:`popover-action-button ${c==="manual"?"active":""}`,children:[h.jsx("span",{children:n("sort_label_manual")}),c==="manual"&&$.check]}),h.jsxs("button",{onClick:()=>{d("deadline")},className:`popover-action-button ${c==="deadline"?"active":""}`,children:[h.jsx("span",{children:n("sort_label_deadline")}),c==="deadline"&&$.check]}),h.jsxs("button",{onClick:()=>{d("newest")},className:`popover-action-button ${c==="newest"?"active":""}`,children:[h.jsx("span",{children:n("sort_label_newest")}),c==="newest"&&$.check]}),h.jsxs("button",{onClick:()=>{d("alphabetical")},className:`popover-action-button ${c==="alphabetical"?"active":""}`,children:[h.jsx("span",{children:n("sort_label_alphabetical")}),c==="alphabetical"&&$.check]}),h.jsxs("button",{onClick:()=>{d("ai")},className:"popover-action-button with-icon",children:[h.jsx("span",{className:"popover-button-icon",children:$.ai}),h.jsx("span",{children:n(u?"ai_sorting_button":"sort_label_ai")})]})]})]})]}),h.jsx("button",{onClick:_,className:"header-icon-button","aria-label":n("settings_title"),children:$.settings})]})]}),h.jsx("div",{className:"header-right",children:e?h.jsx("button",{onClick:r,className:"header-action-button destructive",children:n("delete_selected_button_label").replace("{count}",String(t))}):h.jsx("button",{onClick:C,className:"header-icon-button","aria-label":n("add_new_goal_button_label"),children:$.add})})]})},nT=({todos:n,onToggleComplete:e,onDelete:t,onEdit:o,onInfo:r,t:i,filter:l,randomEncouragement:u,isSelectionMode:c,selectedTodoIds:d,onSelectTodo:f})=>{if(n.length===0){const m=`empty_message_${l}`;return h.jsxs("div",{className:"empty-message",children:[h.jsx("p",{children:i(m)}),l==="all"&&h.jsx("span",{children:u})]})}return h.jsx("ul",{children:n.map(m=>h.jsx(tT,{todo:m,onToggleComplete:e,onDelete:t,onEdit:o,onInfo:r,t:i,isSelectionMode:c,isSelected:d.has(m.id),onSelect:f},m.id))})},tT=Uc.memo(({todo:n,onToggleComplete:e,onDelete:t,onEdit:o,onInfo:r,t:i,isSelectionMode:l,isSelected:u,onSelect:c})=>{const d=()=>{l&&c(n.id)};return h.jsx("li",{className:`${n.completed?"completed":""} ${l?"selection-mode":""} ${u?"selected":""}`,onClick:d,children:h.jsxs("div",{className:"swipeable-content",children:[h.jsxs("label",{className:"checkbox-container",onClick:f=>f.stopPropagation(),children:[h.jsx("input",{type:"checkbox",checked:n.completed,onChange:()=>e(n.id)}),h.jsx("span",{className:"checkmark"})]}),h.jsxs("div",{className:"todo-text-with-streak",children:[h.jsx("span",{className:"todo-text",children:n.wish}),n.isRecurring&&n.streak>0&&h.jsxs("div",{className:"streak-indicator",children:[$.flame,h.jsx("span",{children:n.streak})]})]}),h.jsxs("div",{className:"todo-actions-and-meta",children:[h.jsx("div",{className:"todo-meta-badges",children:n.deadline&&h.jsx("span",{className:"todo-deadline",children:bC(n.deadline,i)})}),h.jsxs("div",{className:"todo-buttons",children:[h.jsx("button",{onClick:f=>{f.stopPropagation(),o(n)},className:"info-button edit-button","aria-label":i("edit_button_aria"),children:$.edit}),h.jsx("button",{onClick:f=>{f.stopPropagation(),t(n.id)},className:"delete-button","aria-label":i("delete_button"),children:$.delete}),h.jsx("button",{onClick:f=>{f.stopPropagation(),r(n)},className:"info-button","aria-label":i("info_button_aria"),children:$.info})]})]})]})})}),$o=({onClose:n,children:e,className:t="",isClosing:o})=>h.jsx("div",{className:`modal-backdrop ${o?"is-closing":""}`,onClick:n,children:h.jsx("div",{className:`modal-content ${t} ${o?"is-closing":""}`,onClick:r=>r.stopPropagation(),children:e})}),Jo=n=>{const[e,t]=P.useState(!1);return[e,()=>{t(!0),setTimeout(n,500)}]},oT=({step:n,t:e,createAI:t,...o})=>{const{wish:r,setWish:i,outcome:l,setOutcome:u,obstacle:c,setObstacle:d,plan:f,setPlan:m,isRecurring:p,setIsRecurring:_,recurringDays:C,setRecurringDays:T,deadline:w,setDeadline:y,noDeadline:g,setNoDeadline:v,errors:S,language:E}=o,[I,x]=P.useState(!1),[k,R]=P.useState(""),[N,V]=P.useState(""),z=async(X,J)=>{if(J){x(!0),R(""),V("");try{const j=t();if(!j){V("AI    API  ."),x(!1);return}const Z=`Provide concise, actionable feedback on this part of a WOOP goal: ${X} - "${J}". The feedback should be helpful and encouraging, in ${E==="ko"?"Korean":"English"}. Keep it to 1-2 sentences.`,pe=await j.models.generateContent({model:"gemini-2.5-flash",contents:Z});R(pe.text)}catch(j){console.error("AI Feedback Error:",j),V("Failed to get AI feedback.")}finally{x(!1)}}};switch(n){case 1:return h.jsxs("div",{children:[h.jsx("h3",{children:e("wish_label")}),h.jsxs("div",{className:"step-guidance",children:[h.jsx("p",{className:"tip",children:e("wish_tip")}),h.jsx("p",{className:"example",children:e("wish_example")})]}),h.jsx("textarea",{value:r,onChange:J=>{i(J.target.value),R(""),V("")},placeholder:e("wish_label"),className:S.wish?"input-error":"",rows:3}),S.wish&&h.jsxs("p",{className:"field-error-message",children:[$.exclamation," ",e("error_wish_required")]}),h.jsxs("div",{className:"ai-feedback-section",children:[h.jsxs("button",{onClick:()=>z("Wish",r),disabled:!r.trim()||I,className:"ai-feedback-button",children:[I?h.jsx("div",{className:"spinner-small"}):"",h.jsx("span",{children:e(I?"ai_analyzing":"ai_coach_suggestion")})]}),k&&h.jsx("div",{className:"ai-feedback-bubble",children:k}),N&&h.jsx("div",{className:"ai-feedback-bubble error",children:N})]})]});case 2:return h.jsxs("div",{children:[h.jsx("h3",{children:e("outcome_label")}),h.jsxs("div",{className:"step-guidance",children:[h.jsx("p",{className:"tip",children:e("outcome_tip")}),h.jsx("p",{className:"example",children:e("outcome_example")})]}),h.jsx("textarea",{value:l,onChange:J=>{u(J.target.value),R(""),V("")},placeholder:e("outcome_label"),className:S.outcome?"input-error":"",rows:3}),S.outcome&&h.jsxs("p",{className:"field-error-message",children:[$.exclamation," ",e("error_outcome_required")]}),h.jsxs("div",{className:"ai-feedback-section",children:[h.jsxs("button",{onClick:()=>z("Outcome",l),disabled:!l.trim()||I,className:"ai-feedback-button",children:[I?h.jsx("div",{className:"spinner-small"}):"",h.jsx("span",{children:e(I?"ai_analyzing":"ai_coach_suggestion")})]}),k&&h.jsx("div",{className:"ai-feedback-bubble",children:k}),N&&h.jsx("div",{className:"ai-feedback-bubble error",children:N})]})]});case 3:return h.jsxs("div",{children:[h.jsx("h3",{children:e("obstacle_label")}),h.jsxs("div",{className:"step-guidance",children:[h.jsx("p",{className:"tip",children:e("obstacle_tip")}),h.jsx("p",{className:"example",children:e("obstacle_example")})]}),h.jsx("textarea",{value:c,onChange:J=>{d(J.target.value),R(""),V("")},placeholder:e("obstacle_label"),className:S.obstacle?"input-error":"",rows:3}),S.obstacle&&h.jsxs("p",{className:"field-error-message",children:[$.exclamation," ",e("error_obstacle_required")]}),h.jsxs("div",{className:"ai-feedback-section",children:[h.jsxs("button",{onClick:()=>z("Obstacle",c),disabled:!c.trim()||I,className:"ai-feedback-button",children:[I?h.jsx("div",{className:"spinner-small"}):"",h.jsx("span",{children:e(I?"ai_analyzing":"ai_coach_suggestion")})]}),k&&h.jsx("div",{className:"ai-feedback-bubble",children:k}),N&&h.jsx("div",{className:"ai-feedback-bubble error",children:N})]})]});case 4:return h.jsxs("div",{children:[h.jsx("h3",{children:e("plan_label")}),h.jsxs("div",{className:"step-guidance",children:[h.jsx("p",{className:"tip",children:e("plan_tip")}),h.jsx("p",{className:"example",children:e("plan_example")})]}),h.jsx("textarea",{value:f,onChange:J=>{m(J.target.value),R(""),V("")},placeholder:e("plan_label"),className:S.plan?"input-error":"",rows:3}),S.plan&&h.jsxs("p",{className:"field-error-message",children:[$.exclamation," ",e("error_plan_required")]}),h.jsxs("div",{className:"ai-feedback-section",children:[h.jsxs("button",{onClick:()=>z("Plan",f),disabled:!f.trim()||I,className:"ai-feedback-button",children:[I?h.jsx("div",{className:"spinner-small"}):"",h.jsx("span",{children:e(I?"ai_analyzing":"ai_coach_suggestion")})]}),k&&h.jsx("div",{className:"ai-feedback-bubble",children:k}),N&&h.jsx("div",{className:"ai-feedback-bubble error",children:N})]})]});case 5:const X=J=>{const j=[...C],Z=j.indexOf(J);Z>-1?j.splice(Z,1):j.push(J),T(j)};return h.jsxs("div",{children:[h.jsxs("h3",{children:[e("recurrence_label")," & ",e("deadline_label")]}),h.jsxs("div",{className:"step-guidance",children:[h.jsx("p",{className:"tip",children:e("recurrence_tip")}),h.jsx("p",{className:"example",children:e("recurrence_example")})]}),h.jsxs("label",{className:"settings-item standalone-toggle",children:[h.jsx("span",{style:{fontWeight:500},children:e("recurrence_option_daily")}),h.jsxs("label",{className:"theme-toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:p,onChange:J=>_(J.target.checked)}),h.jsx("span",{className:"slider round"})]})]}),p&&h.jsx("div",{className:"day-picker",children:e("day_names_short_picker").map((J,j)=>h.jsx("button",{onClick:()=>X(j),className:`day-button ${C.includes(j)?"selected":""}`,children:J},j))}),S.recurringDays&&h.jsxs("p",{className:"field-error-message",children:[$.exclamation," ",e("error_day_required")]}),h.jsx("hr",{}),h.jsx("div",{className:"step-guidance",style:{marginTop:"16px"},children:h.jsx("p",{className:"tip",children:e("deadline_tip")})}),h.jsxs("label",{className:"settings-item standalone-toggle",children:[h.jsx("span",{style:{fontWeight:500},children:e("deadline_option_no_deadline")}),h.jsxs("label",{className:"theme-toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:g,onChange:J=>v(J.target.checked)}),h.jsx("span",{className:"slider round"})]})]}),!g&&h.jsx("input",{type:"date",value:w,onChange:J=>y(J.target.value),className:S.deadline?"input-error":"",style:{marginTop:"12px"}}),S.deadline&&h.jsxs("p",{className:"field-error-message",children:[$.exclamation," ",e("error_deadline_required")]})]});default:return null}},rT=({onGenerate:n,t:e})=>{const[t,o]=P.useState(""),[r,i]=P.useState(""),[l,u]=P.useState(""),[c,d]=P.useState(""),[f,m]=P.useState(""),{endDate:p,generatedCount:_}=P.useMemo(()=>{const T=parseInt(r,10),w=parseInt(l,10);if(!c||!T||T<=0||!w||w<=0)return{endDate:"",generatedCount:0};const y=Math.ceil(T/w),g=new Date(c),v=new Date(g);return v.setDate(g.getDate()+y-1),{endDate:v.toISOString().split("T")[0],generatedCount:y}},[r,l,c]),C=()=>{const T=parseInt(r,10),w=parseInt(l,10);if(!t.trim()||!c||!T||T<=0||!w||w<=0){m(e("automation_error_all_fields"));return}const y=[],g=Math.ceil(T/w),v=new Date(c);for(let S=0;S<g;S++){const E=new Date(v);E.setDate(v.getDate()+S);const I=S*w+1,x=Math.min((S+1)*w,T),k=`${t.trim()} ${I}`+(x>I?` - ${x}`:"");y.push({wish:k,outcome:"",obstacle:"",plan:"",isRecurring:!1,recurringDays:[],deadline:E.toISOString().split("T")[0]})}m(""),n(y)};return h.jsxs("div",{className:"automation-form-container",children:[h.jsx("h3",{children:e("automation_title")}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:e("automation_base_name_label")}),h.jsx("input",{type:"text",value:t,onChange:T=>o(T.target.value),placeholder:e("automation_base_name_placeholder")})]}),h.jsxs("div",{className:"automation-form-grid",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:e("automation_total_units_label")}),h.jsx("input",{type:"number",value:r,onChange:T=>i(T.target.value),placeholder:e("automation_total_units_placeholder")})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:e("automation_units_per_day_label")}),h.jsx("input",{type:"number",value:l,onChange:T=>u(T.target.value),placeholder:": 5"})]})]}),h.jsxs("div",{className:"automation-form-grid",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:e("automation_start_date_label")}),h.jsx("input",{type:"date",value:c,onChange:T=>d(T.target.value)})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:e("automation_end_date_label")}),h.jsx("input",{type:"date",value:p,readOnly:!0})]})]}),f&&h.jsxs("p",{className:"field-error-message",style:{justifyContent:"center"},children:[$.exclamation," ",f]}),h.jsx("div",{className:"goal-assistant-nav",children:h.jsx("button",{onClick:C,className:"primary",disabled:_===0,children:e("automation_generate_button").replace("{count}",String(_))})})]})},wc=({onClose:n,onAddTodo:e,onAddMultipleTodos:t,onEditTodo:o,existingTodo:r,t:i,language:l,createAI:u})=>{const[c,d]=Jo(n),[f,m]=P.useState("woop"),[p,_]=P.useState(1),[C,T]=P.useState("forward"),[w,y]=P.useState((r==null?void 0:r.wish)||""),[g,v]=P.useState((r==null?void 0:r.outcome)||""),[S,E]=P.useState((r==null?void 0:r.obstacle)||""),[I,x]=P.useState((r==null?void 0:r.plan)||""),[k,R]=P.useState((r==null?void 0:r.isRecurring)||!1),[N,V]=P.useState((r==null?void 0:r.recurringDays)||[]),[z,X]=P.useState((r==null?void 0:r.deadline)||""),[J,j]=P.useState(!(r!=null&&r.deadline)),[Z,pe]=P.useState({}),M=5,G=ee=>{const ge={};return ee===1&&!w.trim()&&(ge.wish=!0),ee===2&&!g.trim()&&(ge.outcome=!0),ee===3&&!S.trim()&&(ge.obstacle=!0),ee===4&&!I.trim()&&(ge.plan=!0),ee===5&&(!J&&!z&&(ge.deadline=!0),k&&N.length===0&&(ge.recurringDays=!0)),pe(ge),Object.keys(ge).length===0},H=()=>{G(p)&&(p<M?(T("forward"),_(ee=>ee+1)):Q())},q=()=>{p>1&&(T("backward"),_(ee=>ee-1))},Q=()=>{if(!G(5))return;const ee={wish:w,outcome:g,obstacle:S,plan:I,isRecurring:k,recurringDays:N,deadline:J?"":z};r&&o?o({...r,...ee}):e&&e(ee)};return h.jsxs($o,{onClose:d,isClosing:c,className:"goal-assistant-modal",children:[h.jsxs("div",{className:"goal-assistant-header",children:[h.jsx("div",{className:"goal-assistant-header-left",children:p>1&&f==="woop"&&h.jsx("button",{onClick:q,className:"settings-back-button",children:$.back})}),h.jsx("h2",{children:i("goal_assistant_title")}),h.jsx("div",{className:"goal-assistant-header-right",children:h.jsx("button",{onClick:d,className:"close-button",children:$.close})})]}),!r&&h.jsx("div",{className:"modal-mode-switcher-container",children:h.jsxs("div",{className:"modal-mode-switcher",children:[h.jsx("button",{onClick:()=>m("woop"),className:f==="woop"?"active":"",children:i("goal_assistant_mode_woop")}),h.jsx("button",{onClick:()=>m("automation"),className:f==="automation"?"active":"",children:i("goal_assistant_mode_automation")})]})}),h.jsx("div",{className:"goal-assistant-body",children:f==="woop"?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"progress-bar-container",children:h.jsx("div",{className:"progress-bar",style:{width:`${p/M*100}%`}})}),h.jsx("div",{className:`goal-assistant-step-content-animator ${C}`,children:h.jsx(oT,{step:p,t:i,createAI:u,wish:w,setWish:y,outcome:g,setOutcome:v,obstacle:S,setObstacle:E,plan:I,setPlan:x,isRecurring:k,setIsRecurring:R,recurringDays:N,setRecurringDays:V,deadline:z,setDeadline:X,noDeadline:J,setNoDeadline:j,errors:Z,language:l})},p),h.jsxs("div",{className:"goal-assistant-nav",children:[p>1?h.jsx("button",{onClick:q,className:"secondary",children:i("back_button")}):h.jsx("div",{}),h.jsx("button",{onClick:H,className:"primary",children:i(p===M?r?"save_button":"add_button":"next_button")})]})]}):t&&h.jsx(rT,{onGenerate:t,t:i})})]})},iT=({todo:n,onClose:e,t,createAI:o})=>{const[r,i]=Jo(e),[l,u]=P.useState(""),[c,d]=P.useState(!1),[f,m]=P.useState(!1),p=async()=>{d(!0),u(""),m(!1);try{const _=o();if(!_){u("AI    API  ."),d(!1);return}const C=`Based on the WOOP method, provide a concise and encouraging suggestion for the following goal: Wish: "${n.wish}", Best Outcome: "${n.outcome}", Obstacle: "${n.obstacle}", Plan: "${n.plan}". Focus on strengthening the plan or reframing the obstacle.`,T=await _.models.generateContent({model:"gemini-2.5-flash",contents:C});u(T.text)}catch(_){console.error(_),m(!0)}finally{d(!1)}};return h.jsxs($o,{onClose:i,isClosing:r,className:"info-modal",children:[h.jsxs("div",{className:"info-modal-content",children:[h.jsx("h2",{children:t("goal_details_modal_title")}),h.jsxs("div",{className:"info-section",children:[h.jsx("h4",{children:t("wish_label")}),h.jsx("p",{children:n.wish})]}),h.jsxs("div",{className:"info-section",children:[h.jsx("h4",{children:t("outcome_label")}),h.jsx("p",{children:n.outcome})]}),h.jsxs("div",{className:"info-section",children:[h.jsx("h4",{children:t("obstacle_label")}),h.jsx("p",{children:n.obstacle})]}),h.jsxs("div",{className:"info-section",children:[h.jsx("h4",{children:t("plan_label")}),h.jsx("p",{children:n.plan})]}),h.jsxs("div",{className:"ai-analysis-section",children:[h.jsx("h4",{children:t("ai_coach_suggestion")}),c?h.jsx("p",{children:t("ai_analyzing")}):l?h.jsx("p",{children:l}):f?h.jsx("p",{className:"ai-error",children:t("ai_sort_error_message")}):h.jsx("button",{onClick:p,className:"feedback-button",children:t("ai_coach_suggestion")})]})]}),h.jsx("div",{className:"modal-buttons",children:h.jsx("button",{onClick:i,className:"primary",children:t("close_button")})})]})},sT=({onClose:n,isDarkMode:e,onToggleDarkMode:t,themeMode:o,onThemeChange:r,backgroundTheme:i,onSetBackgroundTheme:l,onExportData:u,onImportData:c,setAlertConfig:d,onDeleteAllData:f,dataActionStatus:m,language:p,onSetLanguage:_,t:C,todos:T,setToastMessage:w,onOpenVersionInfo:y,onOpenUsageGuide:g,apiKey:v,onSetApiKey:S,isOfflineMode:E,onToggleOfflineMode:I})=>{const[x,k]=Jo(n),[R,N]=P.useState("appearance"),[V,z]=P.useState(""),[X,J]=P.useState(!1),j=P.useRef(null),Z=[{id:"appearance",label:C("settings_section_background"),icon:$.background},{id:"general",label:C("settings_section_general"),icon:$.settings},{id:"data",label:C("settings_section_data"),icon:$.data}],pe=()=>d({title:C("delete_account_header"),message:C("delete_account_header_desc"),isDestructive:!0,confirmText:C("delete_all_data_button"),cancelText:C("cancel_button"),onConfirm:f,onCancel:()=>{}}),M=async()=>{if(!T||T.length===0){alert(C("no_data_to_share"));return}J(!0);try{const q=Ec(T),Q=`${window.location.origin}${window.location.pathname}?data=${encodeURIComponent(q)}`,ee=await ZC(Q);z(ee),ee!==Q&&ee.length<Q.length?w(C("short_url_created")):w(C("share_link_created"))}catch(q){console.error("Failed to create share link",q);const Q=Ec(T),ee=`${window.location.origin}${window.location.pathname}?data=${encodeURIComponent(Q)}`;z(ee),w(C("short_url_failed"))}finally{J(!1)}},G=()=>{V&&navigator.clipboard.writeText(V).then(()=>{w(C("link_copied_toast"))})},H=()=>{switch(R){case"appearance":return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"settings-section-header",children:" "}),h.jsxs("div",{className:"settings-section-body",children:[h.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>r("light"),children:[h.jsxs("div",{children:[h.jsx("span",{children:" "}),h.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:"   "})]}),o==="light"&&$.check]}),h.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>r("dark"),children:[h.jsxs("div",{children:[h.jsx("span",{children:" "}),h.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:"   "})]}),o==="dark"&&$.check]}),h.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>r("system"),children:[h.jsxs("div",{children:[h.jsx("span",{children:"  "}),h.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:"     "})]}),o==="system"&&$.check]})]}),h.jsx("div",{className:"settings-section-header",children:C("settings_background_header")}),h.jsx("div",{className:"settings-section-body",children:Os.map(q=>h.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>l(q.id),children:[h.jsx("span",{children:C(e?q.darkNameKey:q.lightNameKey)}),i===q.id&&$.check]},q.id))})]});case"general":return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"settings-section-header",children:C("settings_api_key")}),h.jsxs("div",{className:"settings-section-body",children:[h.jsx("div",{className:"settings-item",children:h.jsx("input",{type:"password",placeholder:C("settings_api_key_placeholder"),value:v,onChange:q=>S(q.target.value),style:{width:"100%",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"4px",backgroundColor:"var(--input-bg)"}})}),h.jsxs("label",{className:"settings-item",children:[h.jsxs("div",{children:[h.jsx("span",{children:C("settings_offline_mode")}),h.jsx("div",{style:{fontSize:"12px",opacity:.7,marginTop:"4px"},children:C("settings_offline_mode_desc")})]}),h.jsxs("div",{className:"theme-toggle-switch",children:[h.jsx("input",{type:"checkbox",checked:E,onChange:I}),h.jsx("span",{className:"slider round"})]})]})]}),h.jsx("div",{className:"settings-section-header",children:C("settings_language")}),h.jsxs("div",{className:"settings-section-body",children:[h.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>_("ko"),children:[h.jsx("span",{children:""}),p==="ko"&&$.check]}),h.jsxs("div",{className:"settings-item nav-indicator",onClick:()=>_("en"),children:[h.jsx("span",{children:"English"}),p==="en"&&$.check]})]}),h.jsx("div",{className:"settings-section-header",children:C("settings_section_info")}),h.jsxs("div",{className:"settings-section-body",children:[h.jsxs("div",{className:"settings-item nav-indicator",onClick:y,children:[h.jsx("span",{children:C("settings_version")}),h.jsxs("div",{className:"settings-item-value-with-icon",children:[h.jsx("span",{children:"1.2"}),$.forward]})]}),h.jsxs("div",{className:"settings-item nav-indicator",onClick:g,children:[h.jsx("span",{children:C("usage_guide_title")}),h.jsx("div",{className:"settings-item-value-with-icon",children:$.forward})]}),h.jsxs("div",{className:"settings-item",children:[h.jsx("span",{children:C("settings_developer")}),h.jsx("span",{className:"settings-item-value",children:C("developer_name")})]}),h.jsxs("div",{className:"settings-item",children:[h.jsx("span",{children:C("settings_copyright")}),h.jsx("span",{className:"settings-item-value",children:C("copyright_notice")})]})]})]});case"data":return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"settings-section-header",children:C("settings_data_header")}),h.jsxs("div",{className:"settings-section-body",children:[h.jsx("button",{className:"settings-item action-item",onClick:u,disabled:m!=="idle",children:h.jsx("span",{className:"action-text",children:C(m==="exporting"?"data_exporting":"settings_export_data")})}),h.jsxs("button",{className:"settings-item action-item",onClick:()=>{var q;return(q=j.current)==null?void 0:q.click()},disabled:m!=="idle",children:[h.jsx("span",{className:"action-text",children:C(m==="importing"?"data_importing":"settings_import_data")}),h.jsx("input",{type:"file",ref:j,onChange:c,accept:".json",style:{display:"none"}})]})]}),h.jsx("div",{className:"settings-section-header",children:C("settings_share_link_header")}),h.jsxs("div",{className:"settings-section-body",children:[!V&&h.jsx("button",{className:"settings-item action-item",onClick:M,disabled:X,children:h.jsx("span",{className:"action-text",children:X?"  URL  ...":C("settings_generate_link")})}),V&&h.jsxs("div",{className:"share-link-container",children:[h.jsxs("div",{style:{marginBottom:"8px",fontSize:"12px",opacity:.7},children:[V.length<100?"  URL":"  ","(",V.length,")"]}),h.jsx("input",{type:"text",readOnly:!0,value:V,onClick:q=>q.target.select()}),h.jsx("button",{onClick:G,children:C("settings_copy_link")})]})]}),h.jsx("div",{className:"settings-section-header",children:C("settings_delete_account")}),h.jsx("div",{className:"settings-section-body",children:h.jsx("button",{className:"settings-item action-item",onClick:pe,disabled:m!=="idle",children:h.jsx("span",{className:"action-text destructive",children:C(m==="deleting"?"data_deleting":"settings_delete_account")})})})]});default:return null}};return h.jsxs($o,{onClose:k,isClosing:x,className:"settings-modal",children:[h.jsxs("div",{className:"settings-modal-header",children:[h.jsx("div",{}),h.jsx("h2",{children:C("settings_title")}),h.jsx("div",{className:"settings-modal-header-right",children:h.jsx("button",{onClick:k,className:"close-button",children:$.close})})]}),h.jsxs("div",{className:"settings-modal-body",children:[h.jsx("div",{className:"settings-tabs",children:Z.map(q=>h.jsxs("button",{className:`settings-tab-button ${R===q.id?"active":""}`,onClick:()=>N(q.id),"aria-label":q.label,children:[h.jsx("div",{className:"settings-tab-icon",children:q.icon}),h.jsx("span",{children:q.label})]},q.id))}),h.jsx("div",{className:"settings-tab-content-container",children:h.jsx("div",{className:"settings-tab-content",children:H()},R)})]})]})},lT=({onClose:n,t:e})=>{const[t,o]=Jo(n),r="1.2 (25.10.20)",i=[{icon:$.ai,titleKey:"version_update_1_title",descKey:"version_update_1_desc"},{icon:$.globe,titleKey:"version_update_2_title",descKey:"version_update_2_desc"},{icon:$.background,titleKey:"version_update_3_title",descKey:"version_update_3_desc"}];return h.jsxs($o,{onClose:o,isClosing:t,className:"version-info-modal",children:[h.jsxs("div",{className:"version-info-header",children:[h.jsx("h2",{children:e("version_update_title")}),h.jsxs("p",{children:[e("build_number"),": ",r]})]}),h.jsx("div",{className:"version-info-body",children:i.map((l,u)=>h.jsxs("div",{className:"changelog-item",children:[h.jsx("div",{className:"changelog-icon",style:{"--icon-bg":"var(--primary-color)"},children:l.icon}),h.jsxs("div",{className:"changelog-text",children:[h.jsx("h3",{children:e(l.titleKey)}),h.jsx("p",{children:e(l.descKey)})]})]},u))}),h.jsx("div",{className:"modal-buttons",children:h.jsx("button",{onClick:o,className:"primary",children:e("settings_done_button")})})]})},aT=({onClose:n,t:e})=>{const[t,o]=Jo(n),r=l=>{const u=/(https?:\/\/[^\s]+)/g;return l.split(u).map((d,f)=>u.test(d)?h.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"guide-link",children:d},f):d)},i=[{titleKey:"usage_basic_title",descKey:"usage_basic_desc"},{titleKey:"usage_ai_setup_title",descKey:"usage_ai_setup_desc"},{titleKey:"usage_ai_use_title",descKey:"usage_ai_use_desc"},{titleKey:"usage_share_title",descKey:"usage_share_desc"},{titleKey:"usage_theme_title",descKey:"usage_theme_desc"},{titleKey:"usage_calendar_title",descKey:"usage_calendar_desc"},{titleKey:"usage_offline_title",descKey:"usage_offline_desc"}];return h.jsxs($o,{onClose:o,isClosing:t,className:"usage-guide-modal",children:[h.jsx("div",{className:"version-info-header",children:h.jsx("h2",{children:e("usage_guide_title")})}),h.jsx("div",{className:"version-info-body",children:i.map((l,u)=>h.jsxs("div",{className:"usage-guide-item",children:[h.jsx("h3",{children:e(l.titleKey)}),h.jsx("p",{children:l.titleKey==="usage_ai_setup_title"?r(e(l.descKey)):e(l.descKey)})]},u))}),h.jsx("div",{className:"modal-buttons",children:h.jsx("button",{onClick:o,className:"primary",children:e("settings_done_button")})})]})},uT=({todos:n,t:e,onGoalClick:t,language:o})=>{const[r,i]=P.useState(new Date),[l,u]=P.useState("week"),c=p=>{const _=new Date(r);l==="month"?_.setMonth(_.getMonth()+p):l==="week"?_.setDate(_.getDate()+p*7):_.setDate(_.getDate()+p*3),i(_)},d=P.useMemo(()=>{const p=[];let _,C;if(l==="month"){const T=new Date(r.getFullYear(),r.getMonth(),1);_=Tc(T,o==="ko"?1:0),C=42}else l==="week"?(_=Tc(r,o==="ko"?1:0),C=7):(_=new Date(r),_.setDate(_.getDate()-1),C=3);for(let T=0;T<C;T++){const w=new Date(_);w.setDate(w.getDate()+T),p.push(w)}return p},[r,l,o]),f=P.useMemo(()=>{if(l==="month"){const p=r.getFullYear(),_=e("month_names")[r.getMonth()],C=e("calendar_header_month_format");return C&&typeof C=="string"&&C!=="calendar_header_month_format"?C.replace("{year}",String(p)).replace("{month}",_):`${_} ${p}`}return`${r.getFullYear()}.${r.getMonth()+1}`},[r,l,e]),m=P.useMemo(()=>{const p=e("day_names_short");if(o==="ko"&&Array.isArray(p)){const[_,...C]=p;return[...C,_]}return p},[o,e]);return h.jsxs("div",{className:"calendar-view-container",children:[h.jsxs("div",{className:"calendar-header",children:[h.jsx("button",{onClick:()=>c(-1),children:$.back}),h.jsx("h2",{children:f}),h.jsx("button",{onClick:()=>c(1),children:$.forward})]}),h.jsxs("div",{className:"calendar-view-mode-selector",children:[h.jsx("button",{onClick:()=>u("day3"),className:l==="day3"?"active":"",children:e("calendar_view_day3")}),h.jsx("button",{onClick:()=>u("week"),className:l==="week"?"active":"",children:e("calendar_view_week")}),h.jsx("button",{onClick:()=>u("month"),className:`calendar-view-button-month ${l==="month"?"active":""}`,children:e("calendar_view_month")})]}),(l==="week"||l==="month")&&h.jsx("div",{className:"calendar-days-of-week",children:Array.isArray(m)&&m.map(p=>h.jsx("div",{children:p},p))}),h.jsx("div",{className:`calendar-grid view-mode-${l}`,children:d.map(p=>{const C=Ft(p,new Date),T=p.getMonth()===r.getMonth(),w=n.filter(y=>{if(y.isRecurring){const g=(p.getDay()+6)%7;return y.recurringDays.includes(g)}return y.deadline&&Ft(p,y.deadline)});return h.jsxs("div",{className:`calendar-day ${!T&&l==="month"?"not-current-month":""} ${C?"is-today":""}`,"data-day-name":e("day_names_long")[p.getDay()],children:[h.jsx("div",{className:"day-header",children:h.jsx("span",{className:"day-number",children:p.getDate()})}),h.jsx("div",{className:"calendar-goals",children:w.map(y=>h.jsx("div",{className:`calendar-goal-item ${y.completed&&y.lastCompletedDate&&Ft(p,y.lastCompletedDate)?"completed":""}`,onClick:()=>t(y),children:y.wish},y.id))})]},p.toISOString())})})]})},cT=({title:n,message:e,onConfirm:t,onCancel:o,confirmText:r,cancelText:i,isDestructive:l,t:u})=>{const c=typeof o=="function";return h.jsx("div",{className:"modal-backdrop alert-backdrop",children:h.jsxs("div",{className:"modal-content alert-modal",children:[h.jsxs("div",{className:"alert-content",children:[h.jsx("h2",{children:n}),h.jsx("p",{dangerouslySetInnerHTML:{__html:e}})]}),h.jsxs("div",{className:"modal-buttons",children:[c&&h.jsx("button",{onClick:o,className:"secondary",children:i||u("cancel_button")}),h.jsx("button",{onClick:t,className:l?"destructive":"primary",children:r||u("confirm_button")})]})]})})},dT=Wi.createRoot(document.getElementById("root"));dT.render(h.jsx(Uc.StrictMode,{children:h.jsx(jC,{})}));
